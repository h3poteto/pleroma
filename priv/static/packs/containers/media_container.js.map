{"version":3,"sources":["webpack:///containers/media_container.js","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/node-libs-browser/node_modules/punycode/punycode.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/features/status/components/card.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/status/components/card.js","webpack:///./node_modules/core-js/library/modules/_to-object.js","webpack:///(webpack)/buildin/module.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/components/icon_button.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/components/icon_button.js","webpack:///./node_modules/dom-helpers/events/on.js","webpack:///./node_modules/dom-helpers/events/off.js","webpack:///./node_modules/lodash/throttle.js","webpack:///./node_modules/react-motion/lib/Motion.js","webpack:///./node_modules/core-js/library/modules/_iter-define.js","webpack:///./node_modules/lodash/isSymbol.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/util/optional_motion.js","webpack:///./node_modules/babel-runtime/helpers/classCallCheck.js","webpack:///./node_modules/warning/browser.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/babel-runtime/helpers/createClass.js","webpack:///./node_modules/core-js/library/modules/_object-gpo.js","webpack:///./node_modules/dom-helpers/transition/properties.js","webpack:///./node_modules/react-immutable-pure-component/lib/react-immutable-pure-component.js","webpack:///./node_modules/react-swipeable-views-core/lib/constant.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/video/index.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/ui/util/optional_motion.js","webpack:///./node_modules/react-swipeable-views/lib/index.js","webpack:///./node_modules/babel-runtime/core-js/symbol/iterator.js","webpack:///./node_modules/core-js/library/fn/symbol/iterator.js","webpack:///./node_modules/core-js/library/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/library/modules/_string-at.js","webpack:///./node_modules/core-js/library/modules/_iter-create.js","webpack:///./node_modules/core-js/library/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/library/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/library/modules/_iter-step.js","webpack:///./node_modules/babel-runtime/core-js/object/set-prototype-of.js","webpack:///./node_modules/core-js/library/fn/object/set-prototype-of.js","webpack:///./node_modules/core-js/library/modules/es6.object.set-prototype-of.js","webpack:///./node_modules/core-js/library/modules/_set-proto.js","webpack:///./node_modules/babel-runtime/core-js/object/create.js","webpack:///./node_modules/core-js/library/fn/object/create.js","webpack:///./node_modules/core-js/library/modules/es6.object.create.js","webpack:///./node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/lodash/toNumber.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/intl-format-cache/index.js","webpack:///./node_modules/intl-format-cache/lib/memoizer.js","webpack:///./node_modules/intl-format-cache/lib/es5.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/babel-runtime/core-js/object/assign.js","webpack:///./node_modules/core-js/library/fn/object/assign.js","webpack:///./node_modules/core-js/library/modules/es6.object.assign.js","webpack:///./node_modules/core-js/library/modules/_object-assign.js","webpack:///./node_modules/react-motion/lib/mapToZero.js","webpack:///./node_modules/react-motion/lib/stripStyle.js","webpack:///./node_modules/react-motion/lib/stepper.js","webpack:///./node_modules/performance-now/lib/performance-now.js","webpack:///./node_modules/raf/index.js","webpack:///./node_modules/raf/node_modules/performance-now/lib/performance-now.js","webpack:///./node_modules/babel-runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/react-motion/lib/shouldStopAnimation.js","webpack:///./node_modules/react-motion/lib/presets.js","webpack:///./node_modules/invariant/browser.js","webpack:///./node_modules/babel-runtime/helpers/inherits.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/util/is_mobile.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/is_mobile.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/initial_state.js","webpack:///./node_modules/babel-runtime/helpers/typeof.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./node_modules/react-swipeable-views/lib/SwipeableViews.js","webpack:///./node_modules/babel-runtime/core-js/object/get-prototype-of.js","webpack:///./node_modules/core-js/library/fn/object/get-prototype-of.js","webpack:///./node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/react-swipeable-views-core/lib/index.js","webpack:///./node_modules/react-swipeable-views-core/lib/checkIndexBounds.js","webpack:///./node_modules/react-swipeable-views-core/lib/computeIndex.js","webpack:///./node_modules/react-swipeable-views-core/lib/getDisplaySameSlide.js","webpack:///./node_modules/react-swipeable-views-core/lib/mod.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/features/video/index.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/ui/components/image_loader.js","webpack:///./node_modules/prop-types/index.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/util/initial_state.js","webpack:///(webpack)/buildin/global.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/ui/util/fullscreen.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/util/fullscreen.js","webpack:///./node_modules/immutable/dist/immutable.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/util/reduced_motion.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/ui/util/reduced_motion.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/components/modal_root.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/ui/components/media_modal.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/components/extended_video_player.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/ui/components/zoomable_image.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/babel-runtime/helpers/extends.js","webpack:///./node_modules/react-intl/lib/index.es.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/components/modal_root.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/features/ui/components/media_modal.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/components/extended_video_player.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/features/ui/components/image_loader.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/features/ui/components/zoomable_image.js","webpack:///./node_modules/dom-helpers/util/inDOM.js","webpack:///./node_modules/react-motion/lib/spring.js","webpack:///./node_modules/lodash/debounce.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/components/media_gallery.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/components/media_gallery.js","webpack:///./node_modules/babel-runtime/helpers/objectWithoutProperties.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/containers/media_container.js","webpack:///./node_modules/detect-passive-events/lib/index.js","webpack:///app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/containers/media_container.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/core-js/library/modules/_iterators.js"],"names":["webpackJsonp","10","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","apply","key","hasOwn","call","join","hasOwnProperty","undefined","1263","global","root","error","type","RangeError","errors","map","array","fn","result","mapDomain","string","parts","split","replace","regexSeparators","ucs2decode","value","extra","output","counter","charCodeAt","ucs2encode","stringFromCharCode","basicToDigit","codePoint","base","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","floor","damp","baseMinusTMin","tMax","skew","decode","input","out","basic","j","index","oldi","w","t","baseMinusT","inputLength","n","initialN","bias","initialBias","lastIndexOf","delimiter","maxInt","tMin","splice","encode","handledCPCount","basicLength","m","q","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","regexPunycode","test","slice","toLowerCase","toASCII","regexNonASCII","freeGlobal","nodeType","punycode","overflow","not-basic","invalid-input","Math","String","fromCharCode","version","ucs2","1295","__webpack_exports__","d","Card","_class","_temp2","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_4_react__","__WEBPACK_IMPORTED_MODULE_4_react___default","__WEBPACK_IMPORTED_MODULE_5_immutable__","__WEBPACK_IMPORTED_MODULE_5_immutable___default","__WEBPACK_IMPORTED_MODULE_6_punycode__","__WEBPACK_IMPORTED_MODULE_6_punycode___default","__WEBPACK_IMPORTED_MODULE_7_classnames__","__WEBPACK_IMPORTED_MODULE_7_classnames___default","decodeIDNA","domain","part","indexOf","a","getHostname","url","parser","document","createElement","href","hostname","_React$PureComponent","_temp","_this","_ret","this","_len","args","_key","concat","state","width","handlePhotoClick","_this$props","props","card","onOpenMedia","fromJS","get","description","meta","original","height","setRef","c","setState","offsetWidth","prototype","renderLink","_props","maxDescription","image","provider","className","src","alt","horizontal","target","rel","title","substring","renderPhoto","onClick","role","tabIndex","renderVideo","content","__html","ratio","ref","dangerouslySetInnerHTML","style","render","PureComponent","defaultProps","1303","trim","text","len","cut","domParser","DOMParser","addAutoPlay","html","parseFromString","documentElement","iframe","querySelector","innerHTML","embedded","handleEmbedClick","componentWillReceiveProps","nextProps","_state","interactive","embed","thumbnail","backgroundImage","iconVariant","144","defined","it","Object","149","webpackPolyfill","deprecate","paths","children","defineProperty","enumerable","l","151","IconButton","__WEBPACK_IMPORTED_MODULE_5_flavours_glitch_util_optional_motion__","__WEBPACK_IMPORTED_MODULE_6_react_motion_lib_spring__","__WEBPACK_IMPORTED_MODULE_6_react_motion_lib_spring___default","handleClick","e","preventDefault","disabled","_this2","fontSize","size","lineHeight","active","activeStyle","label","textAlign","animate","expanded","icon","inverted","flip","overlay","pressed","overlayed","flipDeg","rotateDeg","motionDefaultStyle","rotate","springOpts","stiffness","damping","motionStyle","defaultStyle","_ref","aria-label","aria-pressed","aria-expanded","transform","aria-hidden","153","__WEBPACK_IMPORTED_MODULE_5__features_ui_util_optional_motion__","155","_inDOM","_inDOM2","obj","__esModule","default","on","addEventListener","node","eventName","handler","capture","attachEvent","window","event","srcElement","currentTarget","156","off","removeEventListener","detachEvent","157","__WEBPACK_IMPORTED_MODULE_0_locales__","165","throttle","func","wait","options","leading","trailing","TypeError","FUNC_ERROR_TEXT","isObject","debounce","maxWait","168","_interopRequireDefault","_classCallCheck","instance","Constructor","_inherits","subClass","superClass","create","constructor","writable","configurable","setPrototypeOf","__proto__","_extends","assign","source","_createClass","defineProperties","descriptor","protoProps","staticProps","_mapToZero","_mapToZero2","_stripStyle","_stripStyle2","_stepper3","_stepper4","_performanceNow","_performanceNow2","_raf","_raf2","_shouldStopAnimation","_shouldStopAnimation2","_react","_react2","_propTypes","_propTypes2","msPerFrame","Motion","_React$Component","wasAnimating","animationID","prevTime","accumulatedTime","unreadPropStyle","clearUnreadPropStyle","destStyle","dirty","currentStyle","currentVelocity","lastIdealStyle","lastIdealVelocity","styleValue","startAnimationIfNecessary","timestamp","propsStyle","onRest","currentTime","timeDelta","currentFrameCompletion","framesToCatchUp","newLastIdealStyle","newLastIdealVelocity","newCurrentStyle","newCurrentVelocity","newLastIdealStyleValue","newLastIdealVelocityValue","_stepper","val","precision","_stepper2","nextIdealX","nextIdealV","defaultState","objectOf","number","oneOfType","object","isRequired","componentDidMount","componentWillUnmount","cancel","renderedChildren","Children","only","Component","169","LIBRARY","$export","redefine","hide","has","Iterators","$iterCreate","setToStringTag","getPrototypeOf","ITERATOR","BUGGY","keys","returnThis","Base","NAME","next","DEFAULT","IS_SET","FORCED","methods","IteratorPrototype","getMethod","kind","proto","TAG","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","name","values","P","F","170","isSymbol","isObjectLike","baseGetTag","symbolTag","198","__WEBPACK_IMPORTED_MODULE_0_flavours_glitch_util_initial_state__","__WEBPACK_IMPORTED_MODULE_1__reduced_motion__","__WEBPACK_IMPORTED_MODULE_2_react_motion_lib_Motion__","__WEBPACK_IMPORTED_MODULE_2_react_motion_lib_Motion___default","2","20","warning","202","203","_defineProperty","_defineProperty2","204","toObject","IE_PROTO","ObjectProto","O","205","animationEnd","animationDelay","animationTiming","animationDuration","animationName","transitionEnd","transitionDuration","transitionDelay","transitionTiming","transitionProperty","prefix","_getTransitionPropert","vendorMap","Moz","Webkit","ms","vendors","vendor","end","property","timing","delay","duration","21","factory","React","immutable","_possibleConstructorReturn","self","ReferenceError","ImmutablePureComponent","nextState","updateOnProps","every","p","is","updateOnStates","s","223","RESISTANCE_COEF","UNCERTAINTY_THRESHOLD","224","findElementPosition","getPointerPosition","Video","__WEBPACK_IMPORTED_MODULE_4_lodash_throttle__","__WEBPACK_IMPORTED_MODULE_4_lodash_throttle___default","__WEBPACK_IMPORTED_MODULE_5_react__","__WEBPACK_IMPORTED_MODULE_5_react___default","__WEBPACK_IMPORTED_MODULE_6_react_intl__","__WEBPACK_IMPORTED_MODULE_7_immutable__","__WEBPACK_IMPORTED_MODULE_8_classnames__","__WEBPACK_IMPORTED_MODULE_8_classnames___default","__WEBPACK_IMPORTED_MODULE_9__ui_util_fullscreen__","__WEBPACK_IMPORTED_MODULE_10__initial_state__","messages","play","id","defaultMessage","pause","mute","unmute","expand","close","fullscreen","exit_fullscreen","formatTime","secondsNum","hours","minutes","seconds","el","box","getBoundingClientRect","parentNode","left","top","docEl","body","clientLeft","scrollLeft","pageXOffset","clientTop","scrollTop","pageYOffset","round","position","boxW","boxH","offsetHeight","boxY","boxX","pageY","pageX","changedTouches","y","max","min","x","paused","dragging","containerWidth","hovered","muted","revealed","sensitive","setPlayerRef","player","setVideoRef","video","setSeekRef","seek","handleClickRoot","stopPropagation","handlePlay","handlePause","handleTimeUpdate","handleMouseDown","handleMouseMove","handleMouseUp","_getPointerPosition","togglePlay","toggleFullscreen","handleFullscreenChange","handleMouseEnter","handleMouseLeave","toggleMute","toggleReveal","handleLoadedData","startTime","handleProgress","buffered","buffer","handleOpenVideo","preview","media","preview_url","onOpenVideo","handleCloseVideo","onCloseVideo","inline","intl","detailed","progress","playerStyle","_props2","inactive","onMouseEnter","onMouseLeave","poster","preload","loop","onPlay","onPause","onTimeUpdate","onLoadedData","onProgress","onMouseDown","formatMessage","fa-play","fa-pause","fa-volume-off","fa-volume-up","fa-arrows-alt","fa-compress","235","__WEBPACK_IMPORTED_MODULE_0__initial_state__","262","_SwipeableViews","_SwipeableViews2","264","265","f","266","$at","iterated","_t","_i","point","done","267","toInteger","TO_STRING","that","pos","b","charAt","268","269","TO_STRING_TAG","DOMIterables","Collection","270","addToUnscopables","step","toIObject","_k","Arguments","271","272","273","274","275","S","set","276","anObject","check","buggy","Function","277","278","$Object","D","279","28","getPropType","propValue","propType","RegExp","Immutable","Iterable","toSource","createChainableTypeChecker","validate","checkType","propName","componentName","location","propFullName","rest","ANONYMOUS","locationName","Error","chainedCheckType","bind","createImmutableTypeChecker","immutableClassName","immutableClassTypeValidator","createIterableTypeChecker","typeChecker","propValues","toArray","createKeysTypeChecker","keySeq","createListOfTypeChecker","List","isList","createMapOfTypeCheckerFactory","valuesTypeChecker","keysTypeChecker","createMapOfTypeChecker","Map","isMap","createOrderedMapOfTypeChecker","OrderedMap","isOrderedMap","createSetOfTypeChecker","Set","isSet","createOrderedSetOfTypeChecker","OrderedSet","isOrderedSet","createStackOfTypeChecker","Stack","isStack","createIterableOfTypeChecker","isIterable","createRecordOfTypeChecker","recordKeys","Record","checker","mutablePropValue","createShapeTypeChecker","shapeTypes","createShapeChecker","createMapContainsChecker","ImmutablePropTypes","listOf","mapOf","orderedMapOf","setOf","orderedSetOf","stackOf","iterableOf","recordOf","shape","contains","mapContains","list","orderedMap","orderedSet","stack","seq","Seq","isSeq","record","isRecord","iterable","280","emptyFunction","invariant","ReactPropTypesSecret","shim","secret","getShim","ReactPropTypes","bool","symbol","any","arrayOf","element","instanceOf","oneOf","exact","checkPropTypes","PropTypes","281","282","now","Date","283","toNumber","NAN","other","valueOf","reTrim","isBinary","reIsBinary","reIsOctal","freeParseInt","reIsBadHex","parseInt","284","getRawTag","isOwn","symToStringTag","tag","unmasked","nativeObjectToString","Symbol","objectProto","toString","toStringTag","285","objectToString","286","287","288","createFormatCache","FormatConstructor","cache","src$es5$$","objCreate","cacheId","getCacheId","format","inputs","JSON","orderedProps","stringify","prop","orderedKeys","sort","289","oThis","aArgs","fToBind","fNOP","fBound","hop","realDefineProp","__defineGetter__","desc","29","freeSelf","290","291","292","293","getKeys","gOPS","pIE","IObject","$assign","A","B","K","forEach","T","aLen","getSymbols","isEnum","294","mapToZero","ret","295","stripStyle","296","stepper","secondPerFrame","v","destX","Fspring","Fdamper","newV","newX","abs","reusedTuple","297","process","getNanoSeconds","hrtime","loadTime","performance","hr","getTime","298","suffix","raf","caf","last","queue","callback","_now","setTimeout","cp","cancelled","handle","polyfill","requestAnimationFrame","cancelAnimationFrame","299","moduleLoadTime","nodeLoadTime","upTime","uptime","3","_typeof2","_typeof3","300","shouldStopAnimation","301","noWobble","gentle","wobbly","stiff","35","condition","argIndex","framesToPop","4","_setPrototypeOf","_setPrototypeOf2","_create","_create2","403","isMobile","columns","LAYOUT_BREAKPOINT","touchListener","userTouching","listenerOptions","isUserTouching","isIOS","iOS","__WEBPACK_IMPORTED_MODULE_0_detect_passive_events__","__WEBPACK_IMPORTED_MODULE_0_detect_passive_events___default","navigator","userAgent","MSStream","hasSupport","passive","404","43","reduceMotion","autoPlayGif","displaySensitiveMedia","unfollowModal","boostModal","deleteModal","me","searchEnabled","charLimit","getElementById","initialState","parse","textContent","getMeta","44","_iterator","_iterator2","_symbol","_symbol2","_typeof","45","468","core","fails","KEY","exec","exp","469","addEventListenerEnhanced","_on2","remove","_off2","injectStyle","styleInjected","appendChild","createTransition","easeFunction","applyRotationMatrix","touch","axis","rotationMatrix","axisProperties","adaptMouse","touches","getDomTreeShapes","rootNode","domTreeShapes","hasAttribute","getComputedStyle","getPropertyValue","clientWidth","scrollWidth","clientHeight","scrollHeight","findNativeHandler","params","startX","some","goingForward","scrollPosition","areNotAtStart","areNotAtEnd","clientLength","scrollLength","nodeHowClaimedTheScroll","_extends2","_extends3","_objectWithoutProperties2","_objectWithoutProperties3","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_warning","_properties","_properties2","_on","_off","_reactSwipeableViewsCore","styles","container","direction","display","willChange","slide","WebkitFlexShrink","flexShrink","overflowX","x-reverse","overflowY","y-reverse","flexDirection","translate","SwipeableViews","_Component","indexLatest","isDragging","isFirstRender","heightLatest","displaySameSlide","containerNode","ignoreNextScrollEvents","viewLength","lastX","vx","startY","isSwiping","started","startIndex","transitionListener","touchMoveListener","activeSlide","indexCurrent","handleSwipeStart","computedStyle","transformValues","rootStyle","tranformNormalized","paddingLeft","paddingRight","handleSwipeMove","handleTouchStart","ignoreNativeScroll","onSwitching","resistance","dx","dy","constant","count","_computeIndex","computeIndex","setIndexCurrent","handleSwipeEnd","indexNew","threshold","ceil","hysteresis","indexMax","onChangeIndex","reason","handleTransitionEnd","onTouchStart","handleTouchEnd","onTouchEnd","persist","onMouseUp","onMouseMove","handleScroll","onScroll","updateHeight","child","swipeableViews","slideUpdateHeight","_this3","action","getDisplaySameSlide","animateTransitions","WebkitTransform","onTransitionEnd","_this4","animateHeight","containerStyleProp","containerStyle","disableLazyLoading","enableMouseEvents","slideStyleProp","slideStyle","slideClassName","springConfig","touchEvents","mouseEvents","transition","WebkitTransition","additionalTranstion","WebkitFlexDirection","indexChild","hidden","data-swipeable","displayName","propTypes","childContextTypes","470","471","472","$getPrototypeOf","473","474","475","476","_checkIndexBounds","_constant","_getDisplaySameSlide","_mod","477","checkIndexBounds","478","newStartX","_constant2","479","oldChildren","oldKey","newChildren","480","mod","488","__WEBPACK_IMPORTED_MODULE_9_flavours_glitch_util_fullscreen__","__WEBPACK_IMPORTED_MODULE_10_flavours_glitch_util_initial_state__","letterbox","fullwidth","full-width","490","ImageLoader","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_6_classnames__","__WEBPACK_IMPORTED_MODULE_6_classnames___default","__WEBPACK_IMPORTED_MODULE_7__zoomable_image__","loading","removers","canvas","loadPreviewCanvas","previewSrc","Promise","resolve","reject","Image","removeEventListeners","handleError","handleLoad","canvasContext","drawImage","loadOriginalImage","_ref2","setCanvasRef","loadImage","all","hasSize","filter","Boolean","then","clearPreviewCanvas","catch","_canvas","clearRect","listeners","image-loader--loading","image-loader--amorphous","_canvasContext","getContext","5","53","favouriteModal","maxChars","local_settings","localStorage","getItem","max_toot_chars","56","g","eval","582","isFullscreen","exitFullscreen","requestFullscreen","attachFullscreenListener","detachFullscreenListener","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","webkitExitFullscreen","mozCancelFullScreen","webkitRequestFullscreen","mozRequestFullScreen","listener","592","6","createClass","ctor","KeyedIterable","isKeyed","KeyedSeq","IndexedIterable","isIndexed","IndexedSeq","SetIterable","isAssociative","SetSeq","maybeIterable","IS_ITERABLE_SENTINEL","maybeKeyed","IS_KEYED_SENTINEL","maybeIndexed","IS_INDEXED_SENTINEL","maybeAssociative","isOrdered","maybeOrdered","IS_ORDERED_SENTINEL","MakeRef","SetRef","OwnerID","arrCopy","arr","offset","newArr","ii","ensureSize","iter","__iterate","returnTrue","wrapIndex","uint32Index","NaN","wholeSlice","begin","resolveBegin","resolveIndex","resolveEnd","defaultIndex","Iterator","iteratorValue","iteratorResult","iteratorDone","hasIterator","getIteratorFn","isIterator","maybeIterator","getIterator","iteratorFn","REAL_ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","isArrayLike","emptySequence","toSeq","seqFromValue","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","entrySeq","toIndexedSeq","indexedSeqFromValue","toSetSeq","ArraySeq","_array","ObjectSeq","_object","_keys","IterableSeq","_iterable","IteratorSeq","iterator","_iteratorCache","maybeSeq","IS_SEQ_SENTINEL","EMPTY_SEQ","maybeIndexedSeqFromValue","seqIterate","reverse","useKeys","_cache","maxIndex","entry","__iterateUncached","seqIterator","__iteratorUncached","json","converter","fromJSWith","","fromJSDefault","parentJSON","isPlainObj","toList","toMap","valueA","valueB","equals","deepEqual","__hash","notAssociative","flipped","cacheResult","_","allEqual","bSize","NOT_SET","Repeat","times","_value","Infinity","EMPTY_REPEAT","Range","start","_start","_end","_step","EMPTY_RANGE","KeyedCollection","IndexedCollection","SetCollection","smi","i32","hash","o","h","STRING_HASH_CACHE_MIN_STRLEN","cachedHashString","hashString","hashCode","hashJSObj","stringHashCache","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","getIENodeHash","objHashUID","isExtensible","uniqueID","assertNotInfinite","emptyMap","withMutations","maybeMap","IS_MAP_SENTINEL","ArrayMapNode","ownerID","BitmapIndexedNode","bitmap","nodes","HashArrayMapNode","HashCollisionNode","keyHash","ValueNode","MapIterator","_type","_reverse","_stack","_root","mapIteratorFrame","mapIteratorValue","prev","__prev","makeMap","MapPrototype","__ownerID","__altered","EMPTY_MAP","updateMap","newRoot","newSize","didChangeSize","CHANGE_LENGTH","didAlter","DID_ALTER","updateNode","shift","update","isLeafNode","mergeIntoNode","newNode","idx1","MASK","idx2","SHIFT","createNodes","packNodes","excluding","packedII","packedNodes","bit","expandNodes","including","expandedNodes","SIZE","mergeIntoMapWith","merger","iterables","iters","mergeIntoCollectionWith","deepMerger","existing","mergeDeep","deepMergerWith","mergeDeepWith","nextValue","collection","mergeIntoMap","updateInDeepMap","keyPathIter","notSetValue","updater","isNotSet","existingValue","newValue","nextExisting","nextUpdated","popCount","setIn","idx","canEdit","newArray","spliceIn","newLen","after","spliceOut","pop","empty","emptyList","makeList","VNode","setSize","maybeList","IS_LIST_SENTINEL","iterateList","iterateNodeOrLeaf","level","iterateLeaf","iterateNode","tailPos","tail","from","to","right","DONE","_origin","_capacity","getTailOffset","_tail","_level","origin","capacity","ListPrototype","EMPTY_LIST","updateList","setListBounds","newTail","updateVNode","nodeHas","lowerNode","newLowerNode","editableVNode","listNodeFor","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","clear","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","removeAfter","removeBefore","beginIndex","mergeIntoListWith","maxSize","emptyOrderedMap","maybeOrderedMap","makeOrderedMap","omap","_map","_list","EMPTY_ORDERED_MAP","updateOrderedMap","newMap","newList","ToKeyedSequence","indexed","_iter","_useKeys","ToIndexedSequence","ToSetSequence","FromEntriesSequence","flipFactory","flipSequence","makeSequence","reversedSequence","includes","cacheResultThrough","this$0","ITERATE_ENTRIES","__iterator","ITERATE_VALUES","ITERATE_KEYS","mapFactory","mapper","context","mappedSequence","reverseFactory","filterFactory","predicate","filterSequence","iterations","countByFactory","grouper","groups","asMutable","asImmutable","groupByFactory","isKeyedIter","coerce","iterableClass","reify","sliceFactory","originalSize","resolvedBegin","resolvedEnd","sliceSize","resolvedSize","sliceSeq","skipped","isSkipping","takeWhileFactory","takeSequence","iterating","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedIterable","singleton","concatSeq","flatten","reduce","sum","flattenFactory","depth","flatSequence","flatDeep","currentDepth","stopped","flatMapFactory","interposeFactory","separator","interposedSequence","sortFactory","comparator","defaultComparator","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipSequence","iterators","isDone","steps","validateEntry","resolveSize","forceIterator","keyPath","defaultValues","hasInitialized","RecordType","setProps","RecordTypePrototype","_name","_defaultValues","RecordPrototype","makeRecord","likeRecord","recordName","names","setProp","emptySet","add","maybeSet","IS_SET_SENTINEL","updateSet","__empty","__make","makeSet","SetPrototype","EMPTY_SET","emptyOrderedSet","maybeOrderedSet","makeOrderedSet","OrderedSetPrototype","EMPTY_ORDERED_SET","emptyStack","unshiftAll","maybeStack","IS_STACK_SENTINEL","makeStack","head","StackPrototype","_head","EMPTY_STACK","mixin","keyCopier","getOwnPropertySymbols","keyMapper","entryMapper","not","neg","quoteString","defaultZipper","defaultNegComparator","hashIterable","ordered","keyed","murmurHashOfSize","hashMerge","imul","SLICE$0","Keyed","Indexed","ITERATOR_SYMBOL","KEYS","VALUES","ENTRIES","inspect","of","__toString","searchValue","possibleIndex","offsetValue","WeakMap","keyValues","updateIn","deleteIn","updatedValue","merge","mergeWith","mergeIn","mergeDeepIn","sortBy","mutable","wasAltered","__ensureOwner","iterate","removeIn","removed","exists","MAX_ARRAY_MAP_SIZE","isEditable","newEntries","keyHashFrag","MAX_BITMAP_INDEXED_SIZE","newBitmap","newNodes","newCount","MIN_HASH_ARRAY_MAP_SIZE","keyMatch","subNode","insert","oldSize","unshift","originIndex","newChild","removingFirst","oldChild","editable","sizeIndex","valueSeq","indexedIterable","defaultVal","_empty","fromKeys","union","intersect","originalSet","subtract","peek","pushAll","toJS","__toJS","toJSON","toOrderedMap","toOrderedSet","toSet","toStack","__toStringMapper","returnValue","find","findEntry","sideEffect","joined","isFirst","reducer","initialReduction","reduction","useFirst","reduceRight","reversed","butLast","isEmpty","countBy","entriesSequence","filterNot","found","findKey","findLast","findLastEntry","findLastKey","first","flatMap","searchKey","getIn","searchKeyPath","nested","groupBy","hasIn","isSubset","isSuperset","keyOf","lastKeyOf","maxBy","minBy","skip","amount","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeUntil","IterablePrototype","chain","mapEntries","mapKeys","KeyedIterablePrototype","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interleave","zipped","interleaved","zip","zipWith","60","undefinedTag","nullTag","602","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof___default","__WEBPACK_IMPORTED_MODULE_6_react_motion_lib_Motion__","__WEBPACK_IMPORTED_MODULE_6_react_motion_lib_Motion___default","stylesToKeep","extractValue","ReducedMotion","604","605","ModalRoot","activeElement","handleKeyUp","keyCode","onClose","getSiblings","parentElement","childNodes","sibling","setAttribute","componentDidUpdate","prevProps","removeAttribute","focus","visible","opacity","pointerEvents","606","MediaModal","_class2","__WEBPACK_IMPORTED_MODULE_5_react_swipeable_views__","__WEBPACK_IMPORTED_MODULE_5_react_swipeable_views___default","__WEBPACK_IMPORTED_MODULE_6_react_immutable_proptypes__","__WEBPACK_IMPORTED_MODULE_6_react_immutable_proptypes___default","__WEBPACK_IMPORTED_MODULE_7_prop_types__","__WEBPACK_IMPORTED_MODULE_7_prop_types___default","__WEBPACK_IMPORTED_MODULE_8__video__","__WEBPACK_IMPORTED_MODULE_9__components_extended_video_player__","__WEBPACK_IMPORTED_MODULE_10_classnames__","__WEBPACK_IMPORTED_MODULE_10_classnames___default","__WEBPACK_IMPORTED_MODULE_11_react_intl__","__WEBPACK_IMPORTED_MODULE_12__components_icon_button__","__WEBPACK_IMPORTED_MODULE_13_react_immutable_pure_component__","__WEBPACK_IMPORTED_MODULE_13_react_immutable_pure_component___default","__WEBPACK_IMPORTED_MODULE_14__image_loader__","previous","_ImmutablePureCompone","navigationHidden","handleSwipe","handleNextClick","getIndex","handlePrevClick","handleChangeIndex","Number","getAttribute","toggleNavigation","prevState","pagination","leftNav","rightNav","item","data-index","time","controls","swipeableViewsStyle","alignItems","navigationClassName","media-modal__navigation--hidden","handleSwitching","607","ExtendedVideoPlayer","autoPlay","608","ZoomableImage","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_3_react__","__WEBPACK_IMPORTED_MODULE_3_react___default","MIN_SCALE","MAX_SCALE","getMidpoint","p1","p2","clientX","clientY","getDistance","sqrt","pow","clamp","scale","lastTouchEndTime","lastDistance","handleTouchMove","_this$container","distance","midpoint","zoom","lastMidpoint","setContainerRef","setImageRef","nextScale","_container","nextScrollLeft","nextScrollTop","transformOrigin","61","62","_assign","_assign2","7","addLocaleData","data","localeData","locale","__WEBPACK_IMPORTED_MODULE_1_intl_messageformat___default","__addLocaleData","__WEBPACK_IMPORTED_MODULE_2_intl_relativeformat___default","hasLocaleData","localeParts","hasIMFAndIRFLocaleData","normalizedLocale","__localeData__","escape","str","UNSAFE_CHARS_REGEX","match","ESCAPED_CHARS","filterProps","whitelist","defaults$$1","filtered","invariantIntlContext","__WEBPACK_IMPORTED_MODULE_5_invariant___default","shallowEquals","objA","objB","keysA","keysB","bHasOwnProperty","shouldIntlComponentUpdate","_ref2$context","nextContext","_context$intl","_nextContext$intl","nextIntl","intlConfigPropNames","getDisplayName","Component$$1","injectIntl","WrappedComponent","_options$intlPropName","intlPropName","_options$withRef","withRef","InjectIntl","classCallCheck","possibleConstructorReturn","inherits","refs","wrappedInstance","contextTypes","intlShape","defineMessages","messageDescriptors","resolveLocale","locales","_resolveLocale","findPluralFunction","_findPluralRuleFunction","updateRelativeFormatThresholds","newThresholds","thresholds","second","minute","hour","day","month","getNamedFormat","formats","formatDate","config","date","filteredOptions","DATE_TIME_FORMAT_OPTIONS","getDateTimeFormat","formatRelative","RELATIVE_FORMAT_OPTIONS","oldThresholds","RELATIVE_FORMAT_THRESHOLDS","getRelativeFormat","isFinite","formatNumber","NUMBER_FORMAT_OPTIONS","getNumberFormat","formatPlural","PLURAL_FORMAT_OPTIONS","getPluralFormat","messageDescriptor","defaultLocale","defaultFormats","message","formattedMessage","getMessageFormat","formatHTMLMessage","rawValues","escaped","selectUnits","absDelta","MINUTE","HOUR","DAY","getUnitDelay","units","SECOND","MAX_TIMER_DELAY","isSameDate","aTime","bTime","IntlProvider","FormattedDate","FormattedNumber","FormattedMessage","__WEBPACK_IMPORTED_MODULE_0__locale_data_index_js__","__WEBPACK_IMPORTED_MODULE_0__locale_data_index_js___default","__WEBPACK_IMPORTED_MODULE_1_intl_messageformat__","__WEBPACK_IMPORTED_MODULE_2_intl_relativeformat__","__WEBPACK_IMPORTED_MODULE_3_prop_types__","__WEBPACK_IMPORTED_MODULE_3_prop_types___default","__WEBPACK_IMPORTED_MODULE_5_invariant__","__WEBPACK_IMPORTED_MODULE_6_intl_format_cache__","__WEBPACK_IMPORTED_MODULE_6_intl_format_cache___default","defaultLocaleData","pluralRuleFunction","ord","v0","t0","n10","n100","fields","year","relative","0","1","-1","relativeTime","future","one","past","objectWithoutProperties","toConsumableArray","arr2","localeMatcher","narrowShortLong","numeric2digit","funcReq","intlConfigPropTypes","textComponent","intlFormatPropTypes","formatters","dateTimeFormatPropTypes","formatMatcher","timeZone","hour12","weekday","era","timeZoneName","numberFormatPropTypes","currency","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","relativeFormatPropTypes","pluralFormatPropTypes","&",">","<","\"","'","IntlPluralFormat","useOrdinal","pluralFn","freeze","intlConfigPropNames$1","intlFormatPropNames","Intl","intlContext","initialNow","_ref$formatters","DateTimeFormat","NumberFormat","_didDisplay","_config","boundFormatFns","getConfig","getBoundFormatFns","Text","formattedDate","FormattedTime","formattedTime","FormattedRelative","clearTimeout","_timer","updateInterval","unitDelay","unitRemainder","scheduleNextUpdate","formattedRelative","formattedNumber","FormattedPlural","pluralCategory","formattedPlural","nextPropsToCheck","_props$tagName","tagName","tokenDelimiter","tokenizedValues","elements","uid","random","generateToken","token","FormattedHTMLMessage","formattedHTMLMessage","742","noEsc","743","__WEBPACK_IMPORTED_MODULE_8_flavours_glitch_features_video__","__WEBPACK_IMPORTED_MODULE_9_flavours_glitch_components_extended_video_player__","__WEBPACK_IMPORTED_MODULE_12_flavours_glitch_components_icon_button__","744","745","746","75","78","spring","defaultConfig","_presets","_presets2","80","invokeFunc","lastArgs","thisArg","lastThis","lastInvokeTime","leadingEdge","timerId","timerExpired","remainingWait","timeSinceLastCall","lastCallTime","timeSinceLastInvoke","maxing","nativeMin","shouldInvoke","trailingEdge","flush","debounced","isInvoking","nativeMax","846","MediaGallery","_class3","_temp4","__WEBPACK_IMPORTED_MODULE_6__icon_button__","__WEBPACK_IMPORTED_MODULE_7_react_intl__","__WEBPACK_IMPORTED_MODULE_8_flavours_glitch_util_is_mobile__","__WEBPACK_IMPORTED_MODULE_9_classnames__","__WEBPACK_IMPORTED_MODULE_9_classnames___default","toggle","toggle_visible","Item","hoverToPlay","button","attachment","standalone","displayWidth","bottom","previewUrl","previewWidth","originalUrl","originalWidth","srcSet","sizes","focusX","focusY","objectPosition","autoplay","_React$PureComponent2","_temp3","_ret2","_len2","_key2","handleOpen","handleRef","isStandaloneEligible","_props3","computedClass","847","__WEBPACK_IMPORTED_MODULE_8__is_mobile__","spoiler-button--visible","87","882","MediaContainer","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_objectWithoutProperties__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_objectWithoutProperties___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_6_react__","__WEBPACK_IMPORTED_MODULE_6_react___default","__WEBPACK_IMPORTED_MODULE_7_react_dom__","__WEBPACK_IMPORTED_MODULE_7_react_dom___default","__WEBPACK_IMPORTED_MODULE_8_react_intl__","__WEBPACK_IMPORTED_MODULE_9_mastodon_locales__","__WEBPACK_IMPORTED_MODULE_10_flavours_glitch_components_media_gallery__","__WEBPACK_IMPORTED_MODULE_11_flavours_glitch_features_video__","__WEBPACK_IMPORTED_MODULE_12_flavours_glitch_features_status_components_card__","__WEBPACK_IMPORTED_MODULE_13_flavours_glitch_components_modal_root__","__WEBPACK_IMPORTED_MODULE_14_flavours_glitch_features_ui_components_media_modal__","__WEBPACK_IMPORTED_MODULE_15_immutable__","_getLocale","MEDIA_COMPONENTS","_PureComponent","handleOpenMedia","classList","handleCloseMedia","components","component","_JSON$parse","createPortal","89","detectPassiveEvents","noop","914","__WEBPACK_IMPORTED_MODULE_9__locales__","__WEBPACK_IMPORTED_MODULE_10__components_media_gallery__","__WEBPACK_IMPORTED_MODULE_11__features_video__","__WEBPACK_IMPORTED_MODULE_12__features_status_components_card__","__WEBPACK_IMPORTED_MODULE_13__components_modal_root__","__WEBPACK_IMPORTED_MODULE_14__features_ui_components_media_modal__","95","96"],"mappings":"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","file":"containers/media_container.js","sourcesContent":["webpackJsonp([2,67,69,70],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (true) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn classNames;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n})();\n\n/***/ }),\n\n/***/ 1263:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function (root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module && !module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n  * The `punycode` object.\n  * @name punycode\n  * @type Object\n  */\n\tvar punycode,\n\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647,\n\t    // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\t    tMin = 1,\n\t    tMax = 26,\n\t    skew = 38,\n\t    damp = 700,\n\t    initialBias = 72,\n\t    initialN = 128,\n\t    // 0x80\n\tdelimiter = '-',\n\t    // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\t    regexNonASCII = /[^\\x20-\\x7E]/,\n\t    // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g,\n\t    // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\t    floor = Math.floor,\n\t    stringFromCharCode = String.fromCharCode,\n\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n  * A generic error utility function.\n  * @private\n  * @param {String} type The error type.\n  * @returns {Error} Throws a `RangeError` with the applicable error message.\n  */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n  * A generic `Array#map` utility function.\n  * @private\n  * @param {Array} array The array to iterate over.\n  * @param {Function} callback The function that gets called for every array\n  * item.\n  * @returns {Array} A new array of values returned by the callback function.\n  */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n  * A simple `Array#map`-like wrapper to work with domain name strings or email\n  * addresses.\n  * @private\n  * @param {String} domain The domain name or email address.\n  * @param {Function} callback The function that gets called for every\n  * character.\n  * @returns {Array} A new string of characters returned by the callback\n  * function.\n  */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n  * Creates an array containing the numeric code points of each Unicode\n  * character in the string. While JavaScript uses UCS-2 internally,\n  * this function will convert a pair of surrogate halves (each of which\n  * UCS-2 exposes as separate characters) into a single code point,\n  * matching UTF-16.\n  * @see `punycode.ucs2.encode`\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode.ucs2\n  * @name decode\n  * @param {String} string The Unicode input string (UCS-2).\n  * @returns {Array} The new array of code points.\n  */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t\t// low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n  * Creates a string based on an array of numeric code points.\n  * @see `punycode.ucs2.decode`\n  * @memberOf punycode.ucs2\n  * @name encode\n  * @param {Array} codePoints The array of numeric code points.\n  * @returns {String} The new Unicode string (UCS-2).\n  */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function (value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n  * Converts a basic code point into a digit/integer.\n  * @see `digitToBasic()`\n  * @private\n  * @param {Number} codePoint The basic numeric code point value.\n  * @returns {Number} The numeric value of a basic code point (for use in\n  * representing integers) in the range `0` to `base - 1`, or `base` if\n  * the code point does not represent a value.\n  */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n  * Converts a digit/integer into a basic code point.\n  * @see `basicToDigit()`\n  * @private\n  * @param {Number} digit The numeric value of a basic code point.\n  * @returns {Number} The basic code point whose value (when used for\n  * representing integers) is `digit`, which needs to be in the range\n  * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n  * used; else, the lowercase form is used. The behavior is undefined\n  * if `flag` is non-zero and `digit` has no uppercase form.\n  */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n  * Bias adaptation function as per section 3.4 of RFC 3492.\n  * https://tools.ietf.org/html/rfc3492#section-3.4\n  * @private\n  */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n  * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n  * symbols.\n  * @memberOf punycode\n  * @param {String} input The Punycode string of ASCII-only symbols.\n  * @returns {String} The resulting string of Unicode symbols.\n  */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\n\t\t/** Cached calculation results */\n\t\tbaseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n  * Converts a string of Unicode symbols (e.g. a domain name label) to a\n  * Punycode string of ASCII-only symbols.\n  * @memberOf punycode\n  * @param {String} input The string of Unicode symbols.\n  * @returns {String} The resulting Punycode string of ASCII-only symbols.\n  */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\n\t\t/** `inputLength` will hold the number of code points in `input`. */\n\t\tinputLength,\n\n\t\t/** Cached calculation results */\n\t\thandledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n  * Converts a Punycode string representing a domain name or an email address\n  * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n  * it doesn't matter if you call it on a string that has already been\n  * converted to Unicode.\n  * @memberOf punycode\n  * @param {String} input The Punycoded domain name or email address to\n  * convert to Unicode.\n  * @returns {String} The Unicode representation of the given Punycode\n  * string.\n  */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function (string) {\n\t\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t\t});\n\t}\n\n\t/**\n  * Converts a Unicode string representing a domain name or an email address to\n  * Punycode. Only the non-ASCII parts of the domain name will be converted,\n  * i.e. it doesn't matter if you call it with a domain that's already in\n  * ASCII.\n  * @memberOf punycode\n  * @param {String} input The domain name or email address to convert, as a\n  * Unicode string.\n  * @returns {String} The Punycode representation of the given domain name or\n  * email address.\n  */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function (string) {\n\t\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n   * A string representing the current Punycode.js version number.\n   * @memberOf punycode\n   * @type String\n   */\n\t\t'version': '1.4.1',\n\t\t/**\n   * An object of methods to convert from JavaScript's internal character\n   * representation (UCS-2) to Unicode code points, and back.\n   * @see <https://mathiasbynens.be/notes/javascript-encoding>\n   * @memberOf punycode\n   * @type Object\n   */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn punycode;\n\t\t}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n})(this);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(149)(module), __webpack_require__(56)))\n\n/***/ }),\n\n/***/ 1295:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Card; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_immutable__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_immutable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_immutable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_punycode__ = __webpack_require__(1263);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_punycode___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_punycode__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_classnames__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_classnames__);\n\n\n\n\n\nvar _class, _temp2;\n\n\n\n\n\n\n\n\nvar IDNA_PREFIX = 'xn--';\n\nvar decodeIDNA = function decodeIDNA(domain) {\n  return domain.split('.').map(function (part) {\n    return part.indexOf(IDNA_PREFIX) === 0 ? __WEBPACK_IMPORTED_MODULE_6_punycode___default.a.decode(part.slice(IDNA_PREFIX.length)) : part;\n  }).join('.');\n};\n\nvar getHostname = function getHostname(url) {\n  var parser = document.createElement('a');\n  parser.href = url;\n  return parser.hostname;\n};\n\nvar Card = (_temp2 = _class = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(Card, _React$PureComponent);\n\n  function Card() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Card);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.state = {\n      width: 0\n    }, _this.handlePhotoClick = function () {\n      var _this$props = _this.props,\n          card = _this$props.card,\n          onOpenMedia = _this$props.onOpenMedia;\n\n\n      onOpenMedia(__WEBPACK_IMPORTED_MODULE_5_immutable___default.a.fromJS([{\n        type: 'image',\n        url: card.get('url'),\n        description: card.get('title'),\n        meta: {\n          original: {\n            width: card.get('width'),\n            height: card.get('height')\n          }\n        }\n      }]), 0);\n    }, _this.setRef = function (c) {\n      if (c) {\n        _this.setState({ width: c.offsetWidth });\n      }\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  Card.prototype.renderLink = function renderLink() {\n    var _props = this.props,\n        card = _props.card,\n        maxDescription = _props.maxDescription;\n\n\n    var image = '';\n    var provider = card.get('provider_name');\n\n    if (card.get('image')) {\n      image = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: 'status-card__image'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('img', {\n        src: card.get('image'),\n        alt: card.get('title'),\n        className: 'status-card__image-image',\n        width: card.get('width'),\n        height: card.get('height')\n      }));\n    }\n\n    if (provider.length < 1) {\n      provider = decodeIDNA(getHostname(card.get('url')));\n    }\n\n    var className = __WEBPACK_IMPORTED_MODULE_7_classnames___default()('status-card', {\n      'horizontal': card.get('width') > card.get('height')\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('a', {\n      href: card.get('url'),\n      className: className,\n      target: '_blank',\n      rel: 'noopener'\n    }, void 0, image, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: 'status-card__content'\n    }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('strong', {\n      className: 'status-card__title',\n      title: card.get('title')\n    }, void 0, card.get('title')), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('p', {\n      className: 'status-card__description'\n    }, void 0, (card.get('description') || '').substring(0, maxDescription)), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n      className: 'status-card__host'\n    }, void 0, provider)));\n  };\n\n  Card.prototype.renderPhoto = function renderPhoto() {\n    var card = this.props.card;\n\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('img', {\n      className: 'status-card-photo',\n      onClick: this.handlePhotoClick,\n      role: 'button',\n      tabIndex: '0',\n      src: card.get('url'),\n      alt: card.get('title'),\n      width: card.get('width'),\n      height: card.get('height')\n    });\n  };\n\n  Card.prototype.renderVideo = function renderVideo() {\n    var card = this.props.card;\n\n    var content = { __html: card.get('html') };\n    var width = this.state.width;\n\n    var ratio = card.get('width') / card.get('height');\n    var height = card.get('width') > card.get('height') ? width / ratio : width * ratio;\n\n    return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement('div', {\n      ref: this.setRef,\n      className: 'status-card-video',\n      dangerouslySetInnerHTML: content,\n      style: { height: height }\n    });\n  };\n\n  Card.prototype.render = function render() {\n    var card = this.props.card;\n\n\n    if (card === null) {\n      return null;\n    }\n\n    switch (card.get('type')) {\n      case 'link':\n        return this.renderLink();\n      case 'photo':\n        return this.renderPhoto();\n      case 'video':\n        return this.renderVideo();\n      case 'rich':\n      default:\n        return null;\n    }\n  };\n\n  return Card;\n}(__WEBPACK_IMPORTED_MODULE_4_react___default.a.PureComponent), _class.defaultProps = {\n  maxDescription: 50\n}, _temp2);\n\n\n/***/ }),\n\n/***/ 1303:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Card; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_immutable__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_immutable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_immutable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_punycode__ = __webpack_require__(1263);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_punycode___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_punycode__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_classnames__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_classnames__);\n\n\n\n\n\nvar _class, _temp2;\n\n\n\n\n\n\n\n\nvar IDNA_PREFIX = 'xn--';\n\nvar decodeIDNA = function decodeIDNA(domain) {\n  return domain.split('.').map(function (part) {\n    return part.indexOf(IDNA_PREFIX) === 0 ? __WEBPACK_IMPORTED_MODULE_6_punycode___default.a.decode(part.slice(IDNA_PREFIX.length)) : part;\n  }).join('.');\n};\n\nvar getHostname = function getHostname(url) {\n  var parser = document.createElement('a');\n  parser.href = url;\n  return parser.hostname;\n};\n\nvar trim = function trim(text, len) {\n  var cut = text.indexOf(' ', len);\n\n  if (cut === -1) {\n    return text;\n  }\n\n  return text.substring(0, cut) + (text.length > len ? '…' : '');\n};\n\nvar domParser = new DOMParser();\n\nvar addAutoPlay = function addAutoPlay(html) {\n  var document = domParser.parseFromString(html, 'text/html').documentElement;\n  var iframe = document.querySelector('iframe');\n\n  if (iframe) {\n    if (iframe.src.indexOf('?') !== -1) {\n      iframe.src += '&';\n    } else {\n      iframe.src += '?';\n    }\n\n    iframe.src += 'autoplay=1&auto_play=1';\n\n    // DOM parser creates html/body elements around original HTML fragment,\n    // so we need to get innerHTML out of the body and not the entire document\n    return document.querySelector('body').innerHTML;\n  }\n\n  return html;\n};\n\nvar Card = (_temp2 = _class = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(Card, _React$PureComponent);\n\n  function Card() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Card);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.state = {\n      width: 280,\n      embedded: false\n    }, _this.handlePhotoClick = function () {\n      var _this$props = _this.props,\n          card = _this$props.card,\n          onOpenMedia = _this$props.onOpenMedia;\n\n\n      onOpenMedia(__WEBPACK_IMPORTED_MODULE_5_immutable___default.a.fromJS([{\n        type: 'image',\n        url: card.get('embed_url'),\n        description: card.get('title'),\n        meta: {\n          original: {\n            width: card.get('width'),\n            height: card.get('height')\n          }\n        }\n      }]), 0);\n    }, _this.handleEmbedClick = function () {\n      var card = _this.props.card;\n\n\n      if (card.get('type') === 'photo') {\n        _this.handlePhotoClick();\n      } else {\n        _this.setState({ embedded: true });\n      }\n    }, _this.setRef = function (c) {\n      if (c) {\n        _this.setState({ width: c.offsetWidth });\n      }\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  Card.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (this.props.card !== nextProps.card) {\n      this.setState({ embedded: false });\n    }\n  };\n\n  Card.prototype.renderVideo = function renderVideo() {\n    var card = this.props.card;\n\n    var content = { __html: addAutoPlay(card.get('html')) };\n    var width = this.state.width;\n\n    var ratio = card.get('width') / card.get('height');\n    var height = card.get('width') > card.get('height') ? width / ratio : width * ratio;\n\n    return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement('div', {\n      ref: this.setRef,\n      className: 'status-card__image status-card-video',\n      dangerouslySetInnerHTML: content,\n      style: { height: height }\n    });\n  };\n\n  Card.prototype.render = function render() {\n    var _props = this.props,\n        card = _props.card,\n        maxDescription = _props.maxDescription;\n    var _state = this.state,\n        width = _state.width,\n        embedded = _state.embedded;\n\n\n    if (card === null) {\n      return null;\n    }\n\n    var provider = card.get('provider_name').length === 0 ? decodeIDNA(getHostname(card.get('url'))) : card.get('provider_name');\n    var horizontal = card.get('width') > card.get('height') && card.get('width') + 100 >= width || card.get('type') !== 'link';\n    var className = __WEBPACK_IMPORTED_MODULE_7_classnames___default()('status-card', { horizontal: horizontal });\n    var interactive = card.get('type') !== 'link';\n    var title = interactive ? __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('a', {\n      className: 'status-card__title',\n      href: card.get('url'),\n      title: card.get('title'),\n      rel: 'noopener',\n      target: '_blank'\n    }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('strong', {}, void 0, card.get('title'))) : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('strong', {\n      className: 'status-card__title',\n      title: card.get('title')\n    }, void 0, card.get('title'));\n    var ratio = card.get('width') / card.get('height');\n    var height = card.get('width') > card.get('height') ? width / ratio : width * ratio;\n\n    var description = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: 'status-card__content'\n    }, void 0, title, !horizontal && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('p', {\n      className: 'status-card__description'\n    }, void 0, trim(card.get('description') || '', maxDescription)), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n      className: 'status-card__host'\n    }, void 0, provider));\n\n    var embed = '';\n    var thumbnail = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      style: { backgroundImage: 'url(' + card.get('image') + ')', width: horizontal ? width : null, height: horizontal ? height : null },\n      className: 'status-card__image-image'\n    });\n\n    if (interactive) {\n      if (embedded) {\n        embed = this.renderVideo();\n      } else {\n        var iconVariant = 'play';\n\n        if (card.get('type') === 'photo') {\n          iconVariant = 'search-plus';\n        }\n\n        embed = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n          className: 'status-card__image'\n        }, void 0, thumbnail, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n          className: 'status-card__actions'\n        }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {}, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n          onClick: this.handleEmbedClick\n        }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n          className: 'fa fa-' + iconVariant\n        })), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('a', {\n          href: card.get('url'),\n          target: '_blank',\n          rel: 'noopener'\n        }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n          className: 'fa fa-external-link'\n        })))));\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n        'div',\n        { className: className, ref: this.setRef },\n        embed,\n        description\n      );\n    } else if (card.get('image')) {\n      embed = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: 'status-card__image'\n      }, void 0, thumbnail);\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n      'a',\n      { href: card.get('url'), className: className, target: '_blank', rel: 'noopener', ref: this.setRef },\n      embed,\n      description\n    );\n  };\n\n  return Card;\n}(__WEBPACK_IMPORTED_MODULE_4_react___default.a.PureComponent), _class.defaultProps = {\n  maxDescription: 50\n}, _temp2);\n\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(64);\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, exports) {\n\nmodule.exports = function (module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function () {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return IconButton; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_flavours_glitch_util_optional_motion__ = __webpack_require__(198);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_motion_lib_spring__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_motion_lib_spring___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react_motion_lib_spring__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_classnames__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_classnames__);\n\n\n\n\n\nvar _class, _temp2;\n\n\n\n\n\n\n\nvar IconButton = (_temp2 = _class = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(IconButton, _React$PureComponent);\n\n  function IconButton() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, IconButton);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.handleClick = function (e) {\n      e.preventDefault();\n\n      if (!_this.props.disabled) {\n        _this.props.onClick(e);\n      }\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  IconButton.prototype.render = function render() {\n    var _this2 = this;\n\n    var style = Object.assign({\n      fontSize: this.props.size + 'px',\n      height: this.props.size * 1.28571429 + 'px',\n      lineHeight: this.props.size + 'px'\n    }, this.props.style, this.props.active ? this.props.activeStyle : {});\n    if (!this.props.label) {\n      style.width = this.props.size * 1.28571429 + 'px';\n    } else {\n      style.textAlign = 'left';\n    }\n\n    var _props = this.props,\n        active = _props.active,\n        animate = _props.animate,\n        className = _props.className,\n        disabled = _props.disabled,\n        expanded = _props.expanded,\n        icon = _props.icon,\n        inverted = _props.inverted,\n        flip = _props.flip,\n        overlay = _props.overlay,\n        pressed = _props.pressed,\n        tabIndex = _props.tabIndex,\n        title = _props.title;\n\n\n    var classes = __WEBPACK_IMPORTED_MODULE_7_classnames___default()(className, 'icon-button', {\n      active: active,\n      disabled: disabled,\n      inverted: inverted,\n      overlayed: overlay\n    });\n\n    var flipDeg = flip ? -180 : -360;\n    var rotateDeg = active ? flipDeg : 0;\n\n    var motionDefaultStyle = {\n      rotate: rotateDeg\n    };\n\n    var springOpts = {\n      stiffness: this.props.flip ? 60 : 120,\n      damping: 7\n    };\n    var motionStyle = {\n      rotate: animate ? __WEBPACK_IMPORTED_MODULE_6_react_motion_lib_spring___default()(rotateDeg, springOpts) : 0\n    };\n\n    if (!animate) {\n      // Perf optimization: avoid unnecessary <Motion> components unless\n      // we actually need to animate.\n      return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        'aria-label': title,\n        'aria-pressed': pressed,\n        'aria-expanded': expanded,\n        title: title,\n        className: classes,\n        onClick: this.handleClick,\n        style: style,\n        tabIndex: tabIndex\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: 'fa fa-fw fa-' + icon,\n        'aria-hidden': 'true'\n      }));\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_5_flavours_glitch_util_optional_motion__[\"a\" /* default */], {\n      defaultStyle: motionDefaultStyle,\n      style: motionStyle\n    }, void 0, function (_ref) {\n      var rotate = _ref.rotate;\n      return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        'aria-label': title,\n        'aria-pressed': pressed,\n        'aria-expanded': expanded,\n        title: title,\n        className: classes,\n        onClick: _this2.handleClick,\n        style: style,\n        tabIndex: tabIndex\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        style: { transform: 'rotate(' + rotate + 'deg)' },\n        className: 'fa fa-fw fa-' + icon,\n        'aria-hidden': 'true'\n      }), _this2.props.label);\n    });\n  };\n\n  return IconButton;\n}(__WEBPACK_IMPORTED_MODULE_4_react___default.a.PureComponent), _class.defaultProps = {\n  size: 18,\n  active: false,\n  disabled: false,\n  animate: false,\n  overlay: false,\n  tabIndex: '0'\n}, _temp2);\n\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return IconButton; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__features_ui_util_optional_motion__ = __webpack_require__(235);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_motion_lib_spring__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_motion_lib_spring___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react_motion_lib_spring__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_classnames__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_classnames__);\n\n\n\n\n\nvar _class, _temp2;\n\n\n\n\n\n\n\nvar IconButton = (_temp2 = _class = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(IconButton, _React$PureComponent);\n\n  function IconButton() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, IconButton);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.handleClick = function (e) {\n      e.preventDefault();\n\n      if (!_this.props.disabled) {\n        _this.props.onClick(e);\n      }\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  IconButton.prototype.render = function render() {\n    var _this2 = this;\n\n    var style = Object.assign({\n      fontSize: this.props.size + 'px',\n      width: this.props.size * 1.28571429 + 'px',\n      height: this.props.size * 1.28571429 + 'px',\n      lineHeight: this.props.size + 'px'\n    }, this.props.style, this.props.active ? this.props.activeStyle : {});\n\n    var _props = this.props,\n        active = _props.active,\n        animate = _props.animate,\n        className = _props.className,\n        disabled = _props.disabled,\n        expanded = _props.expanded,\n        icon = _props.icon,\n        inverted = _props.inverted,\n        overlay = _props.overlay,\n        pressed = _props.pressed,\n        tabIndex = _props.tabIndex,\n        title = _props.title;\n\n\n    var classes = __WEBPACK_IMPORTED_MODULE_7_classnames___default()(className, 'icon-button', {\n      active: active,\n      disabled: disabled,\n      inverted: inverted,\n      overlayed: overlay\n    });\n\n    if (!animate) {\n      // Perf optimization: avoid unnecessary <Motion> components unless\n      // we actually need to animate.\n      return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        'aria-label': title,\n        'aria-pressed': pressed,\n        'aria-expanded': expanded,\n        title: title,\n        className: classes,\n        onClick: this.handleClick,\n        style: style,\n        tabIndex: tabIndex\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: 'fa fa-fw fa-' + icon,\n        'aria-hidden': 'true'\n      }));\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_5__features_ui_util_optional_motion__[\"a\" /* default */], {\n      defaultStyle: { rotate: active ? -360 : 0 },\n      style: { rotate: animate ? __WEBPACK_IMPORTED_MODULE_6_react_motion_lib_spring___default()(active ? -360 : 0, { stiffness: 120, damping: 7 }) : 0 }\n    }, void 0, function (_ref) {\n      var rotate = _ref.rotate;\n      return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        'aria-label': title,\n        'aria-pressed': pressed,\n        'aria-expanded': expanded,\n        title: title,\n        className: classes,\n        onClick: _this2.handleClick,\n        style: style,\n        tabIndex: tabIndex\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        style: { transform: 'rotate(' + rotate + 'deg)' },\n        className: 'fa fa-fw fa-' + icon,\n        'aria-hidden': 'true'\n      }));\n    });\n  };\n\n  return IconButton;\n}(__WEBPACK_IMPORTED_MODULE_4_react___default.a.PureComponent), _class.defaultProps = {\n  size: 18,\n  active: false,\n  disabled: false,\n  animate: false,\n  overlay: false,\n  tabIndex: '0'\n}, _temp2);\n\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inDOM = __webpack_require__(75);\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar on = function on() {};\nif (_inDOM2.default) {\n  on = function () {\n\n    if (document.addEventListener) return function (node, eventName, handler, capture) {\n      return node.addEventListener(eventName, handler, capture || false);\n    };else if (document.attachEvent) return function (node, eventName, handler) {\n      return node.attachEvent('on' + eventName, function (e) {\n        e = e || window.event;\n        e.target = e.target || e.srcElement;\n        e.currentTarget = node;\n        handler.call(node, e);\n      });\n    };\n  }();\n}\n\nexports.default = on;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inDOM = __webpack_require__(75);\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar off = function off() {};\nif (_inDOM2.default) {\n  off = function () {\n    if (document.addEventListener) return function (node, eventName, handler, capture) {\n      return node.removeEventListener(eventName, handler, capture || false);\n    };else if (document.attachEvent) return function (node, eventName, handler) {\n      return node.detachEvent('on' + eventName, handler);\n    };\n  }();\n}\n\nexports.default = off;\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_locales__ = __webpack_require__(13);\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"setLocale\", function() { return __WEBPACK_IMPORTED_MODULE_0_locales__[\"setLocale\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"getLocale\", function() { return __WEBPACK_IMPORTED_MODULE_0_locales__[\"getLocale\"]; });\n\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar debounce = __webpack_require__(80),\n    isObject = __webpack_require__(45);\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { 'default': obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError('Cannot call a class as a function');\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar _mapToZero = __webpack_require__(294);\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = __webpack_require__(295);\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = __webpack_require__(296);\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = __webpack_require__(297);\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = __webpack_require__(298);\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = __webpack_require__(300);\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(5);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nvar Motion = function (_React$Component) {\n  _inherits(Motion, _React$Component);\n\n  _createClass(Motion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyle: _propTypes2['default'].objectOf(_propTypes2['default'].number),\n      style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      onRest: _propTypes2['default'].func\n    },\n    enumerable: true\n  }]);\n\n  function Motion(props) {\n    var _this = this;\n\n    _classCallCheck(this, Motion);\n\n    _React$Component.call(this, props);\n    this.wasAnimating = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyle = null;\n\n    this.clearUnreadPropStyle = function (destStyle) {\n      var dirty = false;\n      var _state = _this.state;\n      var currentStyle = _state.currentStyle;\n      var currentVelocity = _state.currentVelocity;\n      var lastIdealStyle = _state.lastIdealStyle;\n      var lastIdealVelocity = _state.lastIdealVelocity;\n\n      for (var key in destStyle) {\n        if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n          continue;\n        }\n\n        var styleValue = destStyle[key];\n        if (typeof styleValue === 'number') {\n          if (!dirty) {\n            dirty = true;\n            currentStyle = _extends({}, currentStyle);\n            currentVelocity = _extends({}, currentVelocity);\n            lastIdealStyle = _extends({}, lastIdealStyle);\n            lastIdealVelocity = _extends({}, lastIdealVelocity);\n          }\n\n          currentStyle[key] = styleValue;\n          currentVelocity[key] = 0;\n          lastIdealStyle[key] = styleValue;\n          lastIdealVelocity[key] = 0;\n        }\n      }\n\n      if (dirty) {\n        _this.setState({ currentStyle: currentStyle, currentVelocity: currentVelocity, lastIdealStyle: lastIdealStyle, lastIdealVelocity: lastIdealVelocity });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // check if we need to animate in the first place\n        var propsStyle = _this.props.style;\n        if (_shouldStopAnimation2['default'](_this.state.currentStyle, propsStyle, _this.state.currentVelocity)) {\n          if (_this.wasAnimating && _this.props.onRest) {\n            _this.props.onRest();\n          }\n\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.wasAnimating = false;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        _this.wasAnimating = true;\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyle = {};\n        var newLastIdealVelocity = {};\n        var newCurrentStyle = {};\n        var newCurrentVelocity = {};\n\n        for (var key in propsStyle) {\n          if (!Object.prototype.hasOwnProperty.call(propsStyle, key)) {\n            continue;\n          }\n\n          var styleValue = propsStyle[key];\n          if (typeof styleValue === 'number') {\n            newCurrentStyle[key] = styleValue;\n            newCurrentVelocity[key] = 0;\n            newLastIdealStyle[key] = styleValue;\n            newLastIdealVelocity[key] = 0;\n          } else {\n            var newLastIdealStyleValue = _this.state.lastIdealStyle[key];\n            var newLastIdealVelocityValue = _this.state.lastIdealVelocity[key];\n            for (var i = 0; i < framesToCatchUp; i++) {\n              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              newLastIdealStyleValue = _stepper[0];\n              newLastIdealVelocityValue = _stepper[1];\n            }\n\n            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n            var nextIdealX = _stepper2[0];\n            var nextIdealV = _stepper2[1];\n\n            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n            newLastIdealStyle[key] = newLastIdealStyleValue;\n            newLastIdealVelocity[key] = newLastIdealVelocityValue;\n          }\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyle: newCurrentStyle,\n          currentVelocity: newCurrentVelocity,\n          lastIdealStyle: newLastIdealStyle,\n          lastIdealVelocity: newLastIdealVelocity\n        });\n\n        _this.unreadPropStyle = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  Motion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyle = _props.defaultStyle;\n    var style = _props.style;\n\n    var currentStyle = defaultStyle || _stripStyle2['default'](style);\n    var currentVelocity = _mapToZero2['default'](currentStyle);\n    return {\n      currentStyle: currentStyle,\n      currentVelocity: currentVelocity,\n      lastIdealStyle: currentStyle,\n      lastIdealVelocity: currentVelocity\n    };\n  };\n\n  // it's possible that currentStyle's value is stale: if props is immediately\n  // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n  // at 0 (didn't have time to tick and interpolate even once). If we naively\n  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n  // In reality currentStyle should be 400\n\n  Motion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  Motion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyle != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyle);\n    }\n\n    this.unreadPropStyle = props.style;\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  Motion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  Motion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyle);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return Motion;\n}(_react2['default'].Component);\n\nexports['default'] = Motion;\nmodule.exports = exports['default'];\n\n// after checking for unreadPropStyle != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LIBRARY = __webpack_require__(47);\nvar $export = __webpack_require__(30);\nvar redefine = __webpack_require__(82);\nvar hide = __webpack_require__(22);\nvar has = __webpack_require__(15);\nvar Iterators = __webpack_require__(96);\nvar $iterCreate = __webpack_require__(268);\nvar setToStringTag = __webpack_require__(63);\nvar getPrototypeOf = __webpack_require__(204);\nvar ITERATOR = __webpack_require__(23)('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () {\n  return this;\n};\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS:\n        return function keys() {\n          return new Constructor(this, kind);\n        };\n      case VALUES:\n        return function values() {\n          return new Constructor(this, kind);\n        };\n    }return function entries() {\n      return new Constructor(this, kind);\n    };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() {\n      return $native.call(this);\n    };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar baseGetTag = __webpack_require__(60),\n    isObjectLike = __webpack_require__(61);\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n    return typeof value == 'symbol' || isObjectLike(value) && baseGetTag(value) == symbolTag;\n}\n\nmodule.exports = isSymbol;\n\n/***/ }),\n\n/***/ 198:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_flavours_glitch_util_initial_state__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__reduced_motion__ = __webpack_require__(602);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_motion_lib_Motion__ = __webpack_require__(168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_motion_lib_Motion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react_motion_lib_Motion__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0_flavours_glitch_util_initial_state__[\"i\" /* reduceMotion */] ? __WEBPACK_IMPORTED_MODULE_1__reduced_motion__[\"a\" /* default */] : __WEBPACK_IMPORTED_MODULE_2_react_motion_lib_Motion___default.a);\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n/***/ }),\n\n/***/ 20:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function () {};\n\nif (false) {\n  warning = function (condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (format.length < 10 || /^[s\\W]*$/.test(format)) {\n      throw new Error('The warning format should be able to uniquely identify this ' + 'warning. Please, use a more descriptive format than: ' + format);\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch (x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n\n/***/ }),\n\n/***/ 202:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(56)))\n\n/***/ }),\n\n/***/ 203:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _defineProperty = __webpack_require__(473);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n/***/ }),\n\n/***/ 204:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = __webpack_require__(15);\nvar toObject = __webpack_require__(144);\nvar IE_PROTO = __webpack_require__(49)('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  }return O instanceof Object ? ObjectProto : null;\n};\n\n/***/ }),\n\n/***/ 205:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.animationEnd = exports.animationDelay = exports.animationTiming = exports.animationDuration = exports.animationName = exports.transitionEnd = exports.transitionDuration = exports.transitionDelay = exports.transitionTiming = exports.transitionProperty = exports.transform = undefined;\n\nvar _inDOM = __webpack_require__(75);\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar transform = 'transform';\nvar prefix = void 0,\n    transitionEnd = void 0,\n    animationEnd = void 0;\nvar transitionProperty = void 0,\n    transitionDuration = void 0,\n    transitionTiming = void 0,\n    transitionDelay = void 0;\nvar animationName = void 0,\n    animationDuration = void 0,\n    animationTiming = void 0,\n    animationDelay = void 0;\n\nif (_inDOM2.default) {\n  var _getTransitionPropert = getTransitionProperties();\n\n  prefix = _getTransitionPropert.prefix;\n  exports.transitionEnd = transitionEnd = _getTransitionPropert.transitionEnd;\n  exports.animationEnd = animationEnd = _getTransitionPropert.animationEnd;\n\n  exports.transform = transform = prefix + '-' + transform;\n  exports.transitionProperty = transitionProperty = prefix + '-transition-property';\n  exports.transitionDuration = transitionDuration = prefix + '-transition-duration';\n  exports.transitionDelay = transitionDelay = prefix + '-transition-delay';\n  exports.transitionTiming = transitionTiming = prefix + '-transition-timing-function';\n\n  exports.animationName = animationName = prefix + '-animation-name';\n  exports.animationDuration = animationDuration = prefix + '-animation-duration';\n  exports.animationTiming = animationTiming = prefix + '-animation-delay';\n  exports.animationDelay = animationDelay = prefix + '-animation-timing-function';\n}\n\nexports.transform = transform;\nexports.transitionProperty = transitionProperty;\nexports.transitionTiming = transitionTiming;\nexports.transitionDelay = transitionDelay;\nexports.transitionDuration = transitionDuration;\nexports.transitionEnd = transitionEnd;\nexports.animationName = animationName;\nexports.animationDuration = animationDuration;\nexports.animationTiming = animationTiming;\nexports.animationDelay = animationDelay;\nexports.animationEnd = animationEnd;\nexports.default = {\n  transform: transform,\n  end: transitionEnd,\n  property: transitionProperty,\n  timing: transitionTiming,\n  delay: transitionDelay,\n  duration: transitionDuration\n};\n\nfunction getTransitionProperties() {\n  var style = document.createElement('div').style;\n\n  var vendorMap = {\n    O: function O(e) {\n      return 'o' + e.toLowerCase();\n    },\n    Moz: function Moz(e) {\n      return e.toLowerCase();\n    },\n    Webkit: function Webkit(e) {\n      return 'webkit' + e;\n    },\n    ms: function ms(e) {\n      return 'MS' + e;\n    }\n  };\n\n  var vendors = Object.keys(vendorMap);\n\n  var transitionEnd = void 0,\n      animationEnd = void 0;\n  var prefix = '';\n\n  for (var i = 0; i < vendors.length; i++) {\n    var vendor = vendors[i];\n\n    if (vendor + 'TransitionProperty' in style) {\n      prefix = '-' + vendor.toLowerCase();\n      transitionEnd = vendorMap[vendor]('TransitionEnd');\n      animationEnd = vendorMap[vendor]('AnimationEnd');\n      break;\n    }\n  }\n\n  if (!transitionEnd && 'transitionProperty' in style) transitionEnd = 'transitionend';\n\n  if (!animationEnd && 'animationName' in style) animationEnd = 'animationend';\n\n  style = null;\n\n  return { animationEnd: animationEnd, transitionEnd: transitionEnd, prefix: prefix };\n}\n\n/***/ }),\n\n/***/ 21:\n/***/ (function(module, exports, __webpack_require__) {\n\n(function (global, factory) {\n   true ? factory(exports, __webpack_require__(0), __webpack_require__(6)) : typeof define === 'function' && define.amd ? define(['exports', 'react', 'immutable'], factory) : factory(global.window = global.window || {}, global.React, global.Immutable);\n})(this, function (exports, React, immutable) {\n  'use strict';\n\n  React = React && 'default' in React ? React['default'] : React;\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }return target;\n  };\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n  }();\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  /*\n    Copyright (C) 2017 Piotr Tomasz Monarski.\n    Licensed under the MIT License (MIT), see\n    https://github.com/Monar/react-immutable-pure-component\n  */\n\n  var ImmutablePureComponent = function (_React$Component) {\n    _inherits(ImmutablePureComponent, _React$Component);\n\n    function ImmutablePureComponent() {\n      _classCallCheck(this, ImmutablePureComponent);\n\n      return _possibleConstructorReturn(this, (ImmutablePureComponent.__proto__ || Object.getPrototypeOf(ImmutablePureComponent)).apply(this, arguments));\n    }\n\n    _createClass(ImmutablePureComponent, [{\n      key: 'shouldComponentUpdate',\n      value: function shouldComponentUpdate(nextProps) {\n        var _this2 = this;\n\n        var nextState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var state = this.state || {};\n\n        return !(this.updateOnProps || Object.keys(_extends({}, nextProps, this.props))).every(function (p) {\n          return immutable.is(nextProps[p], _this2.props[p]);\n        }) || !(this.updateOnStates || Object.keys(_extends({}, nextState, state))).every(function (s) {\n          return immutable.is(nextState[s], state[s]);\n        });\n      }\n    }]);\n\n    return ImmutablePureComponent;\n  }(React.Component);\n\n  exports.ImmutablePureComponent = ImmutablePureComponent;\n  exports['default'] = ImmutablePureComponent;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n});\n\n/***/ }),\n\n/***/ 223:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  RESISTANCE_COEF: 0.6,\n\n  // This value is closed to what browsers are using internally to\n  // trigger a native scroll.\n  UNCERTAINTY_THRESHOLD: 3 // px\n};\n\n/***/ }),\n\n/***/ 224:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findElementPosition\", function() { return findElementPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPointerPosition\", function() { return getPointerPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Video; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_throttle__ = __webpack_require__(165);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_throttle___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash_throttle__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_intl__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_immutable__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_immutable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_immutable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_classnames__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ui_util_fullscreen__ = __webpack_require__(582);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__initial_state__ = __webpack_require__(43);\n\n\n\n\n\n\nvar _class;\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(__WEBPACK_IMPORTED_MODULE_6_react_intl__[\"f\" /* defineMessages */])({\n  play: {\n    'id': 'video.play',\n    'defaultMessage': 'Play'\n  },\n  pause: {\n    'id': 'video.pause',\n    'defaultMessage': 'Pause'\n  },\n  mute: {\n    'id': 'video.mute',\n    'defaultMessage': 'Mute sound'\n  },\n  unmute: {\n    'id': 'video.unmute',\n    'defaultMessage': 'Unmute sound'\n  },\n  hide: {\n    'id': 'video.hide',\n    'defaultMessage': 'Hide video'\n  },\n  expand: {\n    'id': 'video.expand',\n    'defaultMessage': 'Expand video'\n  },\n  close: {\n    'id': 'video.close',\n    'defaultMessage': 'Close video'\n  },\n  fullscreen: {\n    'id': 'video.fullscreen',\n    'defaultMessage': 'Full screen'\n  },\n  exit_fullscreen: {\n    'id': 'video.exit_fullscreen',\n    'defaultMessage': 'Exit full screen'\n  }\n});\n\nvar formatTime = function formatTime(secondsNum) {\n  var hours = Math.floor(secondsNum / 3600);\n  var minutes = Math.floor((secondsNum - hours * 3600) / 60);\n  var seconds = secondsNum - hours * 3600 - minutes * 60;\n\n  if (hours < 10) hours = '0' + hours;\n  if (minutes < 10) minutes = '0' + minutes;\n  if (seconds < 10) seconds = '0' + seconds;\n\n  return (hours === '00' ? '' : hours + ':') + (minutes + ':' + seconds);\n};\n\nvar findElementPosition = function findElementPosition(el) {\n  var box = void 0;\n\n  if (el.getBoundingClientRect && el.parentNode) {\n    box = el.getBoundingClientRect();\n  }\n\n  if (!box) {\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n\n  var docEl = document.documentElement;\n  var body = document.body;\n\n  var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n  var scrollLeft = window.pageXOffset || body.scrollLeft;\n  var left = box.left + scrollLeft - clientLeft;\n\n  var clientTop = docEl.clientTop || body.clientTop || 0;\n  var scrollTop = window.pageYOffset || body.scrollTop;\n  var top = box.top + scrollTop - clientTop;\n\n  return {\n    left: Math.round(left),\n    top: Math.round(top)\n  };\n};\n\nvar getPointerPosition = function getPointerPosition(el, event) {\n  var position = {};\n  var box = findElementPosition(el);\n  var boxW = el.offsetWidth;\n  var boxH = el.offsetHeight;\n  var boxY = box.top;\n  var boxX = box.left;\n\n  var pageY = event.pageY;\n  var pageX = event.pageX;\n\n  if (event.changedTouches) {\n    pageX = event.changedTouches[0].pageX;\n    pageY = event.changedTouches[0].pageY;\n  }\n\n  position.y = Math.max(0, Math.min(1, (pageY - boxY) / boxH));\n  position.x = Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n\n  return position;\n};\n\nvar Video = Object(__WEBPACK_IMPORTED_MODULE_6_react_intl__[\"g\" /* injectIntl */])(_class = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(Video, _React$PureComponent);\n\n  function Video() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Video);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.state = {\n      currentTime: 0,\n      duration: 0,\n      paused: true,\n      dragging: false,\n      containerWidth: false,\n      fullscreen: false,\n      hovered: false,\n      muted: false,\n      revealed: !_this.props.sensitive || __WEBPACK_IMPORTED_MODULE_10__initial_state__[\"f\" /* displaySensitiveMedia */]\n    }, _this.setPlayerRef = function (c) {\n      _this.player = c;\n\n      if (c) {\n        _this.setState({\n          containerWidth: c.offsetWidth\n        });\n      }\n    }, _this.setVideoRef = function (c) {\n      _this.video = c;\n    }, _this.setSeekRef = function (c) {\n      _this.seek = c;\n    }, _this.handleClickRoot = function (e) {\n      return e.stopPropagation();\n    }, _this.handlePlay = function () {\n      _this.setState({ paused: false });\n    }, _this.handlePause = function () {\n      _this.setState({ paused: true });\n    }, _this.handleTimeUpdate = function () {\n      _this.setState({\n        currentTime: Math.floor(_this.video.currentTime),\n        duration: Math.floor(_this.video.duration)\n      });\n    }, _this.handleMouseDown = function (e) {\n      document.addEventListener('mousemove', _this.handleMouseMove, true);\n      document.addEventListener('mouseup', _this.handleMouseUp, true);\n      document.addEventListener('touchmove', _this.handleMouseMove, true);\n      document.addEventListener('touchend', _this.handleMouseUp, true);\n\n      _this.setState({ dragging: true });\n      _this.video.pause();\n      _this.handleMouseMove(e);\n    }, _this.handleMouseUp = function () {\n      document.removeEventListener('mousemove', _this.handleMouseMove, true);\n      document.removeEventListener('mouseup', _this.handleMouseUp, true);\n      document.removeEventListener('touchmove', _this.handleMouseMove, true);\n      document.removeEventListener('touchend', _this.handleMouseUp, true);\n\n      _this.setState({ dragging: false });\n      _this.video.play();\n    }, _this.handleMouseMove = __WEBPACK_IMPORTED_MODULE_4_lodash_throttle___default()(function (e) {\n      var _getPointerPosition = getPointerPosition(_this.seek, e),\n          x = _getPointerPosition.x;\n\n      var currentTime = Math.floor(_this.video.duration * x);\n\n      _this.video.currentTime = currentTime;\n      _this.setState({ currentTime: currentTime });\n    }, 60), _this.togglePlay = function () {\n      if (_this.state.paused) {\n        _this.video.play();\n      } else {\n        _this.video.pause();\n      }\n    }, _this.toggleFullscreen = function () {\n      if (Object(__WEBPACK_IMPORTED_MODULE_9__ui_util_fullscreen__[\"d\" /* isFullscreen */])()) {\n        Object(__WEBPACK_IMPORTED_MODULE_9__ui_util_fullscreen__[\"c\" /* exitFullscreen */])();\n      } else {\n        Object(__WEBPACK_IMPORTED_MODULE_9__ui_util_fullscreen__[\"e\" /* requestFullscreen */])(_this.player);\n      }\n    }, _this.handleFullscreenChange = function () {\n      _this.setState({ fullscreen: Object(__WEBPACK_IMPORTED_MODULE_9__ui_util_fullscreen__[\"d\" /* isFullscreen */])() });\n    }, _this.handleMouseEnter = function () {\n      _this.setState({ hovered: true });\n    }, _this.handleMouseLeave = function () {\n      _this.setState({ hovered: false });\n    }, _this.toggleMute = function () {\n      _this.video.muted = !_this.video.muted;\n      _this.setState({ muted: _this.video.muted });\n    }, _this.toggleReveal = function () {\n      if (_this.state.revealed) {\n        _this.video.pause();\n      }\n\n      _this.setState({ revealed: !_this.state.revealed });\n    }, _this.handleLoadedData = function () {\n      if (_this.props.startTime) {\n        _this.video.currentTime = _this.props.startTime;\n        _this.video.play();\n      }\n    }, _this.handleProgress = function () {\n      if (_this.video.buffered.length > 0) {\n        _this.setState({ buffer: _this.video.buffered.end(0) / _this.video.duration * 100 });\n      }\n    }, _this.handleOpenVideo = function () {\n      var _this$props = _this.props,\n          src = _this$props.src,\n          preview = _this$props.preview,\n          width = _this$props.width,\n          height = _this$props.height;\n\n      var media = Object(__WEBPACK_IMPORTED_MODULE_7_immutable__[\"fromJS\"])({\n        type: 'video',\n        url: src,\n        preview_url: preview,\n        width: width,\n        height: height\n      });\n\n      _this.video.pause();\n      _this.props.onOpenVideo(media, _this.video.currentTime);\n    }, _this.handleCloseVideo = function () {\n      _this.video.pause();\n      _this.props.onCloseVideo();\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  Video.prototype.componentDidMount = function componentDidMount() {\n    document.addEventListener('fullscreenchange', this.handleFullscreenChange, true);\n    document.addEventListener('webkitfullscreenchange', this.handleFullscreenChange, true);\n    document.addEventListener('mozfullscreenchange', this.handleFullscreenChange, true);\n    document.addEventListener('MSFullscreenChange', this.handleFullscreenChange, true);\n  };\n\n  Video.prototype.componentWillUnmount = function componentWillUnmount() {\n    document.removeEventListener('fullscreenchange', this.handleFullscreenChange, true);\n    document.removeEventListener('webkitfullscreenchange', this.handleFullscreenChange, true);\n    document.removeEventListener('mozfullscreenchange', this.handleFullscreenChange, true);\n    document.removeEventListener('MSFullscreenChange', this.handleFullscreenChange, true);\n  };\n\n  Video.prototype.render = function render() {\n    var _props = this.props,\n        preview = _props.preview,\n        src = _props.src,\n        inline = _props.inline,\n        startTime = _props.startTime,\n        onOpenVideo = _props.onOpenVideo,\n        onCloseVideo = _props.onCloseVideo,\n        intl = _props.intl,\n        alt = _props.alt,\n        detailed = _props.detailed;\n    var _state = this.state,\n        containerWidth = _state.containerWidth,\n        currentTime = _state.currentTime,\n        duration = _state.duration,\n        buffer = _state.buffer,\n        dragging = _state.dragging,\n        paused = _state.paused,\n        fullscreen = _state.fullscreen,\n        hovered = _state.hovered,\n        muted = _state.muted,\n        revealed = _state.revealed;\n\n    var progress = currentTime / duration * 100;\n    var playerStyle = {};\n\n    var _props2 = this.props,\n        width = _props2.width,\n        height = _props2.height;\n\n\n    if (inline && containerWidth) {\n      width = containerWidth;\n      height = containerWidth / (16 / 9);\n\n      playerStyle.width = width;\n      playerStyle.height = height;\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement(\n      'div',\n      {\n        role: 'menuitem',\n        className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('video-player', { inactive: !revealed, detailed: detailed, inline: inline && !fullscreen, fullscreen: fullscreen }),\n        style: playerStyle,\n        ref: this.setPlayerRef,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        onClick: this.handleClickRoot,\n        tabIndex: 0\n      },\n      __WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('video', {\n        ref: this.setVideoRef,\n        src: src,\n        poster: preview,\n        preload: startTime ? 'auto' : 'none',\n        loop: true,\n        role: 'button',\n        tabIndex: '0',\n        'aria-label': alt,\n        width: width,\n        height: height,\n        onClick: this.togglePlay,\n        onPlay: this.handlePlay,\n        onPause: this.handlePause,\n        onTimeUpdate: this.handleTimeUpdate,\n        onLoadedData: this.handleLoadedData,\n        onProgress: this.handleProgress\n      }),\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('video-player__spoiler', { active: !revealed }),\n        onClick: this.toggleReveal\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'video-player__spoiler__title'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_6_react_intl__[\"b\" /* FormattedMessage */], {\n        id: 'status.sensitive_warning',\n        defaultMessage: 'Sensitive content'\n      })), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'video-player__spoiler__subtitle'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_6_react_intl__[\"b\" /* FormattedMessage */], {\n        id: 'status.sensitive_toggle',\n        defaultMessage: 'Click to view'\n      }))),\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('video-player__controls', { active: paused || hovered })\n      }, void 0, __WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement(\n        'div',\n        { className: 'video-player__seek', onMouseDown: this.handleMouseDown, ref: this.setSeekRef },\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n          className: 'video-player__seek__buffer',\n          style: { width: buffer + '%' }\n        }),\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n          className: 'video-player__seek__progress',\n          style: { width: progress + '%' }\n        }),\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n          className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('video-player__seek__handle', { active: dragging }),\n          tabIndex: '0',\n          style: { left: progress + '%' }\n        })\n      ), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: 'video-player__buttons-bar'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: 'video-player__buttons left'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        'aria-label': intl.formatMessage(paused ? messages.play : messages.pause),\n        onClick: this.togglePlay\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('fa fa-fw', { 'fa-play': paused, 'fa-pause': !paused })\n      })), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        'aria-label': intl.formatMessage(muted ? messages.unmute : messages.mute),\n        onClick: this.toggleMute\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('fa fa-fw', { 'fa-volume-off': muted, 'fa-volume-up': !muted })\n      })), !onCloseVideo && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        'aria-label': intl.formatMessage(messages.hide),\n        onClick: this.toggleReveal\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: 'fa fa-fw fa-eye'\n      })), (detailed || fullscreen) && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {}, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'video-player__time-current'\n      }, void 0, formatTime(currentTime)), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'video-player__time-sep'\n      }, void 0, '/'), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'video-player__time-total'\n      }, void 0, formatTime(duration)))), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: 'video-player__buttons right'\n      }, void 0, !fullscreen && onOpenVideo && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        'aria-label': intl.formatMessage(messages.expand),\n        onClick: this.handleOpenVideo\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: 'fa fa-fw fa-expand'\n      })), onCloseVideo && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        'aria-label': intl.formatMessage(messages.close),\n        onClick: this.handleCloseVideo\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: 'fa fa-fw fa-compress'\n      })), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        'aria-label': intl.formatMessage(fullscreen ? messages.exit_fullscreen : messages.fullscreen),\n        onClick: this.toggleFullscreen\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('fa fa-fw', { 'fa-arrows-alt': !fullscreen, 'fa-compress': fullscreen })\n      })))))\n    );\n  };\n\n  return Video;\n}(__WEBPACK_IMPORTED_MODULE_5_react___default.a.PureComponent)) || _class;\n\n\n\n/***/ }),\n\n/***/ 235:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__initial_state__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__reduced_motion__ = __webpack_require__(604);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_motion_lib_Motion__ = __webpack_require__(168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_motion_lib_Motion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react_motion_lib_Motion__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__WEBPACK_IMPORTED_MODULE_0__initial_state__[\"h\" /* reduceMotion */] ? __WEBPACK_IMPORTED_MODULE_1__reduced_motion__[\"a\" /* default */] : __WEBPACK_IMPORTED_MODULE_2_react_motion_lib_Motion___default.a);\n\n/***/ }),\n\n/***/ 262:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SwipeableViews = __webpack_require__(469);\n\nvar _SwipeableViews2 = _interopRequireDefault(_SwipeableViews);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = _SwipeableViews2.default;\n\n/***/ }),\n\n/***/ 264:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(265), __esModule: true };\n\n/***/ }),\n\n/***/ 265:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(266);\n__webpack_require__(269);\nmodule.exports = __webpack_require__(46).f('iterator');\n\n/***/ }),\n\n/***/ 266:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar $at = __webpack_require__(267)(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(169)(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0; // next index\n  // 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n/***/ }),\n\n/***/ 267:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(48);\nvar defined = __webpack_require__(64);\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n/***/ }),\n\n/***/ 268:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar create = __webpack_require__(65);\nvar descriptor = __webpack_require__(33);\nvar setToStringTag = __webpack_require__(63);\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(22)(IteratorPrototype, __webpack_require__(23)('iterator'), function () {\n  return this;\n});\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n/***/ }),\n\n/***/ 269:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(270);\nvar global = __webpack_require__(8);\nvar hide = __webpack_require__(22);\nvar Iterators = __webpack_require__(96);\nvar TO_STRING_TAG = __webpack_require__(23)('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' + 'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' + 'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' + 'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' + 'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n/***/ }),\n\n/***/ 270:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar addToUnscopables = __webpack_require__(271);\nvar step = __webpack_require__(272);\nvar Iterators = __webpack_require__(96);\nvar toIObject = __webpack_require__(16);\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(169)(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0; // next index\n  this._k = kind; // kind\n  // 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n/***/ }),\n\n/***/ 271:\n/***/ (function(module, exports) {\n\nmodule.exports = function () {/* empty */};\n\n/***/ }),\n\n/***/ 272:\n/***/ (function(module, exports) {\n\nmodule.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(274), __esModule: true };\n\n/***/ }),\n\n/***/ 274:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(275);\nmodule.exports = __webpack_require__(9).Object.setPrototypeOf;\n\n/***/ }),\n\n/***/ 275:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = __webpack_require__(30);\n$export($export.S, 'Object', { setPrototypeOf: __webpack_require__(276).set });\n\n/***/ }),\n\n/***/ 276:\n/***/ (function(module, exports, __webpack_require__) {\n\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = __webpack_require__(25);\nvar anObject = __webpack_require__(24);\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n  function (test, buggy, set) {\n    try {\n      set = __webpack_require__(81)(Function.call, __webpack_require__(84).f(Object.prototype, '__proto__').set, 2);\n      set(test, []);\n      buggy = !(test instanceof Array);\n    } catch (e) {\n      buggy = true;\n    }\n    return function setPrototypeOf(O, proto) {\n      check(O, proto);\n      if (buggy) O.__proto__ = proto;else set(O, proto);\n      return O;\n    };\n  }({}, false) : undefined),\n  check: check\n};\n\n/***/ }),\n\n/***/ 277:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(278), __esModule: true };\n\n/***/ }),\n\n/***/ 278:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(279);\nvar $Object = __webpack_require__(9).Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(30);\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: __webpack_require__(65) });\n\n/***/ }),\n\n/***/ 28:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * This is a straight rip-off of the React.js ReactPropTypes.js proptype validators,\n * modified to make it possible to validate Immutable.js data.\n *     ImmutableTypes.listOf is patterned after React.PropTypes.arrayOf, but for Immutable.List\n *     ImmutableTypes.shape  is based on React.PropTypes.shape, but for any Immutable.Iterable\n */\n\n\nvar Immutable = __webpack_require__(6);\n\nvar ANONYMOUS = \"<<anonymous>>\";\n\nvar ImmutablePropTypes = {\n  listOf: createListOfTypeChecker,\n  mapOf: createMapOfTypeChecker,\n  orderedMapOf: createOrderedMapOfTypeChecker,\n  setOf: createSetOfTypeChecker,\n  orderedSetOf: createOrderedSetOfTypeChecker,\n  stackOf: createStackOfTypeChecker,\n  iterableOf: createIterableOfTypeChecker,\n  recordOf: createRecordOfTypeChecker,\n  shape: createShapeChecker,\n  contains: createShapeChecker,\n  mapContains: createMapContainsChecker,\n  // Primitive Types\n  list: createImmutableTypeChecker(\"List\", Immutable.List.isList),\n  map: createImmutableTypeChecker(\"Map\", Immutable.Map.isMap),\n  orderedMap: createImmutableTypeChecker(\"OrderedMap\", Immutable.OrderedMap.isOrderedMap),\n  set: createImmutableTypeChecker(\"Set\", Immutable.Set.isSet),\n  orderedSet: createImmutableTypeChecker(\"OrderedSet\", Immutable.OrderedSet.isOrderedSet),\n  stack: createImmutableTypeChecker(\"Stack\", Immutable.Stack.isStack),\n  seq: createImmutableTypeChecker(\"Seq\", Immutable.Seq.isSeq),\n  record: createImmutableTypeChecker(\"Record\", function (isRecord) {\n    return isRecord instanceof Immutable.Record;\n  }),\n  iterable: createImmutableTypeChecker(\"Iterable\", Immutable.Iterable.isIterable)\n};\n\nfunction getPropType(propValue) {\n  var propType = typeof propValue;\n  if (Array.isArray(propValue)) {\n    return \"array\";\n  }\n  if (propValue instanceof RegExp) {\n    // Old webkits (at least until Android 4.0) return 'function' rather than\n    // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n    // passes PropTypes.object.\n    return \"object\";\n  }\n  if (propValue instanceof Immutable.Iterable) {\n    return \"Immutable.\" + propValue.toSource().split(\" \")[0];\n  }\n  return propType;\n}\n\nfunction createChainableTypeChecker(validate) {\n  function checkType(isRequired, props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 6 ? _len - 6 : 0), _key = 6; _key < _len; _key++) {\n      rest[_key - 6] = arguments[_key];\n    }\n\n    propFullName = propFullName || propName;\n    componentName = componentName || ANONYMOUS;\n    if (props[propName] == null) {\n      var locationName = location;\n      if (isRequired) {\n        return new Error(\"Required \" + locationName + \" `\" + propFullName + \"` was not specified in \" + (\"`\" + componentName + \"`.\"));\n      }\n    } else {\n      return validate.apply(undefined, [props, propName, componentName, location, propFullName].concat(rest));\n    }\n  }\n\n  var chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n\n  return chainedCheckType;\n}\n\nfunction createImmutableTypeChecker(immutableClassName, immutableClassTypeValidator) {\n  function validate(props, propName, componentName, location, propFullName) {\n    var propValue = props[propName];\n    if (!immutableClassTypeValidator(propValue)) {\n      var propType = getPropType(propValue);\n      return new Error(\"Invalid \" + location + \" `\" + propFullName + \"` of type `\" + propType + \"` \" + (\"supplied to `\" + componentName + \"`, expected `\" + immutableClassName + \"`.\"));\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createIterableTypeChecker(typeChecker, immutableClassName, immutableClassTypeValidator) {\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (!immutableClassTypeValidator(propValue)) {\n      var locationName = location;\n      var propType = getPropType(propValue);\n      return new Error(\"Invalid \" + locationName + \" `\" + propFullName + \"` of type \" + (\"`\" + propType + \"` supplied to `\" + componentName + \"`, expected an Immutable.js \" + immutableClassName + \".\"));\n    }\n\n    if (typeof typeChecker !== \"function\") {\n      return new Error(\"Invalid typeChecker supplied to `\" + componentName + \"` \" + (\"for propType `\" + propFullName + \"`, expected a function.\"));\n    }\n\n    var propValues = propValue.toArray();\n    for (var i = 0, len = propValues.length; i < len; i++) {\n      var error = typeChecker.apply(undefined, [propValues, i, componentName, location, \"\" + propFullName + \"[\" + i + \"]\"].concat(rest));\n      if (error instanceof Error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createKeysTypeChecker(typeChecker) {\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (typeof typeChecker !== \"function\") {\n      return new Error(\"Invalid keysTypeChecker (optional second argument) supplied to `\" + componentName + \"` \" + (\"for propType `\" + propFullName + \"`, expected a function.\"));\n    }\n\n    var keys = propValue.keySeq().toArray();\n    for (var i = 0, len = keys.length; i < len; i++) {\n      var error = typeChecker.apply(undefined, [keys, i, componentName, location, \"\" + propFullName + \" -> key(\" + keys[i] + \")\"].concat(rest));\n      if (error instanceof Error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createListOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"List\", Immutable.List.isList);\n}\n\nfunction createMapOfTypeCheckerFactory(valuesTypeChecker, keysTypeChecker, immutableClassName, immutableClassTypeValidator) {\n  function validate() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return createIterableTypeChecker(valuesTypeChecker, immutableClassName, immutableClassTypeValidator).apply(undefined, args) || keysTypeChecker && createKeysTypeChecker(keysTypeChecker).apply(undefined, args);\n  }\n\n  return createChainableTypeChecker(validate);\n}\n\nfunction createMapOfTypeChecker(valuesTypeChecker, keysTypeChecker) {\n  return createMapOfTypeCheckerFactory(valuesTypeChecker, keysTypeChecker, \"Map\", Immutable.Map.isMap);\n}\n\nfunction createOrderedMapOfTypeChecker(valuesTypeChecker, keysTypeChecker) {\n  return createMapOfTypeCheckerFactory(valuesTypeChecker, keysTypeChecker, \"OrderedMap\", Immutable.OrderedMap.isOrderedMap);\n}\n\nfunction createSetOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"Set\", Immutable.Set.isSet);\n}\n\nfunction createOrderedSetOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"OrderedSet\", Immutable.OrderedSet.isOrderedSet);\n}\n\nfunction createStackOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"Stack\", Immutable.Stack.isStack);\n}\n\nfunction createIterableOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"Iterable\", Immutable.Iterable.isIterable);\n}\n\nfunction createRecordOfTypeChecker(recordKeys) {\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (!(propValue instanceof Immutable.Record)) {\n      var propType = getPropType(propValue);\n      var locationName = location;\n      return new Error(\"Invalid \" + locationName + \" `\" + propFullName + \"` of type `\" + propType + \"` \" + (\"supplied to `\" + componentName + \"`, expected an Immutable.js Record.\"));\n    }\n    for (var key in recordKeys) {\n      var checker = recordKeys[key];\n      if (!checker) {\n        continue;\n      }\n      var mutablePropValue = propValue.toObject();\n      var error = checker.apply(undefined, [mutablePropValue, key, componentName, location, \"\" + propFullName + \".\" + key].concat(rest));\n      if (error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\n// there is some irony in the fact that shapeTypes is a standard hash and not an immutable collection\nfunction createShapeTypeChecker(shapeTypes) {\n  var immutableClassName = arguments[1] === undefined ? \"Iterable\" : arguments[1];\n  var immutableClassTypeValidator = arguments[2] === undefined ? Immutable.Iterable.isIterable : arguments[2];\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (!immutableClassTypeValidator(propValue)) {\n      var propType = getPropType(propValue);\n      var locationName = location;\n      return new Error(\"Invalid \" + locationName + \" `\" + propFullName + \"` of type `\" + propType + \"` \" + (\"supplied to `\" + componentName + \"`, expected an Immutable.js \" + immutableClassName + \".\"));\n    }\n    var mutablePropValue = propValue.toObject();\n    for (var key in shapeTypes) {\n      var checker = shapeTypes[key];\n      if (!checker) {\n        continue;\n      }\n      var error = checker.apply(undefined, [mutablePropValue, key, componentName, location, \"\" + propFullName + \".\" + key].concat(rest));\n      if (error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createShapeChecker(shapeTypes) {\n  return createShapeTypeChecker(shapeTypes);\n}\n\nfunction createMapContainsChecker(shapeTypes) {\n  return createShapeTypeChecker(shapeTypes, \"Map\", Immutable.Map.isMap);\n}\n\nmodule.exports = ImmutablePropTypes;\n\n/***/ }),\n\n/***/ 280:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar emptyFunction = __webpack_require__(51);\nvar invariant = __webpack_require__(42);\nvar ReactPropTypesSecret = __webpack_require__(281);\n\nmodule.exports = function () {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(false, 'Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n/***/ }),\n\n/***/ 282:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar root = __webpack_require__(29);\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function () {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(45),\n    isSymbol = __webpack_require__(170);\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nmodule.exports = toNumber;\n\n/***/ }),\n\n/***/ 284:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Symbol = __webpack_require__(95);\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(module, exports) {\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n/***/ }),\n\n/***/ 286:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports = module.exports = __webpack_require__(288)['default'];\nexports['default'] = exports;\n\n/***/ }),\n\n/***/ 288:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jshint esnext: true */\n\n\n\nvar src$es5$$ = __webpack_require__(289);\nexports[\"default\"] = createFormatCache;\n\n// -----------------------------------------------------------------------------\n\nfunction createFormatCache(FormatConstructor) {\n    var cache = src$es5$$.objCreate(null);\n\n    return function () {\n        var args = Array.prototype.slice.call(arguments);\n        var cacheId = getCacheId(args);\n        var format = cacheId && cache[cacheId];\n\n        if (!format) {\n            format = new (src$es5$$.bind.apply(FormatConstructor, [null].concat(args)))();\n\n            if (cacheId) {\n                cache[cacheId] = format;\n            }\n        }\n\n        return format;\n    };\n}\n\n// -- Utilities ----------------------------------------------------------------\n\nfunction getCacheId(inputs) {\n    // When JSON is not available in the runtime, we will not create a cache id.\n    if (typeof JSON === 'undefined') {\n        return;\n    }\n\n    var cacheId = [];\n\n    var i, len, input;\n\n    for (i = 0, len = inputs.length; i < len; i += 1) {\n        input = inputs[i];\n\n        if (input && typeof input === 'object') {\n            cacheId.push(orderedProps(input));\n        } else {\n            cacheId.push(input);\n        }\n    }\n\n    return JSON.stringify(cacheId);\n}\n\nfunction orderedProps(obj) {\n    var props = [],\n        keys = [];\n\n    var key, i, len, prop;\n\n    for (key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            keys.push(key);\n        }\n    }\n\n    var orderedKeys = keys.sort();\n\n    for (i = 0, len = orderedKeys.length; i < len; i += 1) {\n        key = orderedKeys[i];\n        prop = {};\n\n        prop[key] = obj[key];\n        props[i] = prop;\n    }\n\n    return props;\n}\n\n//# sourceMappingURL=memoizer.js.map\n\n/***/ }),\n\n/***/ 289:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n// Function.prototype.bind implementation from Mozilla Developer Network:\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind#Polyfill\n\n\n\nvar bind = Function.prototype.bind || function (oThis) {\n    if (typeof this !== 'function') {\n        // closest thing possible to the ECMAScript 5\n        // internal IsCallable function\n        throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n    }\n\n    var aArgs = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP = function () {},\n        fBound = function () {\n        return fToBind.apply(this instanceof fNOP ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\n    };\n\n    if (this.prototype) {\n        // native functions don't have a prototype\n        fNOP.prototype = this.prototype;\n    }\n    fBound.prototype = new fNOP();\n\n    return fBound;\n};\n\n// Purposely using the same implementation as the Intl.js `Intl` polyfill.\n// Copyright 2013 Andy Earnshaw, MIT License\n\nvar hop = Object.prototype.hasOwnProperty;\n\nvar realDefineProp = function () {\n    try {\n        return !!Object.defineProperty({}, 'a', {});\n    } catch (e) {\n        return false;\n    }\n}();\n\nvar es3 = !realDefineProp && !Object.prototype.__defineGetter__;\n\nvar defineProperty = realDefineProp ? Object.defineProperty : function (obj, name, desc) {\n\n    if ('get' in desc && obj.__defineGetter__) {\n        obj.__defineGetter__(name, desc.get);\n    } else if (!hop.call(obj, name) || 'value' in desc) {\n        obj[name] = desc.value;\n    }\n};\n\nvar objCreate = Object.create || function (proto, props) {\n    var obj, k;\n\n    function F() {}\n    F.prototype = proto;\n    obj = new F();\n\n    for (k in props) {\n        if (hop.call(props, k)) {\n            defineProperty(obj, k, props[k]);\n        }\n    }\n\n    return obj;\n};\n\nexports.bind = bind, exports.defineProperty = defineProperty, exports.objCreate = objCreate;\n\n//# sourceMappingURL=es5.js.map\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar freeGlobal = __webpack_require__(202);\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n\n/***/ }),\n\n/***/ 290:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(291), __esModule: true };\n\n/***/ }),\n\n/***/ 291:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(292);\nmodule.exports = __webpack_require__(9).Object.assign;\n\n/***/ }),\n\n/***/ 292:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.3.1 Object.assign(target, source)\nvar $export = __webpack_require__(30);\n\n$export($export.S + $export.F, 'Object', { assign: __webpack_require__(293) });\n\n/***/ }),\n\n/***/ 293:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 19.1.2.1 Object.assign(target, source, ...)\n\nvar getKeys = __webpack_require__(32);\nvar gOPS = __webpack_require__(50);\nvar pIE = __webpack_require__(34);\nvar toObject = __webpack_require__(144);\nvar IObject = __webpack_require__(83);\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || __webpack_require__(18)(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) {\n    B[k] = k;\n  });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) {\n  // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  }return T;\n} : $assign;\n\n/***/ }),\n\n/***/ 294:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// currently used to initiate the velocity style object to 0\n\n\nexports.__esModule = true;\nexports['default'] = mapToZero;\n\nfunction mapToZero(obj) {\n  var ret = {};\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      ret[key] = 0;\n    }\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 295:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// turn {x: {val: 1, stiffness: 1, damping: 2}, y: 2} generated by\n// `{x: spring(1, {stiffness: 1, damping: 2}), y: 2}` into {x: 1, y: 2}\n\n\n\nexports.__esModule = true;\nexports['default'] = stripStyle;\n\nfunction stripStyle(style) {\n  var ret = {};\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n    ret[key] = typeof style[key] === 'number' ? style[key] : style[key].val;\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 296:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// stepper is used a lot. Saves allocation to return the same array wrapper.\n// This is fine and danger-free against mutations because the callsite\n// immediately destructures it and gets the numbers inside without passing the\n\n\nexports.__esModule = true;\nexports[\"default\"] = stepper;\n\nvar reusedTuple = [0, 0];\n\nfunction stepper(secondPerFrame, x, v, destX, k, b, precision) {\n  // Spring stiffness, in kg / s^2\n\n  // for animations, destX is really spring length (spring at rest). initial\n  // position is considered as the stretched/compressed position of a spring\n  var Fspring = -k * (x - destX);\n\n  // Damping, in kg / s\n  var Fdamper = -b * v;\n\n  // usually we put mass here, but for animation purposes, specifying mass is a\n  // bit redundant. you could simply adjust k and b accordingly\n  // let a = (Fspring + Fdamper) / mass;\n  var a = Fspring + Fdamper;\n\n  var newV = v + a * secondPerFrame;\n  var newX = x + newV * secondPerFrame;\n\n  if (Math.abs(newV) < precision && Math.abs(newX - destX) < precision) {\n    reusedTuple[0] = destX;\n    reusedTuple[1] = 0;\n    return reusedTuple;\n  }\n\n  reusedTuple[0] = newX;\n  reusedTuple[1] = newV;\n  return reusedTuple;\n}\n\nmodule.exports = exports[\"default\"];\n// array reference around.\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {// Generated by CoffeeScript 1.7.1\n(function () {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if (typeof performance !== \"undefined\" && performance !== null && performance.now) {\n    module.exports = function () {\n      return performance.now();\n    };\n  } else if (typeof process !== \"undefined\" && process !== null && process.hrtime) {\n    module.exports = function () {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function () {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function () {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function () {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n}).call(this);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(37)))\n\n/***/ }),\n\n/***/ 298:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var now = __webpack_require__(299),\n    root = typeof window === 'undefined' ? global : window,\n    vendors = ['moz', 'webkit'],\n    suffix = 'AnimationFrame',\n    raf = root['request' + suffix],\n    caf = root['cancel' + suffix] || root['cancelRequest' + suffix];\n\nfor (var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix];\n  caf = root[vendors[i] + 'Cancel' + suffix] || root[vendors[i] + 'CancelRequest' + suffix];\n}\n\n// Some versions of FF have rAF but not cAF\nif (!raf || !caf) {\n  var last = 0,\n      id = 0,\n      queue = [],\n      frameDuration = 1000 / 60;\n\n  raf = function (callback) {\n    if (queue.length === 0) {\n      var _now = now(),\n          next = Math.max(0, frameDuration - (_now - last));\n      last = next + _now;\n      setTimeout(function () {\n        var cp = queue.slice(0);\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0;\n        for (var i = 0; i < cp.length; i++) {\n          if (!cp[i].cancelled) {\n            try {\n              cp[i].callback(last);\n            } catch (e) {\n              setTimeout(function () {\n                throw e;\n              }, 0);\n            }\n          }\n        }\n      }, Math.round(next));\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    });\n    return id;\n  };\n\n  caf = function (handle) {\n    for (var i = 0; i < queue.length; i++) {\n      if (queue[i].handle === handle) {\n        queue[i].cancelled = true;\n      }\n    }\n  };\n}\n\nmodule.exports = function (fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn);\n};\nmodule.exports.cancel = function () {\n  caf.apply(root, arguments);\n};\nmodule.exports.polyfill = function (object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf;\n  object.cancelAnimationFrame = caf;\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(56)))\n\n/***/ }),\n\n/***/ 299:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {// Generated by CoffeeScript 1.12.2\n(function () {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if (typeof performance !== \"undefined\" && performance !== null && performance.now) {\n    module.exports = function () {\n      return performance.now();\n    };\n  } else if (typeof process !== \"undefined\" && process !== null && process.hrtime) {\n    module.exports = function () {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function () {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function () {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function () {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(37)))\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _typeof2 = __webpack_require__(44);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n/***/ }),\n\n/***/ 300:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// usage assumption: currentStyle values have already been rendered but it says\n// nothing of whether currentStyle is stale (see unreadPropStyle)\n\n\nexports.__esModule = true;\nexports['default'] = shouldStopAnimation;\n\nfunction shouldStopAnimation(currentStyle, style, currentVelocity) {\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n\n    if (currentVelocity[key] !== 0) {\n      return false;\n    }\n\n    var styleValue = typeof style[key] === 'number' ? style[key] : style[key].val;\n    // stepper will have already taken care of rounding precision errors, so\n    // won't have such thing as 0.9999 !=== 1\n    if (currentStyle[key] !== styleValue) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 301:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nexports[\"default\"] = {\n  noWobble: { stiffness: 170, damping: 26 }, // the default, if nothing provided\n  gentle: { stiffness: 120, damping: 14 },\n  wobbly: { stiffness: 180, damping: 12 },\n  stiff: { stiffness: 210, damping: 20 }\n};\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function (condition, format, a, b, c, d, e, f) {\n  if (false) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = __webpack_require__(273);\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = __webpack_require__(277);\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = __webpack_require__(44);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n/***/ }),\n\n/***/ 403:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = isMobile;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = isUserTouching;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = isIOS;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_detect_passive_events__ = __webpack_require__(89);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_detect_passive_events___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_detect_passive_events__);\n\n\nvar LAYOUT_BREAKPOINT = 630;\n\nfunction isMobile(width, columns) {\n  switch (columns) {\n    case 'multiple':\n      return false;\n    case 'single':\n      return true;\n    default:\n      return width <= LAYOUT_BREAKPOINT;\n  }\n};\n\nvar iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\nvar userTouching = false;\nvar listenerOptions = __WEBPACK_IMPORTED_MODULE_0_detect_passive_events___default.a.hasSupport ? { passive: true } : false;\n\nfunction touchListener() {\n  userTouching = true;\n  window.removeEventListener('touchstart', touchListener, listenerOptions);\n}\n\nwindow.addEventListener('touchstart', touchListener, listenerOptions);\n\nfunction isUserTouching() {\n  return userTouching;\n}\n\nfunction isIOS() {\n  return iOS;\n};\n\n/***/ }),\n\n/***/ 404:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = isMobile;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = isUserTouching;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = isIOS;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_detect_passive_events__ = __webpack_require__(89);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_detect_passive_events___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_detect_passive_events__);\n\n\nvar LAYOUT_BREAKPOINT = 630;\n\nfunction isMobile(width) {\n  return width <= LAYOUT_BREAKPOINT;\n};\n\nvar iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\nvar userTouching = false;\nvar listenerOptions = __WEBPACK_IMPORTED_MODULE_0_detect_passive_events___default.a.hasSupport ? { passive: true } : false;\n\nfunction touchListener() {\n  userTouching = true;\n  window.removeEventListener('touchstart', touchListener, listenerOptions);\n}\n\nwindow.addEventListener('touchstart', touchListener, listenerOptions);\n\nfunction isUserTouching() {\n  return userTouching;\n}\n\nfunction isIOS() {\n  return iOS;\n};\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return reduceMotion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return autoPlayGif; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return displaySensitiveMedia; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return unfollowModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return boostModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return deleteModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return me; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return searchEnabled; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return charLimit; });\nvar element = document.getElementById('initial-state');\nvar initialState = element && JSON.parse(element.textContent);\n\nvar getMeta = function getMeta(prop) {\n  return initialState && initialState.meta && initialState.meta[prop];\n};\n\nvar reduceMotion = getMeta('reduce_motion');\nvar autoPlayGif = getMeta('auto_play_gif');\nvar displaySensitiveMedia = getMeta('display_sensitive_media');\nvar unfollowModal = getMeta('unfollow_modal');\nvar boostModal = getMeta('boost_modal');\nvar deleteModal = getMeta('delete_modal');\nvar me = getMeta('me');\nvar searchEnabled = getMeta('search_enabled');\nvar charLimit = getMeta('char_limit') || 5000;\n\n/* harmony default export */ __webpack_exports__[\"d\"] = (initialState);\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _iterator = __webpack_require__(264);\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = __webpack_require__(85);\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj;\n};\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, exports) {\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n/***/ }),\n\n/***/ 468:\n/***/ (function(module, exports, __webpack_require__) {\n\n// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(30);\nvar core = __webpack_require__(9);\nvar fails = __webpack_require__(18);\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () {\n    fn(1);\n  }), 'Object', exp);\n};\n\n/***/ }),\n\n/***/ 469:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = __webpack_require__(62);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = __webpack_require__(87);\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _getPrototypeOf = __webpack_require__(470);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(2);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(203);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(3);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(4);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nexports.getDomTreeShapes = getDomTreeShapes;\nexports.findNativeHandler = findNativeHandler;\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(5);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _warning = __webpack_require__(20);\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _properties = __webpack_require__(205);\n\nvar _properties2 = _interopRequireDefault(_properties);\n\nvar _on = __webpack_require__(155);\n\nvar _on2 = _interopRequireDefault(_on);\n\nvar _off = __webpack_require__(156);\n\nvar _off2 = _interopRequireDefault(_off);\n\nvar _reactSwipeableViewsCore = __webpack_require__(476);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction addEventListenerEnhanced(node, event, handler, options) {\n  (0, _on2.default)(node, event, handler, options);\n  return {\n    remove: function remove() {\n      (0, _off2.default)(node, event, handler, options);\n    }\n  };\n}\n\nvar styleInjected = false;\n\n// Support old version of iOS and IE 10.\n// To be deleted in 2019.\nfunction injectStyle() {\n  // Inject once for all the instances\n  if (!styleInjected) {\n    var style = document.createElement('style');\n    style.innerHTML = '\\n      .react-swipeable-view-container {\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n      }\\n      .react-swipeable-view-container > div {\\n        -ms-flex-negative: 0;\\n      }\\n    ';\n\n    if (document.body) {\n      document.body.appendChild(style);\n    }\n    styleInjected = true;\n  }\n}\n\nvar styles = {\n  container: {\n    direction: 'ltr',\n    display: 'flex',\n    willChange: 'transform'\n  },\n  slide: {\n    width: '100%',\n    WebkitFlexShrink: 0,\n    flexShrink: 0,\n    overflow: 'auto'\n  }\n};\n\nvar axisProperties = {\n  root: {\n    x: {\n      overflowX: 'hidden'\n    },\n    'x-reverse': {\n      overflowX: 'hidden'\n    },\n    y: {\n      overflowY: 'hidden'\n    },\n    'y-reverse': {\n      overflowY: 'hidden'\n    }\n  },\n  flexDirection: {\n    x: 'row',\n    'x-reverse': 'row-reverse',\n    y: 'column',\n    'y-reverse': 'column-reverse'\n  },\n  transform: {\n    x: function x(translate) {\n      return 'translate(' + -translate + '%, 0)';\n    },\n    'x-reverse': function xReverse(translate) {\n      return 'translate(' + translate + '%, 0)';\n    },\n    y: function y(translate) {\n      return 'translate(0, ' + -translate + '%)';\n    },\n    'y-reverse': function yReverse(translate) {\n      return 'translate(0, ' + translate + '%)';\n    }\n  },\n  length: {\n    x: 'width',\n    'x-reverse': 'width',\n    y: 'height',\n    'y-reverse': 'height'\n  },\n  rotationMatrix: {\n    x: {\n      x: [1, 0],\n      y: [0, 1]\n    },\n    'x-reverse': {\n      x: [-1, 0],\n      y: [0, 1]\n    },\n    y: {\n      x: [0, 1],\n      y: [1, 0]\n    },\n    'y-reverse': {\n      x: [0, -1],\n      y: [1, 0]\n    }\n  },\n  scrollPosition: {\n    x: 'scrollLeft',\n    'x-reverse': 'scrollLeft',\n    y: 'scrollTop',\n    'y-reverse': 'scrollTop'\n  },\n  scrollLength: {\n    x: 'scrollWidth',\n    'x-reverse': 'scrollWidth',\n    y: 'scrollHeight',\n    'y-reverse': 'scrollHeight'\n  },\n  clientLength: {\n    x: 'clientWidth',\n    'x-reverse': 'clientWidth',\n    y: 'clientHeight',\n    'y-reverse': 'clientHeight'\n  }\n};\n\nfunction createTransition(property, options) {\n  var duration = options.duration,\n      easeFunction = options.easeFunction,\n      delay = options.delay;\n\n  return property + ' ' + duration + ' ' + easeFunction + ' ' + delay;\n}\n\n// We are using a 2x2 rotation matrix.\nfunction applyRotationMatrix(touch, axis) {\n  var rotationMatrix = axisProperties.rotationMatrix[axis];\n\n  return {\n    pageX: rotationMatrix.x[0] * touch.pageX + rotationMatrix.x[1] * touch.pageY,\n    pageY: rotationMatrix.y[0] * touch.pageX + rotationMatrix.y[1] * touch.pageY\n  };\n}\n\nfunction adaptMouse(event) {\n  event.touches = [{ pageX: event.pageX, pageY: event.pageY }];\n  return event;\n}\n\nfunction getDomTreeShapes(element, rootNode) {\n  var domTreeShapes = [];\n\n  while (element && element !== rootNode) {\n    // We reach a Swipeable View, no need to look higher in the dom tree.\n    if (element.hasAttribute('data-swipeable')) {\n      break;\n    }\n\n    var style = window.getComputedStyle(element);\n\n    if (\n    // Ignore the scroll children if the element is absolute positioned.\n    style.getPropertyValue('position') === 'absolute' ||\n    // Ignore the scroll children if the element has an overflowX hidden\n    style.getPropertyValue('overflow-x') === 'hidden') {\n      domTreeShapes = [];\n    } else if (element.clientWidth > 0 && element.scrollWidth > element.clientWidth || element.clientHeight > 0 && element.scrollHeight > element.clientHeight) {\n      // Ignore the nodes that have no width.\n      // Keep elements with a scroll\n      domTreeShapes.push({\n        element: element,\n        scrollWidth: element.scrollWidth,\n        scrollHeight: element.scrollHeight,\n        clientWidth: element.clientWidth,\n        clientHeight: element.clientHeight,\n        scrollLeft: element.scrollLeft,\n        scrollTop: element.scrollTop\n      });\n    }\n\n    element = element.parentNode;\n  }\n\n  return domTreeShapes;\n}\n\n// We can only have one node at the time claiming ownership for handling the swipe.\n// Otherwise, the UX would be confusing.\n// That's why we use a singleton here.\nvar nodeHowClaimedTheScroll = null;\n\nfunction findNativeHandler(params) {\n  var domTreeShapes = params.domTreeShapes,\n      pageX = params.pageX,\n      startX = params.startX,\n      axis = params.axis;\n\n  return domTreeShapes.some(function (shape) {\n    // Determine if we are going backward or forward.\n    var goingForward = pageX >= startX;\n    if (axis === 'x' || axis === 'y') {\n      goingForward = !goingForward;\n    }\n\n    var scrollPosition = shape[axisProperties.scrollPosition[axis]];\n\n    var areNotAtStart = scrollPosition > 0;\n    var areNotAtEnd = scrollPosition + shape[axisProperties.clientLength[axis]] < shape[axisProperties.scrollLength[axis]];\n\n    if (goingForward && areNotAtEnd || !goingForward && areNotAtStart) {\n      nodeHowClaimedTheScroll = shape.element;\n      return true;\n    }\n\n    return false;\n  });\n}\n\nvar SwipeableViews = function (_Component) {\n  (0, _inherits3.default)(SwipeableViews, _Component);\n\n  function SwipeableViews() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, SwipeableViews);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SwipeableViews.__proto__ || (0, _getPrototypeOf2.default)(SwipeableViews)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      indexLatest: null,\n      // Set to true as soon as the component is swiping.\n      // It's the state counter part of this.isSwiping.\n      isDragging: false,\n      // Help with SSR logic and lazy loading logic.\n      isFirstRender: true,\n      heightLatest: 0,\n      // Let the render method that we are going to display the same slide than previously.\n      displaySameSlide: true\n    }, _this.rootNode = null, _this.containerNode = null, _this.ignoreNextScrollEvents = false, _this.viewLength = 0, _this.startX = 0, _this.lastX = 0, _this.vx = 0, _this.startY = 0, _this.isSwiping = undefined, _this.started = false, _this.startIndex = 0, _this.transitionListener = null, _this.touchMoveListener = null, _this.activeSlide = null, _this.indexCurrent = null, _this.handleSwipeStart = function (event) {\n      var axis = _this.props.axis;\n\n      // Latency and rapid rerenders on some devices can leave\n      // a period where rootNode briefly equals null.\n\n      if (_this.rootNode === null) {\n        return;\n      }\n\n      var touch = applyRotationMatrix(event.touches[0], axis);\n\n      _this.viewLength = _this.rootNode.getBoundingClientRect()[axisProperties.length[axis]];\n      _this.startX = touch.pageX;\n      _this.lastX = touch.pageX;\n      _this.vx = 0;\n      _this.startY = touch.pageY;\n      _this.isSwiping = undefined;\n      _this.started = true;\n\n      var computedStyle = window.getComputedStyle(_this.containerNode);\n      var transform = computedStyle.getPropertyValue('-webkit-transform') || computedStyle.getPropertyValue('transform');\n\n      if (transform && transform !== 'none') {\n        var transformValues = transform.split('(')[1].split(')')[0].split(',');\n        var rootStyle = window.getComputedStyle(_this.rootNode);\n\n        var tranformNormalized = applyRotationMatrix({\n          pageX: parseInt(transformValues[4], 10),\n          pageY: parseInt(transformValues[5], 10)\n        }, axis);\n\n        _this.startIndex = -tranformNormalized.pageX / (_this.viewLength - parseInt(rootStyle.paddingLeft, 10) - parseInt(rootStyle.paddingRight, 10));\n      }\n    }, _this.handleSwipeMove = function (event) {\n      // The touch start event can be cancel.\n      // Makes sure we set a starting point.\n      if (!_this.started) {\n        _this.handleTouchStart(event);\n        return;\n      }\n\n      // Latency and rapid rerenders on some devices\n      // can leave a period where rootNode briefly equals null.\n      if (_this.rootNode === null) {\n        return;\n      }\n\n      // We are not supposed to hanlde this touch move.\n      if (nodeHowClaimedTheScroll !== null && nodeHowClaimedTheScroll !== _this.rootNode) {\n        return;\n      }\n\n      var _this$props = _this.props,\n          axis = _this$props.axis,\n          children = _this$props.children,\n          ignoreNativeScroll = _this$props.ignoreNativeScroll,\n          onSwitching = _this$props.onSwitching,\n          resistance = _this$props.resistance;\n\n      var touch = applyRotationMatrix(event.touches[0], axis);\n\n      // We don't know yet.\n      if (_this.isSwiping === undefined) {\n        var dx = Math.abs(_this.startX - touch.pageX);\n        var dy = Math.abs(_this.startY - touch.pageY);\n\n        var isSwiping = dx > dy && dx > _reactSwipeableViewsCore.constant.UNCERTAINTY_THRESHOLD;\n\n        // We let the parent handle the scroll.\n        if (!resistance && (axis === 'y' || axis === 'y-reverse') && (_this.indexCurrent === 0 && _this.startX < touch.pageX || _this.indexCurrent === _react.Children.count(_this.props.children) - 1 && _this.startX > touch.pageX)) {\n          _this.isSwiping = false;\n          return;\n        }\n\n        // We are likely to be swiping, let's prevent the scroll event.\n        if (dx > dy) {\n          event.preventDefault();\n        }\n\n        if (isSwiping === true || dy > _reactSwipeableViewsCore.constant.UNCERTAINTY_THRESHOLD) {\n          _this.isSwiping = isSwiping;\n          _this.startX = touch.pageX; // Shift the starting point.\n\n          return; // Let's wait the next touch event to move something.\n        }\n      }\n\n      if (_this.isSwiping !== true) {\n        return;\n      }\n\n      // We are swiping, let's prevent the scroll event.\n      event.preventDefault();\n\n      // Low Pass filter.\n      _this.vx = _this.vx * 0.5 + (touch.pageX - _this.lastX) * 0.5;\n      _this.lastX = touch.pageX;\n\n      var _computeIndex = (0, _reactSwipeableViewsCore.computeIndex)({\n        children: children,\n        resistance: resistance,\n        pageX: touch.pageX,\n        startIndex: _this.startIndex,\n        startX: _this.startX,\n        viewLength: _this.viewLength\n      }),\n          index = _computeIndex.index,\n          startX = _computeIndex.startX;\n\n      // Add support for native scroll elements.\n\n\n      if (nodeHowClaimedTheScroll === null && !ignoreNativeScroll) {\n        var domTreeShapes = getDomTreeShapes(event.target, _this.rootNode);\n        var hasFoundNativeHandler = findNativeHandler({\n          domTreeShapes: domTreeShapes,\n          startX: _this.startX,\n          pageX: touch.pageX,\n          axis: axis\n        });\n\n        // We abort the touch move handler.\n        if (hasFoundNativeHandler) {\n          return;\n        }\n      }\n\n      // We are moving toward the edges.\n      if (startX) {\n        _this.startX = startX;\n      } else if (nodeHowClaimedTheScroll === null) {\n        nodeHowClaimedTheScroll = _this.rootNode;\n      }\n\n      _this.setIndexCurrent(index);\n\n      var callback = function callback() {\n        if (onSwitching) {\n          onSwitching(index, 'move');\n        }\n      };\n\n      if (_this.state.displaySameSlide || !_this.state.isDragging) {\n        _this.setState({\n          displaySameSlide: false,\n          isDragging: true\n        }, callback);\n      }\n\n      callback();\n    }, _this.handleSwipeEnd = function () {\n      nodeHowClaimedTheScroll = null;\n\n      // The touch start event can be cancel.\n      // Makes sure that a starting point is set.\n      if (!_this.started) {\n        return;\n      }\n\n      _this.started = false;\n\n      if (_this.isSwiping !== true) {\n        return;\n      }\n\n      var indexLatest = _this.state.indexLatest;\n      var indexCurrent = _this.indexCurrent;\n      var delta = indexLatest - indexCurrent;\n\n      var indexNew = void 0;\n\n      // Quick movement\n      if (Math.abs(_this.vx) > _this.props.threshold) {\n        if (_this.vx > 0) {\n          indexNew = Math.floor(indexCurrent);\n        } else {\n          indexNew = Math.ceil(indexCurrent);\n        }\n      } else if (Math.abs(delta) > _this.props.hysteresis) {\n        // Some hysteresis with indexLatest.\n        indexNew = delta > 0 ? Math.floor(indexCurrent) : Math.ceil(indexCurrent);\n      } else {\n        indexNew = indexLatest;\n      }\n\n      var indexMax = _react.Children.count(_this.props.children) - 1;\n\n      if (indexNew < 0) {\n        indexNew = 0;\n      } else if (indexNew > indexMax) {\n        indexNew = indexMax;\n      }\n\n      _this.setIndexCurrent(indexNew);\n      _this.setState({\n        indexLatest: indexNew,\n        isDragging: false\n      }, function () {\n        if (_this.props.onSwitching) {\n          _this.props.onSwitching(indexNew, 'end');\n        }\n\n        if (_this.props.onChangeIndex && indexNew !== indexLatest) {\n          _this.props.onChangeIndex(indexNew, indexLatest, {\n            reason: 'swipe'\n          });\n        }\n\n        // Manually calling handleTransitionEnd in that case as isn't otherwise.\n        if (indexCurrent === indexLatest) {\n          _this.handleTransitionEnd();\n        }\n      });\n    }, _this.handleTouchStart = function (event) {\n      if (_this.props.onTouchStart) {\n        _this.props.onTouchStart(event);\n      }\n      _this.handleSwipeStart(event);\n    }, _this.handleTouchEnd = function (event) {\n      if (_this.props.onTouchEnd) {\n        _this.props.onTouchEnd(event);\n      }\n      _this.handleSwipeEnd(event);\n    }, _this.handleMouseDown = function (event) {\n      if (_this.props.onMouseDown) {\n        _this.props.onMouseDown(event);\n      }\n      event.persist();\n      _this.handleSwipeStart(adaptMouse(event));\n    }, _this.handleMouseUp = function (event) {\n      if (_this.props.onMouseUp) {\n        _this.props.onMouseUp(event);\n      }\n      _this.handleSwipeEnd(adaptMouse(event));\n    }, _this.handleMouseLeave = function (event) {\n      if (_this.props.onMouseLeave) {\n        _this.props.onMouseLeave(event);\n      }\n\n      // Filter out events\n      if (_this.started) {\n        _this.handleSwipeEnd(adaptMouse(event));\n      }\n    }, _this.handleMouseMove = function (event) {\n      if (_this.props.onMouseMove) {\n        _this.props.onMouseMove(event);\n      }\n\n      // Filter out events\n      if (_this.started) {\n        _this.handleSwipeMove(adaptMouse(event));\n      }\n    }, _this.handleScroll = function (event) {\n      if (_this.props.onScroll) {\n        _this.props.onScroll(event);\n      }\n\n      // Ignore events bubbling up.\n      if (event.target !== _this.rootNode) {\n        return;\n      }\n\n      if (_this.ignoreNextScrollEvents) {\n        _this.ignoreNextScrollEvents = false;\n        return;\n      }\n\n      var indexLatest = _this.state.indexLatest;\n      var indexNew = Math.ceil(event.target.scrollLeft / event.target.clientWidth) + indexLatest;\n\n      _this.ignoreNextScrollEvents = true;\n      // Reset the scroll position.\n      event.target.scrollLeft = 0;\n\n      if (_this.props.onChangeIndex && indexNew !== indexLatest) {\n        _this.props.onChangeIndex(indexNew, indexLatest, {\n          reason: 'focus'\n        });\n      }\n    }, _this.updateHeight = function () {\n      if (_this.activeSlide !== null) {\n        var child = _this.activeSlide.children[0];\n        if (child !== undefined && child.offsetHeight !== undefined && _this.state.heightLatest !== child.offsetHeight) {\n          _this.setState({\n            heightLatest: child.offsetHeight\n          });\n        }\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(SwipeableViews, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      var _this2 = this;\n\n      return {\n        swipeableViews: {\n          slideUpdateHeight: function slideUpdateHeight() {\n            _this2.updateHeight();\n          }\n        }\n      };\n    }\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      if (false) {\n        (0, _reactSwipeableViewsCore.checkIndexBounds)(this.props);\n      }\n\n      this.setIndexCurrent(this.props.index);\n      this.setState({\n        indexLatest: this.props.index\n      });\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      // Subscribe to transition end events.\n      this.transitionListener = addEventListenerEnhanced(this.containerNode, _properties2.default.end, function (event) {\n        if (event.target !== _this3.containerNode) {\n          return;\n        }\n\n        _this3.handleTransitionEnd();\n      });\n\n      // Block the thread to handle that event.\n      this.touchMoveListener = addEventListenerEnhanced(this.rootNode, 'touchmove', function (event) {\n        // Handling touch events is disabled.\n        if (_this3.props.disabled) {\n          return;\n        }\n        _this3.handleSwipeMove(event);\n      }, {\n        passive: false\n      });\n\n      // eslint-disable-next-line react/no-did-mount-set-state\n      this.setState({\n        isFirstRender: false\n      });\n\n      injectStyle();\n\n      // Send all functions in an object if action param is set.\n      if (this.props.action) {\n        this.props.action({\n          updateHeight: this.updateHeight\n        });\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var index = nextProps.index;\n\n      if (typeof index === 'number' && index !== this.props.index) {\n        if (false) {\n          (0, _reactSwipeableViewsCore.checkIndexBounds)(nextProps);\n        }\n\n        this.setIndexCurrent(index);\n        this.setState({\n          // If true, we are going to change the children. We shoudn't animate it.\n          displaySameSlide: (0, _reactSwipeableViewsCore.getDisplaySameSlide)(this.props, nextProps),\n          indexLatest: index\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.transitionListener.remove();\n      this.touchMoveListener.remove();\n    }\n  }, {\n    key: 'setIndexCurrent',\n    value: function setIndexCurrent(indexCurrent) {\n      if (!this.props.animateTransitions && this.indexCurrent !== indexCurrent) {\n        this.handleTransitionEnd();\n      }\n\n      this.indexCurrent = indexCurrent;\n\n      if (this.containerNode) {\n        var axis = this.props.axis;\n\n        var transform = axisProperties.transform[axis](indexCurrent * 100);\n        this.containerNode.style.WebkitTransform = transform;\n        this.containerNode.style.transform = transform;\n      }\n    }\n  }, {\n    key: 'handleTransitionEnd',\n    value: function handleTransitionEnd() {\n      if (!this.props.onTransitionEnd) {\n        return;\n      }\n\n      // Filters out when changing the children\n      if (this.state.displaySameSlide) {\n        return;\n      }\n\n      // The rest callback is triggered when swiping. It's just noise.\n      // We filter it out.\n      if (!this.state.isDragging) {\n        this.props.onTransitionEnd();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props = this.props,\n          action = _props.action,\n          animateHeight = _props.animateHeight,\n          animateTransitions = _props.animateTransitions,\n          axis = _props.axis,\n          children = _props.children,\n          containerStyleProp = _props.containerStyle,\n          disabled = _props.disabled,\n          disableLazyLoading = _props.disableLazyLoading,\n          enableMouseEvents = _props.enableMouseEvents,\n          hysteresis = _props.hysteresis,\n          ignoreNativeScroll = _props.ignoreNativeScroll,\n          index = _props.index,\n          onChangeIndex = _props.onChangeIndex,\n          onSwitching = _props.onSwitching,\n          onTransitionEnd = _props.onTransitionEnd,\n          resistance = _props.resistance,\n          slideStyleProp = _props.slideStyle,\n          slideClassName = _props.slideClassName,\n          springConfig = _props.springConfig,\n          style = _props.style,\n          threshold = _props.threshold,\n          other = (0, _objectWithoutProperties3.default)(_props, ['action', 'animateHeight', 'animateTransitions', 'axis', 'children', 'containerStyle', 'disabled', 'disableLazyLoading', 'enableMouseEvents', 'hysteresis', 'ignoreNativeScroll', 'index', 'onChangeIndex', 'onSwitching', 'onTransitionEnd', 'resistance', 'slideStyle', 'slideClassName', 'springConfig', 'style', 'threshold']);\n      var _state = this.state,\n          displaySameSlide = _state.displaySameSlide,\n          heightLatest = _state.heightLatest,\n          isDragging = _state.isDragging,\n          isFirstRender = _state.isFirstRender,\n          indexLatest = _state.indexLatest;\n\n      var touchEvents = !disabled ? {\n        onTouchStart: this.handleTouchStart,\n        onTouchEnd: this.handleTouchEnd\n      } : {};\n      var mouseEvents = !disabled && enableMouseEvents ? {\n        onMouseDown: this.handleMouseDown,\n        onMouseUp: this.handleMouseUp,\n        onMouseLeave: this.handleMouseLeave,\n        onMouseMove: this.handleMouseMove\n      } : {};\n\n      // There is no point to animate if we are already providing a height.\n       false ? (0, _warning2.default)(!animateHeight || !containerStyleProp || !containerStyleProp.height, 'react-swipeable-view: You are setting animateHeight to true but you are\\nalso providing a custom height.\\nThe custom height has a higher priority than the animateHeight property.\\nSo animateHeight is most likely having no effect at all.') : void 0;\n\n      var slideStyle = (0, _extends3.default)({}, styles.slide, slideStyleProp);\n\n      var transition = void 0;\n      var WebkitTransition = void 0;\n\n      if (isDragging || !animateTransitions || displaySameSlide) {\n        transition = 'all 0s ease 0s';\n        WebkitTransition = 'all 0s ease 0s';\n      } else {\n        transition = createTransition('transform', springConfig);\n        WebkitTransition = createTransition('-webkit-transform', springConfig);\n\n        if (heightLatest !== 0) {\n          var additionalTranstion = ', ' + createTransition('height', springConfig);\n          transition += additionalTranstion;\n          WebkitTransition += additionalTranstion;\n        }\n      }\n\n      var containerStyle = {\n        height: null,\n        WebkitFlexDirection: axisProperties.flexDirection[axis],\n        flexDirection: axisProperties.flexDirection[axis],\n        WebkitTransition: WebkitTransition,\n        transition: transition\n      };\n\n      // Apply the styles for SSR considerations\n      if (disableLazyLoading || !isFirstRender) {\n        var transform = axisProperties.transform[axis](this.indexCurrent * 100);\n        containerStyle.WebkitTransform = transform;\n        containerStyle.transform = transform;\n      }\n\n      if (animateHeight) {\n        containerStyle.height = heightLatest;\n      }\n\n      return _react2.default.createElement('div', (0, _extends3.default)({\n        ref: function ref(node) {\n          _this4.rootNode = node;\n        },\n        style: (0, _extends3.default)({}, axisProperties.root[axis], style)\n      }, other, touchEvents, mouseEvents, {\n        onScroll: this.handleScroll\n      }), _react2.default.createElement('div', {\n        ref: function ref(node) {\n          _this4.containerNode = node;\n        },\n        style: (0, _extends3.default)({}, containerStyle, styles.container, containerStyleProp),\n        className: 'react-swipeable-view-container'\n      }, _react.Children.map(children, function (child, indexChild) {\n        if (!disableLazyLoading && isFirstRender && indexChild !== indexLatest) {\n          return null;\n        }\n\n         false ? (0, _warning2.default)((0, _react.isValidElement)(child), 'react-swipeable-view: one of the children provided is invalid: ' + child + '.\\nWe are expecting a valid React Element') : void 0;\n\n        var ref = void 0;\n        var hidden = true;\n\n        if (indexChild === indexLatest) {\n          hidden = false;\n\n          if (animateHeight) {\n            ref = function ref(node) {\n              _this4.activeSlide = node;\n              _this4.updateHeight();\n            };\n            slideStyle.overflowY = 'hidden';\n          }\n        }\n\n        return _react2.default.createElement('div', {\n          ref: ref,\n          style: slideStyle,\n          className: slideClassName,\n          'aria-hidden': hidden,\n          'data-swipeable': 'true'\n        }, child);\n      })));\n    }\n  }]);\n  return SwipeableViews;\n}(_react.Component);\n\n// Added as an ads for people using the React dev tools in production.\n// So they know, the tool used to build the awesome UI they\n// are looking at/retro engineering.\n\n\nSwipeableViews.displayName = 'ReactSwipableView';\n\nSwipeableViews.propTypes =  false ? {\n  /**\n   * This is callback property. It's called by the component on mount.\n   * This is useful when you want to trigger an action programmatically.\n   * It currently only supports updateHeight() action.\n   *\n   * @param {object} actions This object contains all posible actions\n   * that can be triggered programmatically.\n   */\n  action: _propTypes2.default.func,\n  /**\n   * If `true`, the height of the container will be animated to match the current slide height.\n   * Animating another style property has a negative impact regarding performance.\n   */\n  animateHeight: _propTypes2.default.bool,\n  /**\n   * If `false`, changes to the index prop will not cause an animated transition.\n   */\n  animateTransitions: _propTypes2.default.bool,\n  /**\n   * The axis on which the slides will slide.\n   */\n  axis: _propTypes2.default.oneOf(['x', 'x-reverse', 'y', 'y-reverse']),\n  /**\n   * Use this property to provide your slides.\n   */\n  children: _propTypes2.default.node.isRequired,\n  /**\n   * This is the inlined style that will be applied\n   * to each slide container.\n   */\n  containerStyle: _propTypes2.default.object,\n  /**\n   * If `true`, it will disable touch events.\n   * This is useful when you want to prohibit the user from changing slides.\n   */\n  disabled: _propTypes2.default.bool,\n  /**\n   * This is the config used to disable lazyloding,\n   * if `true` will render all the views in first rendering.\n   */\n  disableLazyLoading: _propTypes2.default.bool,\n  /**\n   * If `true`, it will enable mouse events.\n   * This will allow the user to perform the relevant swipe actions with a mouse.\n   */\n  enableMouseEvents: _propTypes2.default.bool,\n  /**\n   * Configure hysteresis between slides. This value determines how far\n   * should user swipe to switch slide.\n   */\n  hysteresis: _propTypes2.default.number,\n  /**\n   * If `true`, it will ignore native scroll container.\n   * It can be used to filter out false positive that blocks the swipe.\n   */\n  ignoreNativeScroll: _propTypes2.default.bool,\n  /**\n   * This is the index of the slide to show.\n   * This is useful when you want to change the default slide shown.\n   * Or when you have tabs linked to each slide.\n   */\n  index: _propTypes2.default.number,\n  /**\n   * This is callback prop. It's call by the\n   * component when the shown slide change after a swipe made by the user.\n   * This is useful when you have tabs linked to each slide.\n   *\n   * @param {integer} index This is the current index of the slide.\n   * @param {integer} indexLatest This is the oldest index of the slide.\n   * @param {object} meta Meta data containing more information about the event.\n   */\n  onChangeIndex: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onMouseDown: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onMouseLeave: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onMouseMove: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onMouseUp: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onScroll: _propTypes2.default.func,\n  /**\n   * This is callback prop. It's called by the\n   * component when the slide switching.\n   * This is useful when you want to implement something corresponding\n   * to the current slide position.\n   *\n   * @param {integer} index This is the current index of the slide.\n   * @param {string} type Can be either `move` or `end`.\n   */\n  onSwitching: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onTouchEnd: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onTouchMove: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onTouchStart: _propTypes2.default.func,\n  /**\n   * The callback that fires when the animation comes to a rest.\n   * This is useful to defer CPU intensive task.\n   */\n  onTransitionEnd: _propTypes2.default.func,\n  /**\n   * If `true`, it will add bounds effect on the edges.\n   */\n  resistance: _propTypes2.default.bool,\n  /**\n   * This is the className that will be applied\n   * on the slide component.\n   */\n  slideClassName: _propTypes2.default.string,\n  /**\n   * This is the inlined style that will be applied\n   * on the slide component.\n   */\n  slideStyle: _propTypes2.default.object,\n  /**\n   * This is the config used to create CSS transitions.\n   * This is useful to change the dynamic of the transition.\n   */\n  springConfig: _propTypes2.default.shape({\n    duration: _propTypes2.default.string,\n    easeFunction: _propTypes2.default.string,\n    delay: _propTypes2.default.string\n  }),\n  /**\n   * This is the inlined style that will be applied\n   * on the root component.\n   */\n  style: _propTypes2.default.object,\n  /**\n   * This is the threshold used for detecting a quick swipe.\n   * If the computed speed is above this value, the index change.\n   */\n  threshold: _propTypes2.default.number\n} : {};\n\nSwipeableViews.defaultProps = {\n  animateHeight: false,\n  animateTransitions: true,\n  axis: 'x',\n  disabled: false,\n  disableLazyLoading: false,\n  enableMouseEvents: false,\n  hysteresis: 0.6,\n  ignoreNativeScroll: false,\n  index: 0,\n  threshold: 5,\n  springConfig: {\n    duration: '0.35s',\n    easeFunction: 'cubic-bezier(0.15, 0.3, 0.25, 1)',\n    delay: '0s'\n  },\n  resistance: false\n};\n\nSwipeableViews.childContextTypes = {\n  swipeableViews: _propTypes2.default.shape({\n    slideUpdateHeight: _propTypes2.default.func\n  })\n};\n\nexports.default = SwipeableViews;\n\n/***/ }),\n\n/***/ 470:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(471), __esModule: true };\n\n/***/ }),\n\n/***/ 471:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(472);\nmodule.exports = __webpack_require__(9).Object.getPrototypeOf;\n\n/***/ }),\n\n/***/ 472:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = __webpack_require__(144);\nvar $getPrototypeOf = __webpack_require__(204);\n\n__webpack_require__(468)('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n/***/ }),\n\n/***/ 473:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(474), __esModule: true };\n\n/***/ }),\n\n/***/ 474:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(475);\nvar $Object = __webpack_require__(9).Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n/***/ }),\n\n/***/ 475:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(30);\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !__webpack_require__(11), 'Object', { defineProperty: __webpack_require__(12).f });\n\n/***/ }),\n\n/***/ 476:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _checkIndexBounds = __webpack_require__(477);\n\nObject.defineProperty(exports, 'checkIndexBounds', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_checkIndexBounds).default;\n  }\n});\n\nvar _computeIndex = __webpack_require__(478);\n\nObject.defineProperty(exports, 'computeIndex', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_computeIndex).default;\n  }\n});\n\nvar _constant = __webpack_require__(223);\n\nObject.defineProperty(exports, 'constant', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_constant).default;\n  }\n});\n\nvar _getDisplaySameSlide = __webpack_require__(479);\n\nObject.defineProperty(exports, 'getDisplaySameSlide', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_getDisplaySameSlide).default;\n  }\n});\n\nvar _mod = __webpack_require__(480);\n\nObject.defineProperty(exports, 'mod', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_mod).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/***/ }),\n\n/***/ 477:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(0);\n\nvar _warning = __webpack_require__(20);\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar checkIndexBounds = function checkIndexBounds(props) {\n  var index = props.index,\n      children = props.children;\n\n  var childrenCount = _react.Children.count(children);\n\n   false ? (0, _warning2.default)(index >= 0 && index <= childrenCount, 'react-swipeable-view: the new index: ' + index + ' is out of bounds: [0-' + childrenCount + '].') : void 0;\n};\n\nexports.default = checkIndexBounds;\n\n/***/ }),\n\n/***/ 478:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = computeIndex;\n\nvar _react = __webpack_require__(0);\n\nvar _constant = __webpack_require__(223);\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction computeIndex(params) {\n  var children = params.children,\n      startIndex = params.startIndex,\n      startX = params.startX,\n      pageX = params.pageX,\n      viewLength = params.viewLength,\n      resistance = params.resistance;\n\n  var indexMax = _react.Children.count(children) - 1;\n  var index = startIndex + (startX - pageX) / viewLength;\n  var newStartX = void 0;\n\n  if (!resistance) {\n    // Reset the starting point\n    if (index < 0) {\n      index = 0;\n      newStartX = (index - startIndex) * viewLength + pageX;\n    } else if (index > indexMax) {\n      index = indexMax;\n      newStartX = (index - startIndex) * viewLength + pageX;\n    }\n  } else if (index < 0) {\n    index = Math.exp(index * _constant2.default.RESISTANCE_COEF) - 1;\n  } else if (index > indexMax) {\n    index = indexMax + 1 - Math.exp((indexMax - index) * _constant2.default.RESISTANCE_COEF);\n  }\n\n  return {\n    index: index,\n    startX: newStartX\n  };\n}\n\n/***/ }),\n\n/***/ 479:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar getDisplaySameSlide = function getDisplaySameSlide(props, nextProps) {\n  var displaySameSlide = false;\n\n  if (props.children.length && nextProps.children.length) {\n    var oldChildren = props.children[props.index];\n    var oldKey = oldChildren ? oldChildren.key : 'empty';\n\n    if (oldKey !== null) {\n      var newChildren = nextProps.children[nextProps.index];\n      var newKey = newChildren ? newChildren.key : 'empty';\n\n      if (oldKey === newKey) {\n        displaySameSlide = true;\n      }\n    }\n  }\n\n  return displaySameSlide;\n};\n\nexports.default = getDisplaySameSlide;\n\n/***/ }),\n\n/***/ 480:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Extended version of % with negative integer support.\nfunction mod(n, m) {\n  var q = n % m;\n  return q < 0 ? q + m : q;\n}\n\nexports.default = mod;\n\n/***/ }),\n\n/***/ 488:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findElementPosition\", function() { return findElementPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPointerPosition\", function() { return getPointerPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Video; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_throttle__ = __webpack_require__(165);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_throttle___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash_throttle__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_intl__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_immutable__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_immutable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_immutable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_classnames__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_flavours_glitch_util_fullscreen__ = __webpack_require__(592);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_flavours_glitch_util_initial_state__ = __webpack_require__(53);\n\n\n\n\n\n\nvar _class;\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(__WEBPACK_IMPORTED_MODULE_6_react_intl__[\"f\" /* defineMessages */])({\n  play: {\n    'id': 'video.play',\n    'defaultMessage': 'Play'\n  },\n  pause: {\n    'id': 'video.pause',\n    'defaultMessage': 'Pause'\n  },\n  mute: {\n    'id': 'video.mute',\n    'defaultMessage': 'Mute sound'\n  },\n  unmute: {\n    'id': 'video.unmute',\n    'defaultMessage': 'Unmute sound'\n  },\n  hide: {\n    'id': 'video.hide',\n    'defaultMessage': 'Hide video'\n  },\n  expand: {\n    'id': 'video.expand',\n    'defaultMessage': 'Expand video'\n  },\n  close: {\n    'id': 'video.close',\n    'defaultMessage': 'Close video'\n  },\n  fullscreen: {\n    'id': 'video.fullscreen',\n    'defaultMessage': 'Full screen'\n  },\n  exit_fullscreen: {\n    'id': 'video.exit_fullscreen',\n    'defaultMessage': 'Exit full screen'\n  }\n});\n\nvar formatTime = function formatTime(secondsNum) {\n  var hours = Math.floor(secondsNum / 3600);\n  var minutes = Math.floor((secondsNum - hours * 3600) / 60);\n  var seconds = secondsNum - hours * 3600 - minutes * 60;\n\n  if (hours < 10) hours = '0' + hours;\n  if (minutes < 10) minutes = '0' + minutes;\n  if (seconds < 10) seconds = '0' + seconds;\n  return (hours === '00' ? '' : hours + ':') + (minutes + ':' + seconds);\n};\n\nvar findElementPosition = function findElementPosition(el) {\n  var box = void 0;\n\n  if (el.getBoundingClientRect && el.parentNode) {\n    box = el.getBoundingClientRect();\n  }\n\n  if (!box) {\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n\n  var docEl = document.documentElement;\n  var body = document.body;\n\n  var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n  var scrollLeft = window.pageXOffset || body.scrollLeft;\n  var left = box.left + scrollLeft - clientLeft;\n\n  var clientTop = docEl.clientTop || body.clientTop || 0;\n  var scrollTop = window.pageYOffset || body.scrollTop;\n  var top = box.top + scrollTop - clientTop;\n\n  return {\n    left: Math.round(left),\n    top: Math.round(top)\n  };\n};\n\nvar getPointerPosition = function getPointerPosition(el, event) {\n  var position = {};\n  var box = findElementPosition(el);\n  var boxW = el.offsetWidth;\n  var boxH = el.offsetHeight;\n  var boxY = box.top;\n  var boxX = box.left;\n\n  var pageY = event.pageY;\n  var pageX = event.pageX;\n\n  if (event.changedTouches) {\n    pageX = event.changedTouches[0].pageX;\n    pageY = event.changedTouches[0].pageY;\n  }\n\n  position.y = Math.max(0, Math.min(1, (pageY - boxY) / boxH));\n  position.x = Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n\n  return position;\n};\n\nvar Video = Object(__WEBPACK_IMPORTED_MODULE_6_react_intl__[\"g\" /* injectIntl */])(_class = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(Video, _React$PureComponent);\n\n  function Video() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Video);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.state = {\n      currentTime: 0,\n      duration: 0,\n      paused: true,\n      dragging: false,\n      containerWidth: false,\n      fullscreen: false,\n      hovered: false,\n      muted: false,\n      revealed: _this.props.revealed === undefined ? !_this.props.sensitive || __WEBPACK_IMPORTED_MODULE_10_flavours_glitch_util_initial_state__[\"e\" /* displaySensitiveMedia */] : _this.props.revealed\n    }, _this.setPlayerRef = function (c) {\n      _this.player = c;\n\n      if (c) {\n        _this.setState({\n          containerWidth: c.offsetWidth\n        });\n      }\n    }, _this.setVideoRef = function (c) {\n      _this.video = c;\n    }, _this.setSeekRef = function (c) {\n      _this.seek = c;\n    }, _this.handleClickRoot = function (e) {\n      return e.stopPropagation();\n    }, _this.handlePlay = function () {\n      _this.setState({ paused: false });\n    }, _this.handlePause = function () {\n      _this.setState({ paused: true });\n    }, _this.handleTimeUpdate = function () {\n      _this.setState({\n        currentTime: Math.floor(_this.video.currentTime),\n        duration: Math.floor(_this.video.duration)\n      });\n    }, _this.handleMouseDown = function (e) {\n      document.addEventListener('mousemove', _this.handleMouseMove, true);\n      document.addEventListener('mouseup', _this.handleMouseUp, true);\n      document.addEventListener('touchmove', _this.handleMouseMove, true);\n      document.addEventListener('touchend', _this.handleMouseUp, true);\n\n      _this.setState({ dragging: true });\n      _this.video.pause();\n      _this.handleMouseMove(e);\n    }, _this.handleMouseUp = function () {\n      document.removeEventListener('mousemove', _this.handleMouseMove, true);\n      document.removeEventListener('mouseup', _this.handleMouseUp, true);\n      document.removeEventListener('touchmove', _this.handleMouseMove, true);\n      document.removeEventListener('touchend', _this.handleMouseUp, true);\n\n      _this.setState({ dragging: false });\n      _this.video.play();\n    }, _this.handleMouseMove = __WEBPACK_IMPORTED_MODULE_4_lodash_throttle___default()(function (e) {\n      var _getPointerPosition = getPointerPosition(_this.seek, e),\n          x = _getPointerPosition.x;\n\n      var currentTime = Math.floor(_this.video.duration * x);\n\n      _this.video.currentTime = currentTime;\n      _this.setState({ currentTime: currentTime });\n    }, 60), _this.togglePlay = function () {\n      if (_this.state.paused) {\n        _this.video.play();\n      } else {\n        _this.video.pause();\n      }\n    }, _this.toggleFullscreen = function () {\n      if (Object(__WEBPACK_IMPORTED_MODULE_9_flavours_glitch_util_fullscreen__[\"d\" /* isFullscreen */])()) {\n        Object(__WEBPACK_IMPORTED_MODULE_9_flavours_glitch_util_fullscreen__[\"c\" /* exitFullscreen */])();\n      } else {\n        Object(__WEBPACK_IMPORTED_MODULE_9_flavours_glitch_util_fullscreen__[\"e\" /* requestFullscreen */])(_this.player);\n      }\n    }, _this.handleFullscreenChange = function () {\n      _this.setState({ fullscreen: Object(__WEBPACK_IMPORTED_MODULE_9_flavours_glitch_util_fullscreen__[\"d\" /* isFullscreen */])() });\n    }, _this.handleMouseEnter = function () {\n      _this.setState({ hovered: true });\n    }, _this.handleMouseLeave = function () {\n      _this.setState({ hovered: false });\n    }, _this.toggleMute = function () {\n      _this.video.muted = !_this.video.muted;\n      _this.setState({ muted: _this.video.muted });\n    }, _this.toggleReveal = function () {\n      if (_this.state.revealed) {\n        _this.video.pause();\n      }\n\n      _this.setState({ revealed: !_this.state.revealed });\n    }, _this.handleLoadedData = function () {\n      if (_this.props.startTime) {\n        _this.video.currentTime = _this.props.startTime;\n        _this.video.play();\n      }\n    }, _this.handleProgress = function () {\n      if (_this.video.buffered.length > 0) {\n        _this.setState({ buffer: _this.video.buffered.end(0) / _this.video.duration * 100 });\n      }\n    }, _this.handleOpenVideo = function () {\n      var _this$props = _this.props,\n          src = _this$props.src,\n          preview = _this$props.preview,\n          width = _this$props.width,\n          height = _this$props.height;\n\n      var media = Object(__WEBPACK_IMPORTED_MODULE_7_immutable__[\"fromJS\"])({\n        type: 'video',\n        url: src,\n        preview_url: preview,\n        width: width,\n        height: height\n      });\n\n      _this.video.pause();\n      _this.props.onOpenVideo(media, _this.video.currentTime);\n    }, _this.handleCloseVideo = function () {\n      _this.video.pause();\n      _this.props.onCloseVideo();\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  Video.prototype.componentDidMount = function componentDidMount() {\n    document.addEventListener('fullscreenchange', this.handleFullscreenChange, true);\n    document.addEventListener('webkitfullscreenchange', this.handleFullscreenChange, true);\n    document.addEventListener('mozfullscreenchange', this.handleFullscreenChange, true);\n    document.addEventListener('MSFullscreenChange', this.handleFullscreenChange, true);\n  };\n\n  Video.prototype.componentWillUnmount = function componentWillUnmount() {\n    document.removeEventListener('fullscreenchange', this.handleFullscreenChange, true);\n    document.removeEventListener('webkitfullscreenchange', this.handleFullscreenChange, true);\n    document.removeEventListener('mozfullscreenchange', this.handleFullscreenChange, true);\n    document.removeEventListener('MSFullscreenChange', this.handleFullscreenChange, true);\n  };\n\n  Video.prototype.render = function render() {\n    var _props = this.props,\n        preview = _props.preview,\n        src = _props.src,\n        inline = _props.inline,\n        startTime = _props.startTime,\n        onOpenVideo = _props.onOpenVideo,\n        onCloseVideo = _props.onCloseVideo,\n        intl = _props.intl,\n        alt = _props.alt,\n        letterbox = _props.letterbox,\n        fullwidth = _props.fullwidth,\n        detailed = _props.detailed,\n        sensitive = _props.sensitive;\n    var _state = this.state,\n        containerWidth = _state.containerWidth,\n        currentTime = _state.currentTime,\n        duration = _state.duration,\n        buffer = _state.buffer,\n        dragging = _state.dragging,\n        paused = _state.paused,\n        fullscreen = _state.fullscreen,\n        hovered = _state.hovered,\n        muted = _state.muted,\n        revealed = _state.revealed;\n\n    var progress = currentTime / duration * 100;\n    var playerStyle = {};\n\n    var _props2 = this.props,\n        width = _props2.width,\n        height = _props2.height;\n\n\n    if (inline && containerWidth) {\n      width = containerWidth;\n      height = containerWidth / (16 / 9);\n\n      playerStyle.width = width;\n      playerStyle.height = height;\n    }\n\n    var warning = void 0;\n    if (sensitive) {\n      warning = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_6_react_intl__[\"b\" /* FormattedMessage */], {\n        id: 'status.sensitive_warning',\n        defaultMessage: 'Sensitive content'\n      });\n    } else {\n      warning = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_6_react_intl__[\"b\" /* FormattedMessage */], {\n        id: 'status.media_hidden',\n        defaultMessage: 'Media hidden'\n      });\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement(\n      'div',\n      {\n        className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('video-player', { inactive: !revealed, detailed: detailed, inline: inline && !fullscreen, fullscreen: fullscreen, letterbox: letterbox, 'full-width': fullwidth }),\n        style: playerStyle,\n        ref: this.setPlayerRef,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        onClick: this.handleClickRoot,\n        tabIndex: 0\n      },\n      __WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('video', {\n        ref: this.setVideoRef,\n        src: src,\n        poster: preview,\n        preload: startTime ? 'auto' : 'none',\n        loop: true,\n        role: 'button',\n        tabIndex: '0',\n        'aria-label': alt,\n        width: width,\n        height: height,\n        onClick: this.togglePlay,\n        onPlay: this.handlePlay,\n        onPause: this.handlePause,\n        onTimeUpdate: this.handleTimeUpdate,\n        onLoadedData: this.handleLoadedData,\n        onProgress: this.handleProgress\n      }),\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('video-player__spoiler', { active: !revealed }),\n        onClick: this.toggleReveal\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'video-player__spoiler__title'\n      }, void 0, warning), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'video-player__spoiler__subtitle'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_6_react_intl__[\"b\" /* FormattedMessage */], {\n        id: 'status.sensitive_toggle',\n        defaultMessage: 'Click to view'\n      }))),\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('video-player__controls', { active: paused || hovered })\n      }, void 0, __WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement(\n        'div',\n        { className: 'video-player__seek', onMouseDown: this.handleMouseDown, ref: this.setSeekRef },\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n          className: 'video-player__seek__buffer',\n          style: { width: buffer + '%' }\n        }),\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n          className: 'video-player__seek__progress',\n          style: { width: progress + '%' }\n        }),\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n          className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('video-player__seek__handle', { active: dragging }),\n          tabIndex: '0',\n          style: { left: progress + '%' }\n        })\n      ), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: 'video-player__buttons-bar'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: 'video-player__buttons left'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        'aria-label': intl.formatMessage(paused ? messages.play : messages.pause),\n        onClick: this.togglePlay\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('fa fa-fw', { 'fa-play': paused, 'fa-pause': !paused })\n      })), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        'aria-label': intl.formatMessage(muted ? messages.unmute : messages.mute),\n        onClick: this.toggleMute\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('fa fa-fw', { 'fa-volume-off': muted, 'fa-volume-up': !muted })\n      })), !onCloseVideo && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        'aria-label': intl.formatMessage(messages.hide),\n        onClick: this.toggleReveal\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: 'fa fa-fw fa-eye'\n      })), (detailed || fullscreen) && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {}, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'video-player__time-current'\n      }, void 0, formatTime(currentTime)), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'video-player__time-sep'\n      }, void 0, '/'), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'video-player__time-total'\n      }, void 0, formatTime(duration)))), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: 'video-player__buttons right'\n      }, void 0, !fullscreen && onOpenVideo && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        'aria-label': intl.formatMessage(messages.expand),\n        onClick: this.handleOpenVideo\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: 'fa fa-fw fa-expand'\n      })), onCloseVideo && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        'aria-label': intl.formatMessage(messages.close),\n        onClick: this.handleCloseVideo\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: 'fa fa-fw fa-compress'\n      })), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        type: 'button',\n        'aria-label': intl.formatMessage(fullscreen ? messages.exit_fullscreen : messages.fullscreen),\n        onClick: this.toggleFullscreen\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n        className: __WEBPACK_IMPORTED_MODULE_8_classnames___default()('fa fa-fw', { 'fa-arrows-alt': !fullscreen, 'fa-compress': fullscreen })\n      })))))\n    );\n  };\n\n  return Video;\n}(__WEBPACK_IMPORTED_MODULE_5_react___default.a.PureComponent)) || _class;\n\n\n\n/***/ }),\n\n/***/ 490:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ImageLoader; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(203);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_classnames__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__zoomable_image__ = __webpack_require__(608);\n\n\n\n\n\n\nvar _class, _temp2;\n\n\n\n\n\n\nvar ImageLoader = (_temp2 = _class = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(ImageLoader, _React$PureComponent);\n\n  function ImageLoader() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, ImageLoader);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.state = {\n      loading: true,\n      error: false\n    }, _this.removers = [], _this.canvas = null, _this.loadPreviewCanvas = function (_ref) {\n      var previewSrc = _ref.previewSrc,\n          width = _ref.width,\n          height = _ref.height;\n      return new Promise(function (resolve, reject) {\n        var image = new Image();\n        var removeEventListeners = function removeEventListeners() {\n          image.removeEventListener('error', handleError);\n          image.removeEventListener('load', handleLoad);\n        };\n        var handleError = function handleError() {\n          removeEventListeners();\n          reject();\n        };\n        var handleLoad = function handleLoad() {\n          removeEventListeners();\n          _this.canvasContext.drawImage(image, 0, 0, width, height);\n          resolve();\n        };\n        image.addEventListener('error', handleError);\n        image.addEventListener('load', handleLoad);\n        image.src = previewSrc;\n        _this.removers.push(removeEventListeners);\n      });\n    }, _this.loadOriginalImage = function (_ref2) {\n      var src = _ref2.src;\n      return new Promise(function (resolve, reject) {\n        var image = new Image();\n        var removeEventListeners = function removeEventListeners() {\n          image.removeEventListener('error', handleError);\n          image.removeEventListener('load', handleLoad);\n        };\n        var handleError = function handleError() {\n          removeEventListeners();\n          reject();\n        };\n        var handleLoad = function handleLoad() {\n          removeEventListeners();\n          resolve();\n        };\n        image.addEventListener('error', handleError);\n        image.addEventListener('load', handleLoad);\n        image.src = src;\n        _this.removers.push(removeEventListeners);\n      });\n    }, _this.setCanvasRef = function (c) {\n      _this.canvas = c;\n    }, _temp), __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  ImageLoader.prototype.componentDidMount = function componentDidMount() {\n    this.loadImage(this.props);\n  };\n\n  ImageLoader.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (this.props.src !== nextProps.src) {\n      this.loadImage(nextProps);\n    }\n  };\n\n  ImageLoader.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.removeEventListeners();\n  };\n\n  ImageLoader.prototype.loadImage = function loadImage(props) {\n    var _this2 = this;\n\n    this.removeEventListeners();\n    this.setState({ loading: true, error: false });\n    Promise.all([props.previewSrc && this.loadPreviewCanvas(props), this.hasSize() && this.loadOriginalImage(props)].filter(Boolean)).then(function () {\n      _this2.setState({ loading: false, error: false });\n      _this2.clearPreviewCanvas();\n    }).catch(function () {\n      return _this2.setState({ loading: false, error: true });\n    });\n  };\n\n  ImageLoader.prototype.clearPreviewCanvas = function clearPreviewCanvas() {\n    var _canvas = this.canvas,\n        width = _canvas.width,\n        height = _canvas.height;\n\n    this.canvasContext.clearRect(0, 0, width, height);\n  };\n\n  ImageLoader.prototype.removeEventListeners = function removeEventListeners() {\n    this.removers.forEach(function (listeners) {\n      return listeners();\n    });\n    this.removers = [];\n  };\n\n  ImageLoader.prototype.hasSize = function hasSize() {\n    var _props = this.props,\n        width = _props.width,\n        height = _props.height;\n\n    return typeof width === 'number' && typeof height === 'number';\n  };\n\n  ImageLoader.prototype.render = function render() {\n    var _props2 = this.props,\n        alt = _props2.alt,\n        src = _props2.src,\n        width = _props2.width,\n        height = _props2.height,\n        onClick = _props2.onClick;\n    var loading = this.state.loading;\n\n\n    var className = __WEBPACK_IMPORTED_MODULE_6_classnames___default()('image-loader', {\n      'image-loader--loading': loading,\n      'image-loader--amorphous': !this.hasSize()\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: className\n    }, void 0, loading ? __WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('canvas', {\n      className: 'image-loader__preview-canvas',\n      ref: this.setCanvasRef,\n      width: width,\n      height: height\n    }) : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_7__zoomable_image__[\"a\" /* default */], {\n      alt: alt,\n      src: src,\n      onClick: onClick\n    }));\n  };\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(ImageLoader, [{\n    key: 'canvasContext',\n    get: function get() {\n      if (!this.canvas) {\n        return null;\n      }\n      this._canvasContext = this._canvasContext || this.canvas.getContext('2d');\n      return this._canvasContext;\n    }\n  }]);\n\n  return ImageLoader;\n}(__WEBPACK_IMPORTED_MODULE_5_react___default.a.PureComponent), _class.defaultProps = {\n  alt: '',\n  width: null,\n  height: null\n}, _temp2);\n\n\n/***/ }),\n\n/***/ 5:\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (false) {\n  var REACT_ELEMENT_TYPE = typeof Symbol === 'function' && Symbol.for && Symbol.for('react.element') || 0xeac7;\n\n  var isValidElement = function (object) {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = __webpack_require__(280)();\n}\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return reduceMotion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return autoPlayGif; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return displaySensitiveMedia; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return unfollowModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return boostModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return favouriteModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return deleteModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return me; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return maxChars; });\nvar element = document.getElementById('initial-state');\nvar initialState = element && function () {\n  var result = JSON.parse(element.textContent);\n  try {\n    result.local_settings = JSON.parse(localStorage.getItem('mastodon-settings'));\n  } catch (e) {\n    result.local_settings = {};\n  }\n  return result;\n}();\n\nvar getMeta = function getMeta(prop) {\n  return initialState && initialState.meta && initialState.meta[prop];\n};\n\nvar reduceMotion = getMeta('reduce_motion');\nvar autoPlayGif = getMeta('auto_play_gif');\nvar displaySensitiveMedia = getMeta('display_sensitive_media');\nvar unfollowModal = getMeta('unfollow_modal');\nvar boostModal = getMeta('boost_modal');\nvar favouriteModal = getMeta('favourite_modal');\nvar deleteModal = getMeta('delete_modal');\nvar me = getMeta('me');\nvar maxChars = initialState && initialState.max_toot_chars || 500;\n\n/* harmony default export */ __webpack_exports__[\"c\"] = (initialState);\n\n/***/ }),\n\n/***/ 56:\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = function () {\n\treturn this;\n}();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n/***/ }),\n\n/***/ 582:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return isFullscreen; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return exitFullscreen; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return requestFullscreen; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return attachFullscreenListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return detachFullscreenListener; });\n// APIs for normalizing fullscreen operations. Note that Edge uses\n// the WebKit-prefixed APIs currently (as of Edge 16).\n\nvar isFullscreen = function isFullscreen() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement;\n};\n\nvar exitFullscreen = function exitFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  }\n};\n\nvar requestFullscreen = function requestFullscreen(el) {\n  if (el.requestFullscreen) {\n    el.requestFullscreen();\n  } else if (el.webkitRequestFullscreen) {\n    el.webkitRequestFullscreen();\n  } else if (el.mozRequestFullScreen) {\n    el.mozRequestFullScreen();\n  }\n};\n\nvar attachFullscreenListener = function attachFullscreenListener(listener) {\n  if ('onfullscreenchange' in document) {\n    document.addEventListener('fullscreenchange', listener);\n  } else if ('onwebkitfullscreenchange' in document) {\n    document.addEventListener('webkitfullscreenchange', listener);\n  } else if ('onmozfullscreenchange' in document) {\n    document.addEventListener('mozfullscreenchange', listener);\n  }\n};\n\nvar detachFullscreenListener = function detachFullscreenListener(listener) {\n  if ('onfullscreenchange' in document) {\n    document.removeEventListener('fullscreenchange', listener);\n  } else if ('onwebkitfullscreenchange' in document) {\n    document.removeEventListener('webkitfullscreenchange', listener);\n  } else if ('onmozfullscreenchange' in document) {\n    document.removeEventListener('mozfullscreenchange', listener);\n  }\n};\n\n/***/ }),\n\n/***/ 592:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return isFullscreen; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return exitFullscreen; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return requestFullscreen; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return attachFullscreenListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return detachFullscreenListener; });\n// APIs for normalizing fullscreen operations. Note that Edge uses\n// the WebKit-prefixed APIs currently (as of Edge 16).\n\nvar isFullscreen = function isFullscreen() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement;\n};\n\nvar exitFullscreen = function exitFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  }\n};\n\nvar requestFullscreen = function requestFullscreen(el) {\n  if (el.requestFullscreen) {\n    el.requestFullscreen();\n  } else if (el.webkitRequestFullscreen) {\n    el.webkitRequestFullscreen();\n  } else if (el.mozRequestFullScreen) {\n    el.mozRequestFullScreen();\n  }\n};\n\nvar attachFullscreenListener = function attachFullscreenListener(listener) {\n  if ('onfullscreenchange' in document) {\n    document.addEventListener('fullscreenchange', listener);\n  } else if ('onwebkitfullscreenchange' in document) {\n    document.addEventListener('webkitfullscreenchange', listener);\n  } else if ('onmozfullscreenchange' in document) {\n    document.addEventListener('mozfullscreenchange', listener);\n  }\n};\n\nvar detachFullscreenListener = function detachFullscreenListener(listener) {\n  if ('onfullscreenchange' in document) {\n    document.removeEventListener('fullscreenchange', listener);\n  } else if ('onwebkitfullscreenchange' in document) {\n    document.removeEventListener('webkitfullscreenchange', listener);\n  } else if ('onmozfullscreenchange' in document) {\n    document.removeEventListener('mozfullscreenchange', listener);\n  }\n};\n\n/***/ }),\n\n/***/ 6:\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n(function (global, factory) {\n   true ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.Immutable = factory();\n})(this, function () {\n  'use strict';\n  var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n    return isIterable(value) ? value : Seq(value);\n  }\n\n  createClass(KeyedIterable, Iterable);\n  function KeyedIterable(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  createClass(IndexedIterable, Iterable);\n  function IndexedIterable(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  createClass(SetIterable, Iterable);\n  function SetIterable(value) {\n    return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^32−1.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || size !== undefined && begin <= -size) && (end === undefined || size !== undefined && end >= size);\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ? defaultIndex : index < 0 ? Math.max(0, size + index) : size === undefined ? index : Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n  function Iterator(next) {\n    this.next = next;\n  }\n\n  Iterator.prototype.toString = function () {\n    return '[Iterator]';\n  };\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect = Iterator.prototype.toSource = function () {\n    return this.toString();\n  };\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? iteratorResult.value = value : iteratorResult = {\n      value: value, done: false\n    };\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL] || iterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n  function Seq(value) {\n    return value === null || value === undefined ? emptySequence() : isIterable(value) ? value.toSeq() : seqFromValue(value);\n  }\n\n  Seq.of = function () /*...values*/{\n    return Seq(arguments);\n  };\n\n  Seq.prototype.toSeq = function () {\n    return this;\n  };\n\n  Seq.prototype.toString = function () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function (fn, reverse) {\n    return seqIterate(this, fn, reverse, true);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function (type, reverse) {\n    return seqIterator(this, type, reverse, true);\n  };\n\n  createClass(KeyedSeq, Seq);\n  function KeyedSeq(value) {\n    return value === null || value === undefined ? emptySequence().toKeyedSeq() : isIterable(value) ? isKeyed(value) ? value.toSeq() : value.fromEntrySeq() : keyedSeqFromValue(value);\n  }\n\n  KeyedSeq.prototype.toKeyedSeq = function () {\n    return this;\n  };\n\n  createClass(IndexedSeq, Seq);\n  function IndexedSeq(value) {\n    return value === null || value === undefined ? emptySequence() : !isIterable(value) ? indexedSeqFromValue(value) : isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n  }\n\n  IndexedSeq.of = function () /*...values*/{\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function () {\n    return this.__toString('Seq [', ']');\n  };\n\n  IndexedSeq.prototype.__iterate = function (fn, reverse) {\n    return seqIterate(this, fn, reverse, false);\n  };\n\n  IndexedSeq.prototype.__iterator = function (type, reverse) {\n    return seqIterator(this, type, reverse, false);\n  };\n\n  createClass(SetSeq, Seq);\n  function SetSeq(value) {\n    return (value === null || value === undefined ? emptySequence() : !isIterable(value) ? indexedSeqFromValue(value) : isKeyed(value) ? value.entrySeq() : value).toSetSeq();\n  }\n\n  SetSeq.of = function () /*...values*/{\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function () {\n    return this;\n  };\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n  createClass(ArraySeq, IndexedSeq);\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  ArraySeq.prototype.get = function (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function (fn, reverse) {\n    var array = this._array;\n    var maxIndex = array.length - 1;\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n        return ii + 1;\n      }\n    }\n    return ii;\n  };\n\n  ArraySeq.prototype.__iterator = function (type, reverse) {\n    var array = this._array;\n    var maxIndex = array.length - 1;\n    var ii = 0;\n    return new Iterator(function () {\n      return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++]);\n    });\n  };\n\n  createClass(ObjectSeq, KeyedSeq);\n  function ObjectSeq(object) {\n    var keys = Object.keys(object);\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  ObjectSeq.prototype.get = function (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function (key) {\n    return this._object.hasOwnProperty(key);\n  };\n\n  ObjectSeq.prototype.__iterate = function (fn, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var maxIndex = keys.length - 1;\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      var key = keys[reverse ? maxIndex - ii : ii];\n      if (fn(object[key], key, this) === false) {\n        return ii + 1;\n      }\n    }\n    return ii;\n  };\n\n  ObjectSeq.prototype.__iterator = function (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var maxIndex = keys.length - 1;\n    var ii = 0;\n    return new Iterator(function () {\n      var key = keys[reverse ? maxIndex - ii : ii];\n      return ii++ > maxIndex ? iteratorDone() : iteratorValue(type, key, object[key]);\n    });\n  };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n  createClass(IterableSeq, IndexedSeq);\n  function IterableSeq(iterable) {\n    this._iterable = iterable;\n    this.size = iterable.length || iterable.size;\n  }\n\n  IterableSeq.prototype.__iterateUncached = function (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterable = this._iterable;\n    var iterator = getIterator(iterable);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  IterableSeq.prototype.__iteratorUncached = function (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterable = this._iterable;\n    var iterator = getIterator(iterable);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  createClass(IteratorSeq, IndexedSeq);\n  function IteratorSeq(iterator) {\n    this._iterator = iterator;\n    this._iteratorCache = [];\n  }\n\n  IteratorSeq.prototype.__iterateUncached = function (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    while (iterations < cache.length) {\n      if (fn(cache[iterations], iterations++, this) === false) {\n        return iterations;\n      }\n    }\n    var step;\n    while (!(step = iterator.next()).done) {\n      var val = step.value;\n      cache[iterations] = val;\n      if (fn(val, iterations++, this) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n\n  IteratorSeq.prototype.__iteratorUncached = function (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    return new Iterator(function () {\n      if (iterations >= cache.length) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        cache[iterations] = step.value;\n      }\n      return iteratorValue(type, iterations, cache[iterations++]);\n    });\n  };\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq = Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() : isIterator(value) ? new IteratorSeq(value).fromEntrySeq() : hasIterator(value) ? new IterableSeq(value).fromEntrySeq() : typeof value === 'object' ? new ObjectSeq(value) : undefined;\n    if (!seq) {\n      throw new TypeError('Expected Array or iterable object of [k, v] entries, ' + 'or keyed object: ' + value);\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError('Expected Array or iterable object of values: ' + value);\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) || typeof value === 'object' && new ObjectSeq(value);\n    if (!seq) {\n      throw new TypeError('Expected Array or iterable object of values, or keyed object: ' + value);\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return isArrayLike(value) ? new ArraySeq(value) : isIterator(value) ? new IteratorSeq(value) : hasIterator(value) ? new IterableSeq(value) : undefined;\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function () {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ? iteratorDone() : iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ? fromJSWith(converter, json, '', { '': json }) : fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function (v, k) {\n        return fromJSWith(converter, v, k, json);\n      }));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function (v, k) {\n        return fromJSWith(converter, v, k, json);\n      }));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || valueA !== valueA && valueB !== valueB) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' && typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || valueA !== valueA && valueB !== valueB) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' && typeof valueB.equals === 'function' && valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (!isIterable(b) || a.size !== undefined && b.size !== undefined && a.size !== b.size || a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash || isKeyed(a) !== isKeyed(b) || isIndexed(a) !== isIndexed(b) || isOrdered(a) !== isOrdered(b)) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function (v, k) {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function (v, k) {\n      if (notAssociative ? !a.has(v) : flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  Repeat.prototype.toString = function () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size) ? this : new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n  };\n\n  Repeat.prototype.reverse = function () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function (fn, reverse) {\n    for (var ii = 0; ii < this.size; ii++) {\n      if (fn(this._value, ii, this) === false) {\n        return ii + 1;\n      }\n    }\n    return ii;\n  };\n\n  Repeat.prototype.__iterator = function (type, reverse) {\n    var this$0 = this;\n    var ii = 0;\n    return new Iterator(function () {\n      return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone();\n    });\n  };\n\n  Repeat.prototype.equals = function (other) {\n    return other instanceof Repeat ? is(this._value, other._value) : deepEqual(other);\n  };\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  Range.prototype.toString = function () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return 'Range [ ' + this._start + '...' + this._end + (this._step !== 1 ? ' by ' + this._step : '') + ' ]';\n  };\n\n  Range.prototype.get = function (index, notSetValue) {\n    return this.has(index) ? this._start + wrapIndex(this, index) * this._step : notSetValue;\n  };\n\n  Range.prototype.includes = function (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return possibleIndex >= 0 && possibleIndex < this.size && possibleIndex === Math.floor(possibleIndex);\n  };\n\n  Range.prototype.slice = function (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n  };\n\n  Range.prototype.indexOf = function (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function (fn, reverse) {\n    var maxIndex = this.size - 1;\n    var step = this._step;\n    var value = reverse ? this._start + maxIndex * step : this._start;\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      if (fn(value, ii, this) === false) {\n        return ii + 1;\n      }\n      value += reverse ? -step : step;\n    }\n    return ii;\n  };\n\n  Range.prototype.__iterator = function (type, reverse) {\n    var maxIndex = this.size - 1;\n    var step = this._step;\n    var value = reverse ? this._start + maxIndex * step : this._start;\n    var ii = 0;\n    return new Iterator(function () {\n      var v = value;\n      value += reverse ? -step : step;\n      return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n    });\n  };\n\n  Range.prototype.equals = function (other) {\n    return other instanceof Range ? this._start === other._start && this._end === other._end && this._step === other._step : deepEqual(this, other);\n  };\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n  function Collection() {\n    throw TypeError('Abstract');\n  }\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul = typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ? Math.imul : function imul(a, b) {\n    a = a | 0; // int\n    b = b | 0; // int\n    var c = a & 0xffff;\n    var d = b & 0xffff;\n    // Shift by 0 fixes the sign on the high part.\n    return c * d + ((a >>> 16) * d + c * (b >>> 16) << 16 >>> 0) | 0; // int\n  };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return i32 >>> 1 & 0x40000000 | i32 & 0xBFFFFFFF;\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      if (o !== o || o === Infinity) {\n        return 0;\n      }\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined && obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function () {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = function () {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }();\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1:\n          // Element\n          return node.uniqueID;\n        case 9:\n          // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(size !== Infinity, 'Cannot perform this action with an infinite size.');\n  }\n\n  createClass(Map, KeyedCollection);\n\n  // @pragma Construction\n\n  function Map(value) {\n    return value === null || value === undefined ? emptyMap() : isMap(value) && !isOrdered(value) ? value : emptyMap().withMutations(function (map) {\n      var iter = KeyedIterable(value);\n      assertNotInfinite(iter.size);\n      iter.forEach(function (v, k) {\n        return map.set(k, v);\n      });\n    });\n  }\n\n  Map.of = function () {\n    var keyValues = SLICE$0.call(arguments, 0);\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function (k, notSetValue) {\n    return this._root ? this._root.get(0, undefined, k, notSetValue) : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.setIn = function (keyPath, v) {\n    return this.updateIn(keyPath, NOT_SET, function () {\n      return v;\n    });\n  };\n\n  Map.prototype.remove = function (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteIn = function (keyPath) {\n    return this.updateIn(keyPath, function () {\n      return NOT_SET;\n    });\n  };\n\n  Map.prototype.update = function (k, notSetValue, updater) {\n    return arguments.length === 1 ? k(this) : this.updateIn([k], notSetValue, updater);\n  };\n\n  Map.prototype.updateIn = function (keyPath, notSetValue, updater) {\n    if (!updater) {\n      updater = notSetValue;\n      notSetValue = undefined;\n    }\n    var updatedValue = updateInDeepMap(this, forceIterator(keyPath), notSetValue, updater);\n    return updatedValue === NOT_SET ? undefined : updatedValue;\n  };\n\n  Map.prototype.clear = function () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.merge = function () /*...iters*/{\n    return mergeIntoMapWith(this, undefined, arguments);\n  };\n\n  Map.prototype.mergeWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return mergeIntoMapWith(this, merger, iters);\n  };\n\n  Map.prototype.mergeIn = function (keyPath) {\n    var iters = SLICE$0.call(arguments, 1);\n    return this.updateIn(keyPath, emptyMap(), function (m) {\n      return typeof m.merge === 'function' ? m.merge.apply(m, iters) : iters[iters.length - 1];\n    });\n  };\n\n  Map.prototype.mergeDeep = function () /*...iters*/{\n    return mergeIntoMapWith(this, deepMerger, arguments);\n  };\n\n  Map.prototype.mergeDeepWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n  };\n\n  Map.prototype.mergeDeepIn = function (keyPath) {\n    var iters = SLICE$0.call(arguments, 1);\n    return this.updateIn(keyPath, emptyMap(), function (m) {\n      return typeof m.mergeDeep === 'function' ? m.mergeDeep.apply(m, iters) : iters[iters.length - 1];\n    });\n  };\n\n  Map.prototype.sort = function (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.withMutations = function (fn) {\n    var mutable = this.asMutable();\n    fn(mutable);\n    return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n  };\n\n  Map.prototype.asMutable = function () {\n    return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n  };\n\n  Map.prototype.asImmutable = function () {\n    return this.__ensureOwner();\n  };\n\n  Map.prototype.wasAltered = function () {\n    return this.__altered;\n  };\n\n  Map.prototype.__iterator = function (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    var iterations = 0;\n    this._root && this._root.iterate(function (entry) {\n      iterations++;\n      return fn(entry[1], entry[0], this$0);\n    }, reverse);\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n  // #pragma Trie Nodes\n\n\n  function ArrayMapNode(ownerID, entries) {\n    this.ownerID = ownerID;\n    this.entries = entries;\n  }\n\n  ArrayMapNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    var entries = this.entries;\n    for (var ii = 0, len = entries.length; ii < len; ii++) {\n      if (is(key, entries[ii][0])) {\n        return entries[ii][1];\n      }\n    }\n    return notSetValue;\n  };\n\n  ArrayMapNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    var removed = value === NOT_SET;\n\n    var entries = this.entries;\n    var idx = 0;\n    for (var len = entries.length; idx < len; idx++) {\n      if (is(key, entries[idx][0])) {\n        break;\n      }\n    }\n    var exists = idx < len;\n\n    if (exists ? entries[idx][1] === value : removed) {\n      return this;\n    }\n\n    SetRef(didAlter);\n    (removed || !exists) && SetRef(didChangeSize);\n\n    if (removed && entries.length === 1) {\n      return; // undefined\n    }\n\n    if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n      return createNodes(ownerID, entries, key, value);\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newEntries = isEditable ? entries : arrCopy(entries);\n\n    if (exists) {\n      if (removed) {\n        idx === len - 1 ? newEntries.pop() : newEntries[idx] = newEntries.pop();\n      } else {\n        newEntries[idx] = [key, value];\n      }\n    } else {\n      newEntries.push([key, value]);\n    }\n\n    if (isEditable) {\n      this.entries = newEntries;\n      return this;\n    }\n\n    return new ArrayMapNode(ownerID, newEntries);\n  };\n\n  function BitmapIndexedNode(ownerID, bitmap, nodes) {\n    this.ownerID = ownerID;\n    this.bitmap = bitmap;\n    this.nodes = nodes;\n  }\n\n  BitmapIndexedNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n    var bitmap = this.bitmap;\n    return (bitmap & bit) === 0 ? notSetValue : this.nodes[popCount(bitmap & bit - 1)].get(shift + SHIFT, keyHash, key, notSetValue);\n  };\n\n  BitmapIndexedNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var bit = 1 << keyHashFrag;\n    var bitmap = this.bitmap;\n    var exists = (bitmap & bit) !== 0;\n\n    if (!exists && value === NOT_SET) {\n      return this;\n    }\n\n    var idx = popCount(bitmap & bit - 1);\n    var nodes = this.nodes;\n    var node = exists ? nodes[idx] : undefined;\n    var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n    if (newNode === node) {\n      return this;\n    }\n\n    if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n      return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n    }\n\n    if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n      return nodes[idx ^ 1];\n    }\n\n    if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n      return newNode;\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n    var newNodes = exists ? newNode ? setIn(nodes, idx, newNode, isEditable) : spliceOut(nodes, idx, isEditable) : spliceIn(nodes, idx, newNode, isEditable);\n\n    if (isEditable) {\n      this.bitmap = newBitmap;\n      this.nodes = newNodes;\n      return this;\n    }\n\n    return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n  };\n\n  function HashArrayMapNode(ownerID, count, nodes) {\n    this.ownerID = ownerID;\n    this.count = count;\n    this.nodes = nodes;\n  }\n\n  HashArrayMapNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var node = this.nodes[idx];\n    return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n  };\n\n  HashArrayMapNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var removed = value === NOT_SET;\n    var nodes = this.nodes;\n    var node = nodes[idx];\n\n    if (removed && !node) {\n      return this;\n    }\n\n    var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n    if (newNode === node) {\n      return this;\n    }\n\n    var newCount = this.count;\n    if (!node) {\n      newCount++;\n    } else if (!newNode) {\n      newCount--;\n      if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n        return packNodes(ownerID, nodes, newCount, idx);\n      }\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n    if (isEditable) {\n      this.count = newCount;\n      this.nodes = newNodes;\n      return this;\n    }\n\n    return new HashArrayMapNode(ownerID, newCount, newNodes);\n  };\n\n  function HashCollisionNode(ownerID, keyHash, entries) {\n    this.ownerID = ownerID;\n    this.keyHash = keyHash;\n    this.entries = entries;\n  }\n\n  HashCollisionNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    var entries = this.entries;\n    for (var ii = 0, len = entries.length; ii < len; ii++) {\n      if (is(key, entries[ii][0])) {\n        return entries[ii][1];\n      }\n    }\n    return notSetValue;\n  };\n\n  HashCollisionNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n\n    var removed = value === NOT_SET;\n\n    if (keyHash !== this.keyHash) {\n      if (removed) {\n        return this;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n    }\n\n    var entries = this.entries;\n    var idx = 0;\n    for (var len = entries.length; idx < len; idx++) {\n      if (is(key, entries[idx][0])) {\n        break;\n      }\n    }\n    var exists = idx < len;\n\n    if (exists ? entries[idx][1] === value : removed) {\n      return this;\n    }\n\n    SetRef(didAlter);\n    (removed || !exists) && SetRef(didChangeSize);\n\n    if (removed && len === 2) {\n      return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newEntries = isEditable ? entries : arrCopy(entries);\n\n    if (exists) {\n      if (removed) {\n        idx === len - 1 ? newEntries.pop() : newEntries[idx] = newEntries.pop();\n      } else {\n        newEntries[idx] = [key, value];\n      }\n    } else {\n      newEntries.push([key, value]);\n    }\n\n    if (isEditable) {\n      this.entries = newEntries;\n      return this;\n    }\n\n    return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n  };\n\n  function ValueNode(ownerID, keyHash, entry) {\n    this.ownerID = ownerID;\n    this.keyHash = keyHash;\n    this.entry = entry;\n  }\n\n  ValueNode.prototype.get = function (shift, keyHash, key, notSetValue) {\n    return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n  };\n\n  ValueNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    var removed = value === NOT_SET;\n    var keyMatch = is(key, this.entry[0]);\n    if (keyMatch ? value === this.entry[1] : removed) {\n      return this;\n    }\n\n    SetRef(didAlter);\n\n    if (removed) {\n      SetRef(didChangeSize);\n      return; // undefined\n    }\n\n    if (keyMatch) {\n      if (ownerID && ownerID === this.ownerID) {\n        this.entry[1] = value;\n        return this;\n      }\n      return new ValueNode(ownerID, this.keyHash, [key, value]);\n    }\n\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n  };\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  };\n\n  BitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  };\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  };\n\n  createClass(MapIterator, Iterator);\n\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  MapIterator.prototype.next = function () {\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex;\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = this._stack = mapIteratorFrame(subNode, stack);\n          }\n          continue;\n        }\n      }\n      stack = this._stack = this._stack.__prev;\n    }\n    return iteratorDone();\n  };\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] : (newNode = new ValueNode(ownerID, keyHash, entry), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, 1 << idx1 | 1 << idx2, nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function (v) {\n          return fromJS(v);\n        });\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ? existing.mergeDeep(value) : is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function (existing, value, key) {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function (x) {\n      return x.size !== 0;\n    });\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function (collection) {\n      var mergeIntoMap = merger ? function (value, key) {\n        collection.update(key, NOT_SET, function (existing) {\n          return existing === NOT_SET ? value : merger(existing, value, key);\n        });\n      } : function (value, key) {\n        collection.set(key, value);\n      };\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(isNotSet || existing && existing.set, 'invalid keyPath');\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(nextExisting, keyPathIter, notSetValue, updater);\n    return nextUpdated === nextExisting ? existing : nextUpdated === NOT_SET ? existing.remove(key) : (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - (x >> 1 & 0x55555555);\n    x = (x & 0x33333333) + (x >> 2 & 0x33333333);\n    x = x + (x >> 4) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n  // @pragma Construction\n\n  function List(value) {\n    var empty = emptyList();\n    if (value === null || value === undefined) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedIterable(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) {\n        return list.set(i, v);\n      });\n    });\n  }\n\n  List.of = function () /*...values*/{\n    return this(arguments);\n  };\n\n  List.prototype.toString = function () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function (index) {\n    return !this.has(index) ? this : index === 0 ? this.shift() : index === this.size - 1 ? this.pop() : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = this._origin = this._capacity = 0;\n      this._level = SHIFT;\n      this._root = this._tail = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function () /*...values*/{\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function () /*...values*/{\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.merge = function () /*...iters*/{\n    return mergeIntoListWith(this, undefined, arguments);\n  };\n\n  List.prototype.mergeWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return mergeIntoListWith(this, merger, iters);\n  };\n\n  List.prototype.mergeDeep = function () /*...iters*/{\n    return mergeIntoListWith(this, deepMerger, arguments);\n  };\n\n  List.prototype.mergeDeepWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return mergeIntoListWith(this, deepMergerWith(merger), iters);\n  };\n\n  List.prototype.setSize = function (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(this, resolveBegin(begin, size), resolveEnd(end, size));\n  };\n\n  List.prototype.__iterator = function (type, reverse) {\n    var index = 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE ? iteratorDone() : iteratorValue(type, index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function (fn, reverse) {\n    var index = 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, index++, this) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      return this;\n    }\n    return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n  };\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn = ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n  function VNode(array, ownerID) {\n    this.array = array;\n    this.ownerID = ownerID;\n  }\n\n  // TODO: seems like these methods are very similar\n\n  VNode.prototype.removeBefore = function (ownerID, level, index) {\n    if (index === level ? 1 << level : 0 || this.array.length === 0) {\n      return this;\n    }\n    var originIndex = index >>> level & MASK;\n    if (originIndex >= this.array.length) {\n      return new VNode([], ownerID);\n    }\n    var removingFirst = originIndex === 0;\n    var newChild;\n    if (level > 0) {\n      var oldChild = this.array[originIndex];\n      newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n      if (newChild === oldChild && removingFirst) {\n        return this;\n      }\n    }\n    if (removingFirst && !newChild) {\n      return this;\n    }\n    var editable = editableVNode(this, ownerID);\n    if (!removingFirst) {\n      for (var ii = 0; ii < originIndex; ii++) {\n        editable.array[ii] = undefined;\n      }\n    }\n    if (newChild) {\n      editable.array[originIndex] = newChild;\n    }\n    return editable;\n  };\n\n  VNode.prototype.removeAfter = function (ownerID, level, index) {\n    if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n      return this;\n    }\n    var sizeIndex = index - 1 >>> level & MASK;\n    if (sizeIndex >= this.array.length) {\n      return this;\n    }\n\n    var newChild;\n    if (level > 0) {\n      var oldChild = this.array[sizeIndex];\n      newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n      if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n        return this;\n      }\n    }\n\n    var editable = editableVNode(this, ownerID);\n    editable.array.splice(sizeIndex + 1);\n    if (newChild) {\n      editable.array[sizeIndex] = newChild;\n    }\n    return editable;\n  };\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ? iterateLeaf(node, offset) : iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function () {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : left - offset >> level;\n      var to = (right - offset >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function () {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(array && array[idx], level - SHIFT, offset + (idx << level));\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function (list) {\n        index < 0 ? setListBounds(list, index).set(0, value) : setListBounds(list, 0, index + 1).set(index, value);\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = index >>> level & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << list._level + SHIFT) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[rawIndex >>> level & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << newLevel + SHIFT) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ? listNodeFor(list, newCapacity - 1) : newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = oldTailOffset >>> level & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[oldTailOffset >>> SHIFT & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n      // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = newOrigin >>> newLevel & MASK;\n        if (beginIndex !== newTailOffset >>> newLevel & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function (v) {\n          return fromJS(v);\n        });\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : size - 1 >>> SHIFT << SHIFT;\n  }\n\n  createClass(OrderedMap, Map);\n\n  // @pragma Construction\n\n  function OrderedMap(value) {\n    return value === null || value === undefined ? emptyOrderedMap() : isOrderedMap(value) ? value : emptyOrderedMap().withMutations(function (map) {\n      var iter = KeyedIterable(value);\n      assertNotInfinite(iter.size);\n      iter.forEach(function (v, k) {\n        return map.set(k, v);\n      });\n    });\n  }\n\n  OrderedMap.of = function () /*...values*/{\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.wasAltered = function () {\n    return this._map.wasAltered() || this._list.wasAltered();\n  };\n\n  OrderedMap.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return this._list.__iterate(function (entry) {\n      return entry && fn(entry[1], entry[0], this$0);\n    }, reverse);\n  };\n\n  OrderedMap.prototype.__iterator = function (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) {\n      // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function (entry, idx) {\n          return entry !== undefined && i !== idx;\n        });\n        newMap = newList.toKeyedSeq().map(function (entry) {\n          return entry[0];\n        }).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  ToKeyedSequence.prototype.get = function (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function () {\n    var this$0 = this;\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () {\n        return this$0._iter.toSeq().reverse();\n      };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function (mapper, context) {\n    var this$0 = this;\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () {\n        return this$0._iter.toSeq().map(mapper, context);\n      };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    var ii;\n    return this._iter.__iterate(this._useKeys ? function (v, k) {\n      return fn(v, k, this$0);\n    } : (ii = reverse ? resolveSize(this) : 0, function (v) {\n      return fn(v, reverse ? --ii : ii++, this$0);\n    }), reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function (type, reverse) {\n    if (this._useKeys) {\n      return this._iter.__iterator(type, reverse);\n    }\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var ii = reverse ? resolveSize(this) : 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n    });\n  };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n  createClass(ToIndexedSequence, IndexedSeq);\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  ToIndexedSequence.prototype.includes = function (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    var iterations = 0;\n    return this._iter.__iterate(function (v) {\n      return fn(v, iterations++, this$0);\n    }, reverse);\n  };\n\n  ToIndexedSequence.prototype.__iterator = function (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n\n  createClass(ToSetSequence, SetSeq);\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  ToSetSequence.prototype.has = function (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return this._iter.__iterate(function (v) {\n      return fn(v, v, this$0);\n    }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  createClass(FromEntriesSequence, KeyedSeq);\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  FromEntriesSequence.prototype.entrySeq = function () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return this._iter.__iterate(function (entry) {\n      // Check if entry exists first so array access doesn't throw for holes\n      // in the parent iteration.\n      if (entry) {\n        validateEntry(entry);\n        var indexedIterable = isIterable(entry);\n        return fn(indexedIterable ? entry.get(1) : entry[1], indexedIterable ? entry.get(0) : entry[0], this$0);\n      }\n    }, reverse);\n  };\n\n  FromEntriesSequence.prototype.__iterator = function (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return iteratorValue(type, indexedIterable ? entry.get(0) : entry[0], indexedIterable ? entry.get(1) : entry[1], step);\n        }\n      }\n    });\n  };\n\n  ToIndexedSequence.prototype.cacheResult = ToKeyedSequence.prototype.cacheResult = ToSetSequence.prototype.cacheResult = FromEntriesSequence.prototype.cacheResult = cacheResultThrough;\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function () {\n      return iterable;\n    };\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function () {\n        return iterable.reverse();\n      };\n      return reversedSequence;\n    };\n    flipSequence.has = function (key) {\n      return iterable.includes(key);\n    };\n    flipSequence.includes = function (key) {\n      return iterable.has(key);\n    };\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      return iterable.__iterate(function (v, k) {\n        return fn(k, v, this$0) !== false;\n      }, reverse);\n    };\n    flipSequence.__iteratorUncached = function (type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function () {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES, reverse);\n    };\n    return flipSequence;\n  }\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function (key) {\n      return iterable.has(key);\n    };\n    mappedSequence.get = function (key, notSetValue) {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ? notSetValue : mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      return iterable.__iterate(function (v, k, c) {\n        return fn(mapper.call(context, v, k, c), k, this$0) !== false;\n      }, reverse);\n    };\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(type, key, mapper.call(context, entry[1], key, iterable), step);\n      });\n    };\n    return mappedSequence;\n  }\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function () {\n      return iterable;\n    };\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function () {\n          return iterable.flip();\n        };\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function (key, notSetValue) {\n      return iterable.get(useKeys ? key : -1 - key, notSetValue);\n    };\n    reversedSequence.has = function (key) {\n      return iterable.has(useKeys ? key : -1 - key);\n    };\n    reversedSequence.includes = function (value) {\n      return iterable.includes(value);\n    };\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {\n      var this$0 = this;\n      return iterable.__iterate(function (v, k) {\n        return fn(v, k, this$0);\n      }, !reverse);\n    };\n    reversedSequence.__iterator = function (type, reverse) {\n      return iterable.__iterator(type, !reverse);\n    };\n    return reversedSequence;\n  }\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function (key) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function (key, notSetValue) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ? v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function (v, k, c) {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function () {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    };\n    return filterSequence;\n  }\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function (v, k) {\n      groups.update(grouper.call(context, v, k, iterable), 0, function (a) {\n        return a + 1;\n      });\n    });\n    return groups.asImmutable();\n  }\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function (v, k) {\n      groups.update(grouper.call(context, v, k, iterable), function (a) {\n        return a = a || [], a.push(isKeyedIter ? [k, v] : v), a;\n      });\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function (arr) {\n      return reify(iterable, coerce(arr));\n    });\n  }\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      if (end === Infinity) {\n        end = originalSize;\n      } else {\n        end = end | 0;\n      }\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ? iterable.get(index + resolvedBegin, notSetValue) : notSetValue;\n      };\n    }\n\n    sliceSeq.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function (v, k) {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false && iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function (type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function () {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    };\n\n    return sliceSeq;\n  }\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function (v, k, c) {\n        return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0);\n      });\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function (type, reverse) {\n      var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function () {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function (v, k, c) {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function (type, reverse) {\n      var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function () {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function (v) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ? keyedSeqFromValue(v) : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function (v) {\n      return v.size !== 0;\n    });\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable || isKeyedIterable && isKeyed(singleton) || isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(function (sum, seq) {\n      if (sum !== undefined) {\n        var size = seq.size;\n        if (size !== undefined) {\n          return sum + size;\n        }\n      }\n    }, 0);\n    return concatSeq;\n  }\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function (fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {\n        var this$0 = this;\n        iter.__iterate(function (v, k) {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    };\n    flatSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function () {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    };\n    return flatSequence;\n  }\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(function (v, k) {\n      return coerce(mapper.call(context, v, k, iterable));\n    }).flatten(true);\n  }\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 - 1;\n    interposedSequence.__iterateUncached = function (fn, reverse) {\n      var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function (v, k) {\n        return (!iterations || fn(separator, iterations++, this$0) !== false) && fn(v, iterations++, this$0) !== false;\n      }, reverse);\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function () {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ? iteratorValue(type, iterations++, separator) : iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(function (v, k) {\n      return [k, v, index++, mapper ? mapper(v, k, iterable) : v];\n    }).toArray();\n    entries.sort(function (a, b) {\n      return comparator(a[3], b[3]) || a[2] - b[2];\n    }).forEach(isKeyedIterable ? function (v, i) {\n      entries[i].length = 2;\n    } : function (v, i) {\n      entries[i] = v[1];\n    });\n    return isKeyedIterable ? KeyedSeq(entries) : isIndexed(iterable) ? IndexedSeq(entries) : SetSeq(entries);\n  }\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq().map(function (v, k) {\n        return [v, mapper(v, k, iterable)];\n      }).reduce(function (a, b) {\n        return maxCompare(comparator, a[1], b[1]) ? b : a;\n      });\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function (a, b) {\n        return maxCompare(comparator, a, b) ? b : a;\n      });\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return comp === 0 && b !== a && (b === undefined || b === null || b !== b) || comp > 0;\n  }\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function (i) {\n      return i.size;\n    }).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function (fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function (type, reverse) {\n      var iterators = iters.map(function (i) {\n        return i = Iterable(i), getIterator(reverse ? i.reverse() : i);\n      });\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function () {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function (i) {\n            return i.next();\n          });\n          isDone = steps.some(function (s) {\n            return s.done;\n          });\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(type, iterations++, zipper.apply(null, steps.map(function (s) {\n          return s.value;\n        })));\n      });\n    };\n    return zipSequence;\n  }\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable : isIndexed(iterable) ? IndexedIterable : SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create((isKeyed(iterable) ? KeyedSeq : isIndexed(iterable) ? IndexedSeq : SetSeq).prototype);\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n  function Record(defaultValues, name) {\n    var hasInitialized;\n\n    var RecordType = function Record(values) {\n      if (values instanceof RecordType) {\n        return values;\n      }\n      if (!(this instanceof RecordType)) {\n        return new RecordType(values);\n      }\n      if (!hasInitialized) {\n        hasInitialized = true;\n        var keys = Object.keys(defaultValues);\n        setProps(RecordTypePrototype, keys);\n        RecordTypePrototype.size = keys.length;\n        RecordTypePrototype._name = name;\n        RecordTypePrototype._keys = keys;\n        RecordTypePrototype._defaultValues = defaultValues;\n      }\n      this._map = Map(values);\n    };\n\n    var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n    RecordTypePrototype.constructor = RecordType;\n\n    return RecordType;\n  }\n\n  Record.prototype.toString = function () {\n    return this.__toString(recordName(this) + ' {', '}');\n  };\n\n  // @pragma Access\n\n  Record.prototype.has = function (k) {\n    return this._defaultValues.hasOwnProperty(k);\n  };\n\n  Record.prototype.get = function (k, notSetValue) {\n    if (!this.has(k)) {\n      return notSetValue;\n    }\n    var defaultVal = this._defaultValues[k];\n    return this._map ? this._map.get(k, defaultVal) : defaultVal;\n  };\n\n  // @pragma Modification\n\n  Record.prototype.clear = function () {\n    if (this.__ownerID) {\n      this._map && this._map.clear();\n      return this;\n    }\n    var RecordType = this.constructor;\n    return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n  };\n\n  Record.prototype.set = function (k, v) {\n    if (!this.has(k)) {\n      throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n    }\n    if (this._map && !this._map.has(k)) {\n      var defaultVal = this._defaultValues[k];\n      if (v === defaultVal) {\n        return this;\n      }\n    }\n    var newMap = this._map && this._map.set(k, v);\n    if (this.__ownerID || newMap === this._map) {\n      return this;\n    }\n    return makeRecord(this, newMap);\n  };\n\n  Record.prototype.remove = function (k) {\n    if (!this.has(k)) {\n      return this;\n    }\n    var newMap = this._map && this._map.remove(k);\n    if (this.__ownerID || newMap === this._map) {\n      return this;\n    }\n    return makeRecord(this, newMap);\n  };\n\n  Record.prototype.wasAltered = function () {\n    return this._map.wasAltered();\n  };\n\n  Record.prototype.__iterator = function (type, reverse) {\n    var this$0 = this;\n    return KeyedIterable(this._defaultValues).map(function (_, k) {\n      return this$0.get(k);\n    }).__iterator(type, reverse);\n  };\n\n  Record.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return KeyedIterable(this._defaultValues).map(function (_, k) {\n      return this$0.get(k);\n    }).__iterate(fn, reverse);\n  };\n\n  Record.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map && this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return makeRecord(this, newMap, ownerID);\n  };\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn = RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function () {\n        return this.get(name);\n      },\n      set: function (value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n  // @pragma Construction\n\n  function Set(value) {\n    return value === null || value === undefined ? emptySet() : isSet(value) && !isOrdered(value) ? value : emptySet().withMutations(function (set) {\n      var iter = SetIterable(value);\n      assertNotInfinite(iter.size);\n      iter.forEach(function (v) {\n        return set.add(v);\n      });\n    });\n  }\n\n  Set.of = function () /*...values*/{\n    return this(arguments);\n  };\n\n  Set.fromKeys = function (value) {\n    return this(KeyedIterable(value).keySeq());\n  };\n\n  Set.prototype.toString = function () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function (value) {\n    return updateSet(this, this._map.set(value, true));\n  };\n\n  Set.prototype.remove = function (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.union = function () {\n    var iters = SLICE$0.call(arguments, 0);\n    iters = iters.filter(function (x) {\n      return x.size !== 0;\n    });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetIterable(iters[ii]).forEach(function (value) {\n          return set.add(value);\n        });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function () {\n    var iters = SLICE$0.call(arguments, 0);\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) {\n      return SetIterable(iter);\n    });\n    var originalSet = this;\n    return this.withMutations(function (set) {\n      originalSet.forEach(function (value) {\n        if (!iters.every(function (iter) {\n          return iter.includes(value);\n        })) {\n          set.remove(value);\n        }\n      });\n    });\n  };\n\n  Set.prototype.subtract = function () {\n    var iters = SLICE$0.call(arguments, 0);\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) {\n      return SetIterable(iter);\n    });\n    var originalSet = this;\n    return this.withMutations(function (set) {\n      originalSet.forEach(function (value) {\n        if (iters.some(function (iter) {\n          return iter.includes(value);\n        })) {\n          set.remove(value);\n        }\n      });\n    });\n  };\n\n  Set.prototype.merge = function () {\n    return this.union.apply(this, arguments);\n  };\n\n  Set.prototype.mergeWith = function (merger) {\n    var iters = SLICE$0.call(arguments, 1);\n    return this.union.apply(this, iters);\n  };\n\n  Set.prototype.sort = function (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function (fn, reverse) {\n    var this$0 = this;\n    return this._map.__iterate(function (_, k) {\n      return fn(k, k, this$0);\n    }, reverse);\n  };\n\n  Set.prototype.__iterator = function (type, reverse) {\n    return this._map.map(function (_, k) {\n      return k;\n    }).__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set : newMap.size === 0 ? set.__empty() : set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n  // @pragma Construction\n\n  function OrderedSet(value) {\n    return value === null || value === undefined ? emptyOrderedSet() : isOrderedSet(value) ? value : emptyOrderedSet().withMutations(function (set) {\n      var iter = SetIterable(value);\n      assertNotInfinite(iter.size);\n      iter.forEach(function (v) {\n        return set.add(v);\n      });\n    });\n  }\n\n  OrderedSet.of = function () /*...values*/{\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function (value) {\n    return this(KeyedIterable(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n  // @pragma Construction\n\n  function Stack(value) {\n    return value === null || value === undefined ? emptyStack() : isStack(value) ? value : emptyStack().unshiftAll(value);\n  }\n\n  Stack.of = function () /*...values*/{\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function () /*...values*/{\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments[ii],\n        next: head\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function (iter) {\n    iter = IndexedIterable(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.reverse().forEach(function (value) {\n      newSize++;\n      head = {\n        value: value,\n        next: head\n      };\n    });\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.unshift = function () /*...values*/{\n    return this.push.apply(this, arguments);\n  };\n\n  Stack.prototype.unshiftAll = function (iter) {\n    return this.pushAll(iter);\n  };\n\n  Stack.prototype.shift = function () {\n    return this.pop.apply(this, arguments);\n  };\n\n  Stack.prototype.clear = function () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function (fn, reverse) {\n    if (reverse) {\n      return this.reverse().__iterate(fn);\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function (type, reverse) {\n    if (reverse) {\n      return this.reverse().__iterator(type);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function (key) {\n      ctor.prototype[key] = methods[key];\n    };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols && Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function () {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function (v, i) {\n        array[i] = v;\n      });\n      return array;\n    },\n\n    toIndexedSeq: function () {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function () {\n      return this.toSeq().map(function (value) {\n        return value && typeof value.toJS === 'function' ? value.toJS() : value;\n      }).__toJS();\n    },\n\n    toJSON: function () {\n      return this.toSeq().map(function (value) {\n        return value && typeof value.toJSON === 'function' ? value.toJSON() : value;\n      }).__toJS();\n    },\n\n    toKeyedSeq: function () {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function () {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function () {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function (v, k) {\n        object[k] = v;\n      });\n      return object;\n    },\n\n    toOrderedMap: function () {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function () {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function () {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function () {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function () {\n      return isIndexed(this) ? this.toIndexedSeq() : isKeyed(this) ? this.toKeyedSeq() : this.toSetSeq();\n    },\n\n    toStack: function () {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function () {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    // ### Common JavaScript methods and properties\n\n    toString: function () {\n      return '[Iterable]';\n    },\n\n    __toString: function (head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function () {\n      var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function (searchValue) {\n      return this.some(function (value) {\n        return is(value, searchValue);\n      });\n    },\n\n    entries: function () {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function (predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function (v, k, c) {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function (predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function (predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function (sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function (separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function (v) {\n        isFirst ? isFirst = false : joined += separator;\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function () {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function (mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function (reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function (v, k, c) {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function (reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function () {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function (begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function (predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function (comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function () {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n    // ### More sequential methods\n\n    butLast: function () {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function () {\n      return this.size !== undefined ? this.size === 0 : !this.some(function () {\n        return true;\n      });\n    },\n\n    count: function (predicate, context) {\n      return ensureSize(predicate ? this.toSeq().filter(predicate, context) : this);\n    },\n\n    countBy: function (grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function (other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function () {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function () {\n        return iterable.toSeq();\n      };\n      return entriesSequence;\n    },\n\n    filterNot: function (predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function (predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function (v, k, c) {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function (predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function (predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function (predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function (predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function () {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function (mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function (depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function () {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function (searchKey, notSetValue) {\n      return this.find(function (_, key) {\n        return is(key, searchKey);\n      }, undefined, notSetValue);\n    },\n\n    getIn: function (searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function (grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function (searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function (searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function (iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function (value) {\n        return iter.includes(value);\n      });\n    },\n\n    isSuperset: function (iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function (searchValue) {\n      return this.findKey(function (value) {\n        return is(value, searchValue);\n      });\n    },\n\n    keySeq: function () {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function () {\n      return this.toSeq().reverse().first();\n    },\n\n    lastKeyOf: function (searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function (comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function (mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function (comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function (mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function () {\n      return this.slice(1);\n    },\n\n    skip: function (amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function (amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function (predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function (predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function (mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function (amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function (amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function (predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function (predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function () {\n      return this.toIndexedSeq();\n    },\n\n    // ### Hashable Object\n\n    hashCode: function () {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect = IterablePrototype.toSource = function () {\n    return this.toString();\n  };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function () {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function (mapper, context) {\n      var this$0 = this;\n      var iterations = 0;\n      return reify(this, this.toSeq().map(function (v, k) {\n        return mapper.call(context, [k, v], iterations++, this$0);\n      }).fromEntrySeq());\n    },\n\n    mapKeys: function (mapper, context) {\n      var this$0 = this;\n      return reify(this, this.toSeq().flip().map(function (k, v) {\n        return mapper.call(context, k, v, this$0);\n      }).flip());\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function (v, k) {\n    return JSON.stringify(k) + ': ' + quoteString(v);\n  };\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function () {\n      return new ToKeyedSequence(this, false);\n    },\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function (predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function (predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function (searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function (searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function () {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function (begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function (index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || numArgs === 2 && !removeNum) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(this, numArgs === 1 ? spliced : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum)));\n    },\n\n    // ### More collection methods\n\n    findLastIndex: function (predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function () {\n      return this.get(0);\n    },\n\n    flatten: function (depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function (index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index < 0 || this.size === Infinity || this.size !== undefined && index > this.size ? notSetValue : this.find(function (_, key) {\n        return key === index;\n      }, undefined, notSetValue);\n    },\n\n    has: function (index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ? this.size === Infinity || index < this.size : this.indexOf(index) !== -1);\n    },\n\n    interpose: function (separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function () /*...iterables*/{\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function () {\n      return Range(0, this.size);\n    },\n\n    last: function () {\n      return this.get(-1);\n    },\n\n    skipWhile: function (predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function () /*, ...iterables */{\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function (zipper /*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function (value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function (value) {\n      return this.has(value);\n    },\n\n    // ### More sequential methods\n\n    keySeq: function () {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function () {\n      return !predicate.apply(this, arguments);\n    };\n  }\n\n  function neg(predicate) {\n    return function () {\n      return -predicate.apply(this, arguments);\n    };\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(keyed ? ordered ? function (v, k) {\n      h = 31 * h + hashMerge(hash(v), hash(k)) | 0;\n    } : function (v, k) {\n      h = h + hashMerge(hash(v), hash(k)) | 0;\n    } : ordered ? function (v) {\n      h = 31 * h + hash(v) | 0;\n    } : function (v) {\n      h = h + hash(v) | 0;\n    });\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n});\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Symbol = __webpack_require__(95),\n    getRawTag = __webpack_require__(284),\n    objectToString = __webpack_require__(285);\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n    if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n    }\n    return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n/***/ }),\n\n/***/ 602:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_motion_lib_Motion__ = __webpack_require__(168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_motion_lib_Motion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react_motion_lib_Motion__);\n\n\n\n\n\n// Like react-motion's Motion, but reduces all animations to cross-fades\n// for the benefit of users with motion sickness.\n\n\n\n\nvar stylesToKeep = ['opacity', 'backgroundOpacity'];\n\nvar extractValue = function extractValue(value) {\n  // This is either an object with a \"val\" property or it's a number\n  return (typeof value === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof___default()(value)) === 'object' && value && 'val' in value ? value.val : value;\n};\n\nvar ReducedMotion = function (_React$Component) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(ReducedMotion, _React$Component);\n\n  function ReducedMotion() {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, ReducedMotion);\n\n    return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$Component.apply(this, arguments));\n  }\n\n  ReducedMotion.prototype.render = function render() {\n    var _props = this.props,\n        style = _props.style,\n        defaultStyle = _props.defaultStyle,\n        children = _props.children;\n\n\n    Object.keys(style).forEach(function (key) {\n      if (stylesToKeep.includes(key)) {\n        return;\n      }\n      // If it's setting an x or height or scale or some other value, we need\n      // to preserve the end-state value without actually animating it\n      style[key] = defaultStyle[key] = extractValue(style[key]);\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_6_react_motion_lib_Motion___default.a, {\n      style: style,\n      defaultStyle: defaultStyle\n    }, void 0, children);\n  };\n\n  return ReducedMotion;\n}(__WEBPACK_IMPORTED_MODULE_5_react___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ReducedMotion);\n\n/***/ }),\n\n/***/ 604:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_motion_lib_Motion__ = __webpack_require__(168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_motion_lib_Motion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react_motion_lib_Motion__);\n\n\n\n\n\n// Like react-motion's Motion, but reduces all animations to cross-fades\n// for the benefit of users with motion sickness.\n\n\n\n\nvar stylesToKeep = ['opacity', 'backgroundOpacity'];\n\nvar extractValue = function extractValue(value) {\n  // This is either an object with a \"val\" property or it's a number\n  return (typeof value === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_typeof___default()(value)) === 'object' && value && 'val' in value ? value.val : value;\n};\n\nvar ReducedMotion = function (_React$Component) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(ReducedMotion, _React$Component);\n\n  function ReducedMotion() {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, ReducedMotion);\n\n    return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$Component.apply(this, arguments));\n  }\n\n  ReducedMotion.prototype.render = function render() {\n    var _props = this.props,\n        style = _props.style,\n        defaultStyle = _props.defaultStyle,\n        children = _props.children;\n\n\n    Object.keys(style).forEach(function (key) {\n      if (stylesToKeep.includes(key)) {\n        return;\n      }\n      // If it's setting an x or height or scale or some other value, we need\n      // to preserve the end-state value without actually animating it\n      style[key] = defaultStyle[key] = extractValue(style[key]);\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_6_react_motion_lib_Motion___default.a, {\n      style: style,\n      defaultStyle: defaultStyle\n    }, void 0, children);\n  };\n\n  return ReducedMotion;\n}(__WEBPACK_IMPORTED_MODULE_5_react___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ReducedMotion);\n\n/***/ }),\n\n/***/ 605:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ModalRoot; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n\n\n\n\n\n\nvar ModalRoot = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(ModalRoot, _React$PureComponent);\n\n  function ModalRoot() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, ModalRoot);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.state = {\n      revealed: !!_this.props.children\n    }, _this.activeElement = _this.state.revealed ? document.activeElement : null, _this.handleKeyUp = function (e) {\n      if ((e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27) && !!_this.props.children) {\n        _this.props.onClose();\n      }\n    }, _this.getSiblings = function () {\n      return Array.apply(undefined, _this.node.parentElement.childNodes).filter(function (node) {\n        return node !== _this.node;\n      });\n    }, _this.setRef = function (ref) {\n      _this.node = ref;\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  ModalRoot.prototype.componentDidMount = function componentDidMount() {\n    window.addEventListener('keyup', this.handleKeyUp, false);\n  };\n\n  ModalRoot.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (!!nextProps.children && !this.props.children) {\n      this.activeElement = document.activeElement;\n\n      this.getSiblings().forEach(function (sibling) {\n        return sibling.setAttribute('inert', true);\n      });\n    } else if (!nextProps.children) {\n      this.setState({ revealed: false });\n    }\n  };\n\n  ModalRoot.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    if (!this.props.children && !!prevProps.children) {\n      this.getSiblings().forEach(function (sibling) {\n        return sibling.removeAttribute('inert');\n      });\n      this.activeElement.focus();\n      this.activeElement = null;\n    }\n    if (this.props.children) {\n      requestAnimationFrame(function () {\n        _this2.setState({ revealed: true });\n      });\n    }\n  };\n\n  ModalRoot.prototype.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('keyup', this.handleKeyUp);\n  };\n\n  ModalRoot.prototype.render = function render() {\n    var _props = this.props,\n        children = _props.children,\n        onClose = _props.onClose;\n    var revealed = this.state.revealed;\n\n    var visible = !!children;\n\n    if (!visible) {\n      return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement('div', { className: 'modal-root', ref: this.setRef, style: { opacity: 0 } });\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n      'div',\n      { className: 'modal-root', ref: this.setRef, style: { opacity: revealed ? 1 : 0 } },\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        style: { pointerEvents: visible ? 'auto' : 'none' }\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        role: 'presentation',\n        className: 'modal-root__overlay',\n        onClick: onClose\n      }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        role: 'dialog',\n        className: 'modal-root__container'\n      }, void 0, children))\n    );\n  };\n\n  return ModalRoot;\n}(__WEBPACK_IMPORTED_MODULE_4_react___default.a.PureComponent);\n\n\n\n/***/ }),\n\n/***/ 606:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MediaModal; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_swipeable_views__ = __webpack_require__(262);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_swipeable_views___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react_swipeable_views__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_immutable_proptypes__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_immutable_proptypes___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react_immutable_proptypes__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_prop_types__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__video__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__components_extended_video_player__ = __webpack_require__(607);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_classnames__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_react_intl__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__components_icon_button__ = __webpack_require__(153);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_react_immutable_pure_component__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_react_immutable_pure_component___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_react_immutable_pure_component__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__image_loader__ = __webpack_require__(490);\n\n\n\n\n\nvar _class, _class2, _temp2;\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(__WEBPACK_IMPORTED_MODULE_11_react_intl__[\"f\" /* defineMessages */])({\n  close: {\n    'id': 'lightbox.close',\n    'defaultMessage': 'Close'\n  },\n  previous: {\n    'id': 'lightbox.previous',\n    'defaultMessage': 'Previous'\n  },\n  next: {\n    'id': 'lightbox.next',\n    'defaultMessage': 'Next'\n  }\n});\n\nvar MediaModal = Object(__WEBPACK_IMPORTED_MODULE_11_react_intl__[\"g\" /* injectIntl */])(_class = (_temp2 = _class2 = function (_ImmutablePureCompone) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(MediaModal, _ImmutablePureCompone);\n\n  function MediaModal() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, MediaModal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _ImmutablePureCompone.call.apply(_ImmutablePureCompone, [this].concat(args))), _this), _this.state = {\n      index: null,\n      navigationHidden: false\n    }, _this.handleSwipe = function (index) {\n      _this.setState({ index: index % _this.props.media.size });\n    }, _this.handleNextClick = function () {\n      _this.setState({ index: (_this.getIndex() + 1) % _this.props.media.size });\n    }, _this.handlePrevClick = function () {\n      _this.setState({ index: (_this.props.media.size + _this.getIndex() - 1) % _this.props.media.size });\n    }, _this.handleChangeIndex = function (e) {\n      var index = Number(e.currentTarget.getAttribute('data-index'));\n      _this.setState({ index: index % _this.props.media.size });\n    }, _this.handleKeyUp = function (e) {\n      switch (e.key) {\n        case 'ArrowLeft':\n          _this.handlePrevClick();\n          break;\n        case 'ArrowRight':\n          _this.handleNextClick();\n          break;\n      }\n    }, _this.toggleNavigation = function () {\n      _this.setState(function (prevState) {\n        return {\n          navigationHidden: !prevState.navigationHidden\n        };\n      });\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  MediaModal.prototype.componentDidMount = function componentDidMount() {\n    window.addEventListener('keyup', this.handleKeyUp, false);\n  };\n\n  MediaModal.prototype.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('keyup', this.handleKeyUp);\n  };\n\n  MediaModal.prototype.getIndex = function getIndex() {\n    return this.state.index !== null ? this.state.index : this.props.index;\n  };\n\n  MediaModal.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        media = _props.media,\n        intl = _props.intl,\n        onClose = _props.onClose;\n    var navigationHidden = this.state.navigationHidden;\n\n\n    var index = this.getIndex();\n    var pagination = [];\n\n    var leftNav = media.size > 1 && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n      tabIndex: '0',\n      className: 'media-modal__nav media-modal__nav--left',\n      onClick: this.handlePrevClick,\n      'aria-label': intl.formatMessage(messages.previous)\n    }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n      className: 'fa fa-fw fa-chevron-left'\n    }));\n    var rightNav = media.size > 1 && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n      tabIndex: '0',\n      className: 'media-modal__nav  media-modal__nav--right',\n      onClick: this.handleNextClick,\n      'aria-label': intl.formatMessage(messages.next)\n    }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n      className: 'fa fa-fw fa-chevron-right'\n    }));\n\n    if (media.size > 1) {\n      pagination = media.map(function (item, i) {\n        var classes = ['media-modal__button'];\n        if (i === index) {\n          classes.push('media-modal__button--active');\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('li', {\n          className: 'media-modal__page-dot'\n        }, i, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n          tabIndex: '0',\n          className: classes.join(' '),\n          onClick: _this2.handleChangeIndex,\n          'data-index': i\n        }, void 0, i + 1));\n      });\n    }\n\n    var content = media.map(function (image) {\n      var width = image.getIn(['meta', 'original', 'width']) || null;\n      var height = image.getIn(['meta', 'original', 'height']) || null;\n\n      if (image.get('type') === 'image') {\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_14__image_loader__[\"a\" /* default */], {\n          previewSrc: image.get('preview_url'),\n          src: image.get('url'),\n          width: width,\n          height: height,\n          alt: image.get('description'),\n          onClick: _this2.toggleNavigation\n        }, image.get('url'));\n      } else if (image.get('type') === 'video') {\n        var time = _this2.props.time;\n\n\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_8__video__[\"default\"], {\n          preview: image.get('preview_url'),\n          src: image.get('url'),\n          width: image.get('width'),\n          height: image.get('height'),\n          startTime: time || 0,\n          onCloseVideo: onClose,\n          detailed: true,\n          description: image.get('description')\n        }, image.get('url'));\n      } else if (image.get('type') === 'gifv') {\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_9__components_extended_video_player__[\"a\" /* default */], {\n          src: image.get('url'),\n          muted: true,\n          controls: false,\n          width: width,\n          height: height,\n          alt: image.get('description'),\n          onClick: _this2.toggleNavigation\n        }, image.get('preview_url'));\n      }\n\n      return null;\n    }).toArray();\n\n    // you can't use 100vh, because the viewport height is taller\n    // than the visible part of the document in some mobile\n    // browsers when it's address bar is visible.\n    // https://developers.google.com/web/updates/2016/12/url-bar-resizing\n    var swipeableViewsStyle = {\n      width: '100%',\n      height: '100%'\n    };\n\n    var containerStyle = {\n      alignItems: 'center' // center vertically\n    };\n\n    var navigationClassName = __WEBPACK_IMPORTED_MODULE_10_classnames___default()('media-modal__navigation', {\n      'media-modal__navigation--hidden': navigationHidden\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: 'modal-root__modal media-modal'\n    }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: 'media-modal__closer',\n      role: 'presentation',\n      onClick: onClose\n    }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_5_react_swipeable_views___default.a, {\n      style: swipeableViewsStyle,\n      containerStyle: containerStyle,\n      onChangeIndex: this.handleSwipe,\n      onSwitching: this.handleSwitching,\n      index: index\n    }, void 0, content)), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: navigationClassName\n    }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_12__components_icon_button__[\"a\" /* default */], {\n      className: 'media-modal__close',\n      title: intl.formatMessage(messages.close),\n      icon: 'times',\n      onClick: onClose,\n      size: 40\n    }), leftNav, rightNav, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('ul', {\n      className: 'media-modal__pagination'\n    }, void 0, pagination)));\n  };\n\n  return MediaModal;\n}(__WEBPACK_IMPORTED_MODULE_13_react_immutable_pure_component___default.a), _class2.propTypes = {\n  media: __WEBPACK_IMPORTED_MODULE_6_react_immutable_proptypes___default.a.list.isRequired,\n  index: __WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.number.isRequired,\n  onClose: __WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.func.isRequired,\n  intl: __WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.object.isRequired\n}, _temp2)) || _class;\n\n\n\n/***/ }),\n\n/***/ 607:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ExtendedVideoPlayer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n\n\n\n\n\n\nvar ExtendedVideoPlayer = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(ExtendedVideoPlayer, _React$PureComponent);\n\n  function ExtendedVideoPlayer() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, ExtendedVideoPlayer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.handleLoadedData = function () {\n      if (_this.props.time) {\n        _this.video.currentTime = _this.props.time;\n      }\n    }, _this.setRef = function (c) {\n      _this.video = c;\n    }, _this.handleClick = function (e) {\n      e.stopPropagation();\n      var handler = _this.props.onClick;\n      if (handler) handler();\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  ExtendedVideoPlayer.prototype.componentDidMount = function componentDidMount() {\n    this.video.addEventListener('loadeddata', this.handleLoadedData);\n  };\n\n  ExtendedVideoPlayer.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.video.removeEventListener('loadeddata', this.handleLoadedData);\n  };\n\n  ExtendedVideoPlayer.prototype.render = function render() {\n    var _props = this.props,\n        src = _props.src,\n        muted = _props.muted,\n        controls = _props.controls,\n        alt = _props.alt;\n\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: 'extended-video-player'\n    }, void 0, __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement('video', {\n      ref: this.setRef,\n      src: src,\n      autoPlay: true,\n      role: 'button',\n      tabIndex: '0',\n      'aria-label': alt,\n      muted: muted,\n      controls: controls,\n      loop: !controls,\n      onClick: this.handleClick\n    }));\n  };\n\n  return ExtendedVideoPlayer;\n}(__WEBPACK_IMPORTED_MODULE_4_react___default.a.PureComponent);\n\n\n\n/***/ }),\n\n/***/ 608:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ZoomableImage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react__);\n\n\n\n\nvar _class, _temp2;\n\n\n\n\nvar MIN_SCALE = 1;\nvar MAX_SCALE = 4;\n\nvar getMidpoint = function getMidpoint(p1, p2) {\n  return {\n    x: (p1.clientX + p2.clientX) / 2,\n    y: (p1.clientY + p2.clientY) / 2\n  };\n};\n\nvar getDistance = function getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p1.clientX - p2.clientX, 2) + Math.pow(p1.clientY - p2.clientY, 2));\n};\n\nvar clamp = function clamp(min, max, value) {\n  return Math.min(max, Math.max(min, value));\n};\n\nvar ZoomableImage = (_temp2 = _class = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_inherits___default()(ZoomableImage, _React$PureComponent);\n\n  function ZoomableImage() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, ZoomableImage);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.state = {\n      scale: MIN_SCALE\n    }, _this.removers = [], _this.container = null, _this.image = null, _this.lastTouchEndTime = 0, _this.lastDistance = 0, _this.handleTouchStart = function (e) {\n      if (e.touches.length !== 2) return;\n\n      _this.lastDistance = getDistance.apply(undefined, e.touches);\n    }, _this.handleTouchMove = function (e) {\n      var _this$container = _this.container,\n          scrollTop = _this$container.scrollTop,\n          scrollHeight = _this$container.scrollHeight,\n          clientHeight = _this$container.clientHeight;\n\n      if (e.touches.length === 1 && scrollTop !== scrollHeight - clientHeight) {\n        // prevent propagating event to MediaModal\n        e.stopPropagation();\n        return;\n      }\n      if (e.touches.length !== 2) return;\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      var distance = getDistance.apply(undefined, e.touches);\n      var midpoint = getMidpoint.apply(undefined, e.touches);\n      var scale = clamp(MIN_SCALE, MAX_SCALE, _this.state.scale * distance / _this.lastDistance);\n\n      _this.zoom(scale, midpoint);\n\n      _this.lastMidpoint = midpoint;\n      _this.lastDistance = distance;\n    }, _this.handleClick = function (e) {\n      // don't propagate event to MediaModal\n      e.stopPropagation();\n      var handler = _this.props.onClick;\n      if (handler) handler();\n    }, _this.setContainerRef = function (c) {\n      _this.container = c;\n    }, _this.setImageRef = function (c) {\n      _this.image = c;\n    }, _temp), __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  ZoomableImage.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    var handler = this.handleTouchStart;\n    this.container.addEventListener('touchstart', handler);\n    this.removers.push(function () {\n      return _this2.container.removeEventListener('touchstart', handler);\n    });\n    handler = this.handleTouchMove;\n    // on Chrome 56+, touch event listeners will default to passive\n    // https://www.chromestatus.com/features/5093566007214080\n    this.container.addEventListener('touchmove', handler, { passive: false });\n    this.removers.push(function () {\n      return _this2.container.removeEventListener('touchend', handler);\n    });\n  };\n\n  ZoomableImage.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.removeEventListeners();\n  };\n\n  ZoomableImage.prototype.removeEventListeners = function removeEventListeners() {\n    this.removers.forEach(function (listeners) {\n      return listeners();\n    });\n    this.removers = [];\n  };\n\n  ZoomableImage.prototype.zoom = function zoom(nextScale, midpoint) {\n    var _this3 = this;\n\n    var scale = this.state.scale;\n    var _container = this.container,\n        scrollLeft = _container.scrollLeft,\n        scrollTop = _container.scrollTop;\n\n    // math memo:\n    // x = (scrollLeft + midpoint.x) / scrollWidth\n    // x' = (nextScrollLeft + midpoint.x) / nextScrollWidth\n    // scrollWidth = clientWidth * scale\n    // scrollWidth' = clientWidth * nextScale\n    // Solve x = x' for nextScrollLeft\n\n    var nextScrollLeft = (scrollLeft + midpoint.x) * nextScale / scale - midpoint.x;\n    var nextScrollTop = (scrollTop + midpoint.y) * nextScale / scale - midpoint.y;\n\n    this.setState({ scale: nextScale }, function () {\n      _this3.container.scrollLeft = nextScrollLeft;\n      _this3.container.scrollTop = nextScrollTop;\n    });\n  };\n\n  ZoomableImage.prototype.render = function render() {\n    var _props = this.props,\n        alt = _props.alt,\n        src = _props.src;\n    var scale = this.state.scale;\n\n    var overflow = scale === 1 ? 'hidden' : 'scroll';\n\n    return __WEBPACK_IMPORTED_MODULE_3_react___default.a.createElement(\n      'div',\n      {\n        className: 'zoomable-image',\n        ref: this.setContainerRef,\n        style: { overflow: overflow }\n      },\n      __WEBPACK_IMPORTED_MODULE_3_react___default.a.createElement('img', {\n        role: 'presentation',\n        ref: this.setImageRef,\n        alt: alt,\n        src: src,\n        style: {\n          transform: 'scale(' + scale + ')',\n          transformOrigin: '0 0'\n        },\n        onClick: this.handleClick\n      })\n    );\n  };\n\n  return ZoomableImage;\n}(__WEBPACK_IMPORTED_MODULE_3_react___default.a.PureComponent), _class.defaultProps = {\n  alt: '',\n  width: null,\n  height: null\n}, _temp2);\n\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, exports) {\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _assign = __webpack_require__(290);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return addLocaleData; });\n/* unused harmony export intlShape */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return injectIntl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return defineMessages; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return IntlProvider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return FormattedDate; });\n/* unused harmony export FormattedTime */\n/* unused harmony export FormattedRelative */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return FormattedNumber; });\n/* unused harmony export FormattedPlural */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return FormattedMessage; });\n/* unused harmony export FormattedHTMLMessage */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__locale_data_index_js__ = __webpack_require__(286);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__locale_data_index_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__locale_data_index_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_intl_messageformat__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_intl_messageformat___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_intl_messageformat__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_intl_relativeformat__ = __webpack_require__(97);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_intl_relativeformat___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_intl_relativeformat__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_prop_types__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_invariant__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_invariant___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_invariant__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_intl_format_cache__ = __webpack_require__(287);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_intl_format_cache___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_intl_format_cache__);\n/*\n * Copyright 2017, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\n\n\n\n\n\n\n\n\n// GENERATED FILE\nvar defaultLocaleData = { \"locale\": \"en\", \"pluralRuleFunction\": function pluralRuleFunction(n, ord) {\n    var s = String(n).split(\".\"),\n        v0 = !s[1],\n        t0 = Number(s[0]) == n,\n        n10 = t0 && s[0].slice(-1),\n        n100 = t0 && s[0].slice(-2);if (ord) return n10 == 1 && n100 != 11 ? \"one\" : n10 == 2 && n100 != 12 ? \"two\" : n10 == 3 && n100 != 13 ? \"few\" : \"other\";return n == 1 && v0 ? \"one\" : \"other\";\n  }, \"fields\": { \"year\": { \"displayName\": \"year\", \"relative\": { \"0\": \"this year\", \"1\": \"next year\", \"-1\": \"last year\" }, \"relativeTime\": { \"future\": { \"one\": \"in {0} year\", \"other\": \"in {0} years\" }, \"past\": { \"one\": \"{0} year ago\", \"other\": \"{0} years ago\" } } }, \"month\": { \"displayName\": \"month\", \"relative\": { \"0\": \"this month\", \"1\": \"next month\", \"-1\": \"last month\" }, \"relativeTime\": { \"future\": { \"one\": \"in {0} month\", \"other\": \"in {0} months\" }, \"past\": { \"one\": \"{0} month ago\", \"other\": \"{0} months ago\" } } }, \"day\": { \"displayName\": \"day\", \"relative\": { \"0\": \"today\", \"1\": \"tomorrow\", \"-1\": \"yesterday\" }, \"relativeTime\": { \"future\": { \"one\": \"in {0} day\", \"other\": \"in {0} days\" }, \"past\": { \"one\": \"{0} day ago\", \"other\": \"{0} days ago\" } } }, \"hour\": { \"displayName\": \"hour\", \"relative\": { \"0\": \"this hour\" }, \"relativeTime\": { \"future\": { \"one\": \"in {0} hour\", \"other\": \"in {0} hours\" }, \"past\": { \"one\": \"{0} hour ago\", \"other\": \"{0} hours ago\" } } }, \"minute\": { \"displayName\": \"minute\", \"relative\": { \"0\": \"this minute\" }, \"relativeTime\": { \"future\": { \"one\": \"in {0} minute\", \"other\": \"in {0} minutes\" }, \"past\": { \"one\": \"{0} minute ago\", \"other\": \"{0} minutes ago\" } } }, \"second\": { \"displayName\": \"second\", \"relative\": { \"0\": \"now\" }, \"relativeTime\": { \"future\": { \"one\": \"in {0} second\", \"other\": \"in {0} seconds\" }, \"past\": { \"one\": \"{0} second ago\", \"other\": \"{0} seconds ago\" } } } } };\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nfunction addLocaleData() {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var locales = Array.isArray(data) ? data : [data];\n\n  locales.forEach(function (localeData) {\n    if (localeData && localeData.locale) {\n      __WEBPACK_IMPORTED_MODULE_1_intl_messageformat___default.a.__addLocaleData(localeData);\n      __WEBPACK_IMPORTED_MODULE_2_intl_relativeformat___default.a.__addLocaleData(localeData);\n    }\n  });\n}\n\nfunction hasLocaleData(locale) {\n  var localeParts = (locale || '').split('-');\n\n  while (localeParts.length > 0) {\n    if (hasIMFAndIRFLocaleData(localeParts.join('-'))) {\n      return true;\n    }\n\n    localeParts.pop();\n  }\n\n  return false;\n}\n\nfunction hasIMFAndIRFLocaleData(locale) {\n  var normalizedLocale = locale && locale.toLowerCase();\n\n  return !!(__WEBPACK_IMPORTED_MODULE_1_intl_messageformat___default.a.__localeData__[normalizedLocale] && __WEBPACK_IMPORTED_MODULE_2_intl_relativeformat___default.a.__localeData__[normalizedLocale]);\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar bool = __WEBPACK_IMPORTED_MODULE_3_prop_types___default.a.bool;\nvar number = __WEBPACK_IMPORTED_MODULE_3_prop_types___default.a.number;\nvar string = __WEBPACK_IMPORTED_MODULE_3_prop_types___default.a.string;\nvar func = __WEBPACK_IMPORTED_MODULE_3_prop_types___default.a.func;\nvar object = __WEBPACK_IMPORTED_MODULE_3_prop_types___default.a.object;\nvar oneOf = __WEBPACK_IMPORTED_MODULE_3_prop_types___default.a.oneOf;\nvar shape = __WEBPACK_IMPORTED_MODULE_3_prop_types___default.a.shape;\nvar any = __WEBPACK_IMPORTED_MODULE_3_prop_types___default.a.any;\nvar oneOfType = __WEBPACK_IMPORTED_MODULE_3_prop_types___default.a.oneOfType;\n\nvar localeMatcher = oneOf(['best fit', 'lookup']);\nvar narrowShortLong = oneOf(['narrow', 'short', 'long']);\nvar numeric2digit = oneOf(['numeric', '2-digit']);\nvar funcReq = func.isRequired;\n\nvar intlConfigPropTypes = {\n  locale: string,\n  formats: object,\n  messages: object,\n  textComponent: any,\n\n  defaultLocale: string,\n  defaultFormats: object\n};\n\nvar intlFormatPropTypes = {\n  formatDate: funcReq,\n  formatTime: funcReq,\n  formatRelative: funcReq,\n  formatNumber: funcReq,\n  formatPlural: funcReq,\n  formatMessage: funcReq,\n  formatHTMLMessage: funcReq\n};\n\nvar intlShape = shape(_extends({}, intlConfigPropTypes, intlFormatPropTypes, {\n  formatters: object,\n  now: funcReq\n}));\n\nvar messageDescriptorPropTypes = {\n  id: string.isRequired,\n  description: oneOfType([string, object]),\n  defaultMessage: string\n};\n\nvar dateTimeFormatPropTypes = {\n  localeMatcher: localeMatcher,\n  formatMatcher: oneOf(['basic', 'best fit']),\n\n  timeZone: string,\n  hour12: bool,\n\n  weekday: narrowShortLong,\n  era: narrowShortLong,\n  year: numeric2digit,\n  month: oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n  day: numeric2digit,\n  hour: numeric2digit,\n  minute: numeric2digit,\n  second: numeric2digit,\n  timeZoneName: oneOf(['short', 'long'])\n};\n\nvar numberFormatPropTypes = {\n  localeMatcher: localeMatcher,\n\n  style: oneOf(['decimal', 'currency', 'percent']),\n  currency: string,\n  currencyDisplay: oneOf(['symbol', 'code', 'name']),\n  useGrouping: bool,\n\n  minimumIntegerDigits: number,\n  minimumFractionDigits: number,\n  maximumFractionDigits: number,\n  minimumSignificantDigits: number,\n  maximumSignificantDigits: number\n};\n\nvar relativeFormatPropTypes = {\n  style: oneOf(['best fit', 'numeric']),\n  units: oneOf(['second', 'minute', 'hour', 'day', 'month', 'year'])\n};\n\nvar pluralFormatPropTypes = {\n  style: oneOf(['cardinal', 'ordinal'])\n};\n\n/*\nHTML escaping and shallow-equals implementations are the same as React's\n(on purpose.) Therefore, it has the following Copyright and Licensing:\n\nCopyright 2013-2014, Facebook, Inc.\nAll rights reserved.\n\nThis source code is licensed under the BSD-style license found in the LICENSE\nfile in the root directory of React's source tree.\n*/\n\nvar intlConfigPropNames = Object.keys(intlConfigPropTypes);\n\nvar ESCAPED_CHARS = {\n  '&': '&amp;',\n  '>': '&gt;',\n  '<': '&lt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;'\n};\n\nvar UNSAFE_CHARS_REGEX = /[&><\"']/g;\n\nfunction escape(str) {\n  return ('' + str).replace(UNSAFE_CHARS_REGEX, function (match) {\n    return ESCAPED_CHARS[match];\n  });\n}\n\nfunction filterProps(props, whitelist) {\n  var defaults$$1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  return whitelist.reduce(function (filtered, name) {\n    if (props.hasOwnProperty(name)) {\n      filtered[name] = props[name];\n    } else if (defaults$$1.hasOwnProperty(name)) {\n      filtered[name] = defaults$$1[name];\n    }\n\n    return filtered;\n  }, {});\n}\n\nfunction invariantIntlContext() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      intl = _ref.intl;\n\n  __WEBPACK_IMPORTED_MODULE_5_invariant___default()(intl, '[React Intl] Could not find required `intl` object. ' + '<IntlProvider> needs to exist in the component ancestry.');\n}\n\nfunction shallowEquals(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  if ((typeof objA === 'undefined' ? 'undefined' : _typeof(objA)) !== 'object' || objA === null || (typeof objB === 'undefined' ? 'undefined' : _typeof(objB)) !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n  for (var i = 0; i < keysA.length; i++) {\n    if (!bHasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction shouldIntlComponentUpdate(_ref2, nextProps, nextState) {\n  var props = _ref2.props,\n      state = _ref2.state,\n      _ref2$context = _ref2.context,\n      context = _ref2$context === undefined ? {} : _ref2$context;\n  var nextContext = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var _context$intl = context.intl,\n      intl = _context$intl === undefined ? {} : _context$intl;\n  var _nextContext$intl = nextContext.intl,\n      nextIntl = _nextContext$intl === undefined ? {} : _nextContext$intl;\n\n  return !shallowEquals(nextProps, props) || !shallowEquals(nextState, state) || !(nextIntl === intl || shallowEquals(filterProps(nextIntl, intlConfigPropNames), filterProps(intl, intlConfigPropNames)));\n}\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\n// Inspired by react-redux's `connect()` HOC factory function implementation:\n// https://github.com/rackt/react-redux\n\nfunction getDisplayName(Component$$1) {\n  return Component$$1.displayName || Component$$1.name || 'Component';\n}\n\nfunction injectIntl(WrappedComponent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$intlPropName = options.intlPropName,\n      intlPropName = _options$intlPropName === undefined ? 'intl' : _options$intlPropName,\n      _options$withRef = options.withRef,\n      withRef = _options$withRef === undefined ? false : _options$withRef;\n\n  var InjectIntl = function (_Component) {\n    inherits(InjectIntl, _Component);\n\n    function InjectIntl(props, context) {\n      classCallCheck(this, InjectIntl);\n\n      var _this = possibleConstructorReturn(this, (InjectIntl.__proto__ || Object.getPrototypeOf(InjectIntl)).call(this, props, context));\n\n      invariantIntlContext(context);\n      return _this;\n    }\n\n    createClass(InjectIntl, [{\n      key: 'getWrappedInstance',\n      value: function getWrappedInstance() {\n        __WEBPACK_IMPORTED_MODULE_5_invariant___default()(withRef, '[React Intl] To access the wrapped instance, ' + 'the `{withRef: true}` option must be set when calling: ' + '`injectIntl()`');\n\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(WrappedComponent, _extends({}, this.props, defineProperty({}, intlPropName, this.context.intl), {\n          ref: withRef ? 'wrappedInstance' : null\n        }));\n      }\n    }]);\n    return InjectIntl;\n  }(__WEBPACK_IMPORTED_MODULE_4_react__[\"Component\"]);\n\n  InjectIntl.displayName = 'InjectIntl(' + getDisplayName(WrappedComponent) + ')';\n  InjectIntl.contextTypes = {\n    intl: intlShape\n  };\n  InjectIntl.WrappedComponent = WrappedComponent;\n\n  return InjectIntl;\n}\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nfunction defineMessages(messageDescriptors) {\n  // This simply returns what's passed-in because it's meant to be a hook for\n  // babel-plugin-react-intl.\n  return messageDescriptors;\n}\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\n// This is a \"hack\" until a proper `intl-pluralformat` package is created.\n\nfunction resolveLocale(locales) {\n  // IntlMessageFormat#_resolveLocale() does not depend on `this`.\n  return __WEBPACK_IMPORTED_MODULE_1_intl_messageformat___default.a.prototype._resolveLocale(locales);\n}\n\nfunction findPluralFunction(locale) {\n  // IntlMessageFormat#_findPluralFunction() does not depend on `this`.\n  return __WEBPACK_IMPORTED_MODULE_1_intl_messageformat___default.a.prototype._findPluralRuleFunction(locale);\n}\n\nvar IntlPluralFormat = function IntlPluralFormat(locales) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  classCallCheck(this, IntlPluralFormat);\n\n  var useOrdinal = options.style === 'ordinal';\n  var pluralFn = findPluralFunction(resolveLocale(locales));\n\n  this.format = function (value) {\n    return pluralFn(value, useOrdinal);\n  };\n};\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar DATE_TIME_FORMAT_OPTIONS = Object.keys(dateTimeFormatPropTypes);\nvar NUMBER_FORMAT_OPTIONS = Object.keys(numberFormatPropTypes);\nvar RELATIVE_FORMAT_OPTIONS = Object.keys(relativeFormatPropTypes);\nvar PLURAL_FORMAT_OPTIONS = Object.keys(pluralFormatPropTypes);\n\nvar RELATIVE_FORMAT_THRESHOLDS = {\n  second: 60, // seconds to minute\n  minute: 60, // minutes to hour\n  hour: 24, // hours to day\n  day: 30, // days to month\n  month: 12 // months to year\n};\n\nfunction updateRelativeFormatThresholds(newThresholds) {\n  var thresholds = __WEBPACK_IMPORTED_MODULE_2_intl_relativeformat___default.a.thresholds;\n  thresholds.second = newThresholds.second;\n  thresholds.minute = newThresholds.minute;\n  thresholds.hour = newThresholds.hour;\n  thresholds.day = newThresholds.day;\n  thresholds.month = newThresholds.month;\n}\n\nfunction getNamedFormat(formats, type, name) {\n  var format = formats && formats[type] && formats[type][name];\n  if (format) {\n    return format;\n  }\n\n  if (false) {\n    console.error('[React Intl] No ' + type + ' format named: ' + name);\n  }\n}\n\nfunction formatDate(config, state, value) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var locale = config.locale,\n      formats = config.formats;\n  var format = options.format;\n\n  var date = new Date(value);\n  var defaults$$1 = format && getNamedFormat(formats, 'date', format);\n  var filteredOptions = filterProps(options, DATE_TIME_FORMAT_OPTIONS, defaults$$1);\n\n  try {\n    return state.getDateTimeFormat(locale, filteredOptions).format(date);\n  } catch (e) {\n    if (false) {\n      console.error('[React Intl] Error formatting date.\\n' + e);\n    }\n  }\n\n  return String(date);\n}\n\nfunction formatTime(config, state, value) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var locale = config.locale,\n      formats = config.formats;\n  var format = options.format;\n\n  var date = new Date(value);\n  var defaults$$1 = format && getNamedFormat(formats, 'time', format);\n  var filteredOptions = filterProps(options, DATE_TIME_FORMAT_OPTIONS, defaults$$1);\n\n  if (!filteredOptions.hour && !filteredOptions.minute && !filteredOptions.second) {\n    // Add default formatting options if hour, minute, or second isn't defined.\n    filteredOptions = _extends({}, filteredOptions, { hour: 'numeric', minute: 'numeric' });\n  }\n\n  try {\n    return state.getDateTimeFormat(locale, filteredOptions).format(date);\n  } catch (e) {\n    if (false) {\n      console.error('[React Intl] Error formatting time.\\n' + e);\n    }\n  }\n\n  return String(date);\n}\n\nfunction formatRelative(config, state, value) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var locale = config.locale,\n      formats = config.formats;\n  var format = options.format;\n\n  var date = new Date(value);\n  var now = new Date(options.now);\n  var defaults$$1 = format && getNamedFormat(formats, 'relative', format);\n  var filteredOptions = filterProps(options, RELATIVE_FORMAT_OPTIONS, defaults$$1);\n\n  // Capture the current threshold values, then temporarily override them with\n  // specific values just for this render.\n  var oldThresholds = _extends({}, __WEBPACK_IMPORTED_MODULE_2_intl_relativeformat___default.a.thresholds);\n  updateRelativeFormatThresholds(RELATIVE_FORMAT_THRESHOLDS);\n\n  try {\n    return state.getRelativeFormat(locale, filteredOptions).format(date, {\n      now: isFinite(now) ? now : state.now()\n    });\n  } catch (e) {\n    if (false) {\n      console.error('[React Intl] Error formatting relative time.\\n' + e);\n    }\n  } finally {\n    updateRelativeFormatThresholds(oldThresholds);\n  }\n\n  return String(date);\n}\n\nfunction formatNumber(config, state, value) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var locale = config.locale,\n      formats = config.formats;\n  var format = options.format;\n\n  var defaults$$1 = format && getNamedFormat(formats, 'number', format);\n  var filteredOptions = filterProps(options, NUMBER_FORMAT_OPTIONS, defaults$$1);\n\n  try {\n    return state.getNumberFormat(locale, filteredOptions).format(value);\n  } catch (e) {\n    if (false) {\n      console.error('[React Intl] Error formatting number.\\n' + e);\n    }\n  }\n\n  return String(value);\n}\n\nfunction formatPlural(config, state, value) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var locale = config.locale;\n\n  var filteredOptions = filterProps(options, PLURAL_FORMAT_OPTIONS);\n\n  try {\n    return state.getPluralFormat(locale, filteredOptions).format(value);\n  } catch (e) {\n    if (false) {\n      console.error('[React Intl] Error formatting plural.\\n' + e);\n    }\n  }\n\n  return 'other';\n}\n\nfunction formatMessage(config, state) {\n  var messageDescriptor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var values = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var locale = config.locale,\n      formats = config.formats,\n      messages = config.messages,\n      defaultLocale = config.defaultLocale,\n      defaultFormats = config.defaultFormats;\n  var id = messageDescriptor.id,\n      defaultMessage = messageDescriptor.defaultMessage;\n\n  // `id` is a required field of a Message Descriptor.\n\n  __WEBPACK_IMPORTED_MODULE_5_invariant___default()(id, '[React Intl] An `id` must be provided to format a message.');\n\n  var message = messages && messages[id];\n  var hasValues = Object.keys(values).length > 0;\n\n  // Avoid expensive message formatting for simple messages without values. In\n  // development messages will always be formatted in case of missing values.\n  if (!hasValues && \"production\" === 'production') {\n    return message || defaultMessage || id;\n  }\n\n  var formattedMessage = void 0;\n\n  if (message) {\n    try {\n      var formatter = state.getMessageFormat(message, locale, formats);\n\n      formattedMessage = formatter.format(values);\n    } catch (e) {\n      if (false) {\n        console.error('[React Intl] Error formatting message: \"' + id + '\" for locale: \"' + locale + '\"' + (defaultMessage ? ', using default message as fallback.' : '') + ('\\n' + e));\n      }\n    }\n  } else {\n    if (false) {\n      // This prevents warnings from littering the console in development\n      // when no `messages` are passed into the <IntlProvider> for the\n      // default locale, and a default message is in the source.\n      if (!defaultMessage || locale && locale.toLowerCase() !== defaultLocale.toLowerCase()) {\n        console.error('[React Intl] Missing message: \"' + id + '\" for locale: \"' + locale + '\"' + (defaultMessage ? ', using default message as fallback.' : ''));\n      }\n    }\n  }\n\n  if (!formattedMessage && defaultMessage) {\n    try {\n      var _formatter = state.getMessageFormat(defaultMessage, defaultLocale, defaultFormats);\n\n      formattedMessage = _formatter.format(values);\n    } catch (e) {\n      if (false) {\n        console.error('[React Intl] Error formatting the default message for: \"' + id + '\"' + ('\\n' + e));\n      }\n    }\n  }\n\n  if (!formattedMessage) {\n    if (false) {\n      console.error('[React Intl] Cannot format message: \"' + id + '\", ' + ('using message ' + (message || defaultMessage ? 'source' : 'id') + ' as fallback.'));\n    }\n  }\n\n  return formattedMessage || message || defaultMessage || id;\n}\n\nfunction formatHTMLMessage(config, state, messageDescriptor) {\n  var rawValues = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  // Process all the values before they are used when formatting the ICU\n  // Message string. Since the formatted message might be injected via\n  // `innerHTML`, all String-based values need to be HTML-escaped.\n  var escapedValues = Object.keys(rawValues).reduce(function (escaped, name) {\n    var value = rawValues[name];\n    escaped[name] = typeof value === 'string' ? escape(value) : value;\n    return escaped;\n  }, {});\n\n  return formatMessage(config, state, messageDescriptor, escapedValues);\n}\n\nvar format = Object.freeze({\n  formatDate: formatDate,\n  formatTime: formatTime,\n  formatRelative: formatRelative,\n  formatNumber: formatNumber,\n  formatPlural: formatPlural,\n  formatMessage: formatMessage,\n  formatHTMLMessage: formatHTMLMessage\n});\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar intlConfigPropNames$1 = Object.keys(intlConfigPropTypes);\nvar intlFormatPropNames = Object.keys(intlFormatPropTypes);\n\n// These are not a static property on the `IntlProvider` class so the intl\n// config values can be inherited from an <IntlProvider> ancestor.\nvar defaultProps = {\n  formats: {},\n  messages: {},\n  textComponent: 'span',\n\n  defaultLocale: 'en',\n  defaultFormats: {}\n};\n\nvar IntlProvider = function (_Component) {\n  inherits(IntlProvider, _Component);\n\n  function IntlProvider(props) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, IntlProvider);\n\n    var _this = possibleConstructorReturn(this, (IntlProvider.__proto__ || Object.getPrototypeOf(IntlProvider)).call(this, props, context));\n\n    __WEBPACK_IMPORTED_MODULE_5_invariant___default()(typeof Intl !== 'undefined', '[React Intl] The `Intl` APIs must be available in the runtime, ' + 'and do not appear to be built-in. An `Intl` polyfill should be loaded.\\n' + 'See: http://formatjs.io/guides/runtime-environments/');\n\n    var intlContext = context.intl;\n\n    // Used to stabilize time when performing an initial rendering so that\n    // all relative times use the same reference \"now\" time.\n\n    var initialNow = void 0;\n    if (isFinite(props.initialNow)) {\n      initialNow = Number(props.initialNow);\n    } else {\n      // When an `initialNow` isn't provided via `props`, look to see an\n      // <IntlProvider> exists in the ancestry and call its `now()`\n      // function to propagate its value for \"now\".\n      initialNow = intlContext ? intlContext.now() : Date.now();\n    }\n\n    // Creating `Intl*` formatters is expensive. If there's a parent\n    // `<IntlProvider>`, then its formatters will be used. Otherwise, this\n    // memoize the `Intl*` constructors and cache them for the lifecycle of\n    // this IntlProvider instance.\n\n    var _ref = intlContext || {},\n        _ref$formatters = _ref.formatters,\n        formatters = _ref$formatters === undefined ? {\n      getDateTimeFormat: __WEBPACK_IMPORTED_MODULE_6_intl_format_cache___default()(Intl.DateTimeFormat),\n      getNumberFormat: __WEBPACK_IMPORTED_MODULE_6_intl_format_cache___default()(Intl.NumberFormat),\n      getMessageFormat: __WEBPACK_IMPORTED_MODULE_6_intl_format_cache___default()(__WEBPACK_IMPORTED_MODULE_1_intl_messageformat___default.a),\n      getRelativeFormat: __WEBPACK_IMPORTED_MODULE_6_intl_format_cache___default()(__WEBPACK_IMPORTED_MODULE_2_intl_relativeformat___default.a),\n      getPluralFormat: __WEBPACK_IMPORTED_MODULE_6_intl_format_cache___default()(IntlPluralFormat)\n    } : _ref$formatters;\n\n    _this.state = _extends({}, formatters, {\n\n      // Wrapper to provide stable \"now\" time for initial render.\n      now: function now() {\n        return _this._didDisplay ? Date.now() : initialNow;\n      }\n    });\n    return _this;\n  }\n\n  createClass(IntlProvider, [{\n    key: 'getConfig',\n    value: function getConfig() {\n      var intlContext = this.context.intl;\n\n      // Build a whitelisted config object from `props`, defaults, and\n      // `context.intl`, if an <IntlProvider> exists in the ancestry.\n\n      var config = filterProps(this.props, intlConfigPropNames$1, intlContext);\n\n      // Apply default props. This must be applied last after the props have\n      // been resolved and inherited from any <IntlProvider> in the ancestry.\n      // This matches how React resolves `defaultProps`.\n      for (var propName in defaultProps) {\n        if (config[propName] === undefined) {\n          config[propName] = defaultProps[propName];\n        }\n      }\n\n      if (!hasLocaleData(config.locale)) {\n        var _config = config,\n            locale = _config.locale,\n            defaultLocale = _config.defaultLocale,\n            defaultFormats = _config.defaultFormats;\n\n        if (false) {\n          console.error('[React Intl] Missing locale data for locale: \"' + locale + '\". ' + ('Using default locale: \"' + defaultLocale + '\" as fallback.'));\n        }\n\n        // Since there's no registered locale data for `locale`, this will\n        // fallback to the `defaultLocale` to make sure things can render.\n        // The `messages` are overridden to the `defaultProps` empty object\n        // to maintain referential equality across re-renders. It's assumed\n        // each <FormattedMessage> contains a `defaultMessage` prop.\n        config = _extends({}, config, {\n          locale: defaultLocale,\n          formats: defaultFormats,\n          messages: defaultProps.messages\n        });\n      }\n\n      return config;\n    }\n  }, {\n    key: 'getBoundFormatFns',\n    value: function getBoundFormatFns(config, state) {\n      return intlFormatPropNames.reduce(function (boundFormatFns, name) {\n        boundFormatFns[name] = format[name].bind(null, config, state);\n        return boundFormatFns;\n      }, {});\n    }\n  }, {\n    key: 'getChildContext',\n    value: function getChildContext() {\n      var config = this.getConfig();\n\n      // Bind intl factories and current config to the format functions.\n      var boundFormatFns = this.getBoundFormatFns(config, this.state);\n\n      var _state = this.state,\n          now = _state.now,\n          formatters = objectWithoutProperties(_state, ['now']);\n\n      return {\n        intl: _extends({}, config, boundFormatFns, {\n          formatters: formatters,\n          now: now\n        })\n      };\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, next = Array(_len), _key = 0; _key < _len; _key++) {\n        next[_key] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this].concat(next));\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._didDisplay = true;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return __WEBPACK_IMPORTED_MODULE_4_react__[\"Children\"].only(this.props.children);\n    }\n  }]);\n  return IntlProvider;\n}(__WEBPACK_IMPORTED_MODULE_4_react__[\"Component\"]);\n\nIntlProvider.displayName = 'IntlProvider';\nIntlProvider.contextTypes = {\n  intl: intlShape\n};\nIntlProvider.childContextTypes = {\n  intl: intlShape.isRequired\n};\n false ? IntlProvider.propTypes = _extends({}, intlConfigPropTypes, {\n  children: PropTypes.element.isRequired,\n  initialNow: PropTypes.any\n}) : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar FormattedDate = function (_Component) {\n  inherits(FormattedDate, _Component);\n\n  function FormattedDate(props, context) {\n    classCallCheck(this, FormattedDate);\n\n    var _this = possibleConstructorReturn(this, (FormattedDate.__proto__ || Object.getPrototypeOf(FormattedDate)).call(this, props, context));\n\n    invariantIntlContext(context);\n    return _this;\n  }\n\n  createClass(FormattedDate, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, next = Array(_len), _key = 0; _key < _len; _key++) {\n        next[_key] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this].concat(next));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatDate = _context$intl.formatDate,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          value = _props.value,\n          children = _props.children;\n\n      var formattedDate = formatDate(value, this.props);\n\n      if (typeof children === 'function') {\n        return children(formattedDate);\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(Text, null, formattedDate);\n    }\n  }]);\n  return FormattedDate;\n}(__WEBPACK_IMPORTED_MODULE_4_react__[\"Component\"]);\n\nFormattedDate.displayName = 'FormattedDate';\nFormattedDate.contextTypes = {\n  intl: intlShape\n};\n false ? void 0 : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar FormattedTime = function (_Component) {\n  inherits(FormattedTime, _Component);\n\n  function FormattedTime(props, context) {\n    classCallCheck(this, FormattedTime);\n\n    var _this = possibleConstructorReturn(this, (FormattedTime.__proto__ || Object.getPrototypeOf(FormattedTime)).call(this, props, context));\n\n    invariantIntlContext(context);\n    return _this;\n  }\n\n  createClass(FormattedTime, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, next = Array(_len), _key = 0; _key < _len; _key++) {\n        next[_key] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this].concat(next));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatTime = _context$intl.formatTime,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          value = _props.value,\n          children = _props.children;\n\n      var formattedTime = formatTime(value, this.props);\n\n      if (typeof children === 'function') {\n        return children(formattedTime);\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(Text, null, formattedTime);\n    }\n  }]);\n  return FormattedTime;\n}(__WEBPACK_IMPORTED_MODULE_4_react__[\"Component\"]);\n\nFormattedTime.displayName = 'FormattedTime';\nFormattedTime.contextTypes = {\n  intl: intlShape\n};\n false ? void 0 : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar SECOND = 1000;\nvar MINUTE = 1000 * 60;\nvar HOUR = 1000 * 60 * 60;\nvar DAY = 1000 * 60 * 60 * 24;\n\n// The maximum timer delay value is a 32-bit signed integer.\n// See: https://mdn.io/setTimeout\nvar MAX_TIMER_DELAY = 2147483647;\n\nfunction selectUnits(delta) {\n  var absDelta = Math.abs(delta);\n\n  if (absDelta < MINUTE) {\n    return 'second';\n  }\n\n  if (absDelta < HOUR) {\n    return 'minute';\n  }\n\n  if (absDelta < DAY) {\n    return 'hour';\n  }\n\n  // The maximum scheduled delay will be measured in days since the maximum\n  // timer delay is less than the number of milliseconds in 25 days.\n  return 'day';\n}\n\nfunction getUnitDelay(units) {\n  switch (units) {\n    case 'second':\n      return SECOND;\n    case 'minute':\n      return MINUTE;\n    case 'hour':\n      return HOUR;\n    case 'day':\n      return DAY;\n    default:\n      return MAX_TIMER_DELAY;\n  }\n}\n\nfunction isSameDate(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  var aTime = new Date(a).getTime();\n  var bTime = new Date(b).getTime();\n\n  return isFinite(aTime) && isFinite(bTime) && aTime === bTime;\n}\n\nvar FormattedRelative = function (_Component) {\n  inherits(FormattedRelative, _Component);\n\n  function FormattedRelative(props, context) {\n    classCallCheck(this, FormattedRelative);\n\n    var _this = possibleConstructorReturn(this, (FormattedRelative.__proto__ || Object.getPrototypeOf(FormattedRelative)).call(this, props, context));\n\n    invariantIntlContext(context);\n\n    var now = isFinite(props.initialNow) ? Number(props.initialNow) : context.intl.now();\n\n    // `now` is stored as state so that `render()` remains a function of\n    // props + state, instead of accessing `Date.now()` inside `render()`.\n    _this.state = { now: now };\n    return _this;\n  }\n\n  createClass(FormattedRelative, [{\n    key: 'scheduleNextUpdate',\n    value: function scheduleNextUpdate(props, state) {\n      var _this2 = this;\n\n      // Cancel and pending update because we're scheduling a new update.\n      clearTimeout(this._timer);\n\n      var value = props.value,\n          units = props.units,\n          updateInterval = props.updateInterval;\n\n      var time = new Date(value).getTime();\n\n      // If the `updateInterval` is falsy, including `0` or we don't have a\n      // valid date, then auto updates have been turned off, so we bail and\n      // skip scheduling an update.\n      if (!updateInterval || !isFinite(time)) {\n        return;\n      }\n\n      var delta = time - state.now;\n      var unitDelay = getUnitDelay(units || selectUnits(delta));\n      var unitRemainder = Math.abs(delta % unitDelay);\n\n      // We want the largest possible timer delay which will still display\n      // accurate information while reducing unnecessary re-renders. The delay\n      // should be until the next \"interesting\" moment, like a tick from\n      // \"1 minute ago\" to \"2 minutes ago\" when the delta is 120,000ms.\n      var delay = delta < 0 ? Math.max(updateInterval, unitDelay - unitRemainder) : Math.max(updateInterval, unitRemainder);\n\n      this._timer = setTimeout(function () {\n        _this2.setState({ now: _this2.context.intl.now() });\n      }, delay);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.scheduleNextUpdate(this.props, this.state);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(_ref) {\n      var nextValue = _ref.value;\n\n      // When the `props.value` date changes, `state.now` needs to be updated,\n      // and the next update can be rescheduled.\n      if (!isSameDate(nextValue, this.props.value)) {\n        this.setState({ now: this.context.intl.now() });\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, next = Array(_len), _key = 0; _key < _len; _key++) {\n        next[_key] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this].concat(next));\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps, nextState) {\n      this.scheduleNextUpdate(nextProps, nextState);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this._timer);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatRelative = _context$intl.formatRelative,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          value = _props.value,\n          children = _props.children;\n\n      var formattedRelative = formatRelative(value, _extends({}, this.props, this.state));\n\n      if (typeof children === 'function') {\n        return children(formattedRelative);\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(Text, null, formattedRelative);\n    }\n  }]);\n  return FormattedRelative;\n}(__WEBPACK_IMPORTED_MODULE_4_react__[\"Component\"]);\n\nFormattedRelative.displayName = 'FormattedRelative';\nFormattedRelative.contextTypes = {\n  intl: intlShape\n};\nFormattedRelative.defaultProps = {\n  updateInterval: 1000 * 10\n};\n false ? void 0 : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar FormattedNumber = function (_Component) {\n  inherits(FormattedNumber, _Component);\n\n  function FormattedNumber(props, context) {\n    classCallCheck(this, FormattedNumber);\n\n    var _this = possibleConstructorReturn(this, (FormattedNumber.__proto__ || Object.getPrototypeOf(FormattedNumber)).call(this, props, context));\n\n    invariantIntlContext(context);\n    return _this;\n  }\n\n  createClass(FormattedNumber, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, next = Array(_len), _key = 0; _key < _len; _key++) {\n        next[_key] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this].concat(next));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatNumber = _context$intl.formatNumber,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          value = _props.value,\n          children = _props.children;\n\n      var formattedNumber = formatNumber(value, this.props);\n\n      if (typeof children === 'function') {\n        return children(formattedNumber);\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(Text, null, formattedNumber);\n    }\n  }]);\n  return FormattedNumber;\n}(__WEBPACK_IMPORTED_MODULE_4_react__[\"Component\"]);\n\nFormattedNumber.displayName = 'FormattedNumber';\nFormattedNumber.contextTypes = {\n  intl: intlShape\n};\n false ? void 0 : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar FormattedPlural = function (_Component) {\n  inherits(FormattedPlural, _Component);\n\n  function FormattedPlural(props, context) {\n    classCallCheck(this, FormattedPlural);\n\n    var _this = possibleConstructorReturn(this, (FormattedPlural.__proto__ || Object.getPrototypeOf(FormattedPlural)).call(this, props, context));\n\n    invariantIntlContext(context);\n    return _this;\n  }\n\n  createClass(FormattedPlural, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, next = Array(_len), _key = 0; _key < _len; _key++) {\n        next[_key] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this].concat(next));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatPlural = _context$intl.formatPlural,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          value = _props.value,\n          other = _props.other,\n          children = _props.children;\n\n      var pluralCategory = formatPlural(value, this.props);\n      var formattedPlural = this.props[pluralCategory] || other;\n\n      if (typeof children === 'function') {\n        return children(formattedPlural);\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(Text, null, formattedPlural);\n    }\n  }]);\n  return FormattedPlural;\n}(__WEBPACK_IMPORTED_MODULE_4_react__[\"Component\"]);\n\nFormattedPlural.displayName = 'FormattedPlural';\nFormattedPlural.contextTypes = {\n  intl: intlShape\n};\nFormattedPlural.defaultProps = {\n  style: 'cardinal'\n};\n false ? void 0 : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar FormattedMessage = function (_Component) {\n  inherits(FormattedMessage, _Component);\n\n  function FormattedMessage(props, context) {\n    classCallCheck(this, FormattedMessage);\n\n    var _this = possibleConstructorReturn(this, (FormattedMessage.__proto__ || Object.getPrototypeOf(FormattedMessage)).call(this, props, context));\n\n    invariantIntlContext(context);\n    return _this;\n  }\n\n  createClass(FormattedMessage, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      var values = this.props.values;\n      var nextValues = nextProps.values;\n\n      if (!shallowEquals(nextValues, values)) {\n        return true;\n      }\n\n      // Since `values` has already been checked, we know they're not\n      // different, so the current `values` are carried over so the shallow\n      // equals comparison on the other props isn't affected by the `values`.\n      var nextPropsToCheck = _extends({}, nextProps, {\n        values: values\n      });\n\n      for (var _len = arguments.length, next = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        next[_key - 1] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this, nextPropsToCheck].concat(next));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatMessage = _context$intl.formatMessage,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          id = _props.id,\n          description = _props.description,\n          defaultMessage = _props.defaultMessage,\n          values = _props.values,\n          _props$tagName = _props.tagName,\n          Component$$1 = _props$tagName === undefined ? Text : _props$tagName,\n          children = _props.children;\n\n      var tokenDelimiter = void 0;\n      var tokenizedValues = void 0;\n      var elements = void 0;\n\n      var hasValues = values && Object.keys(values).length > 0;\n      if (hasValues) {\n        // Creates a token with a random UID that should not be guessable or\n        // conflict with other parts of the `message` string.\n        var uid = Math.floor(Math.random() * 0x10000000000).toString(16);\n\n        var generateToken = function () {\n          var counter = 0;\n          return function () {\n            return 'ELEMENT-' + uid + '-' + (counter += 1);\n          };\n        }();\n\n        // Splitting with a delimiter to support IE8. When using a regex\n        // with a capture group IE8 does not include the capture group in\n        // the resulting array.\n        tokenDelimiter = '@__' + uid + '__@';\n        tokenizedValues = {};\n        elements = {};\n\n        // Iterates over the `props` to keep track of any React Element\n        // values so they can be represented by the `token` as a placeholder\n        // when the `message` is formatted. This allows the formatted\n        // message to then be broken-up into parts with references to the\n        // React Elements inserted back in.\n        Object.keys(values).forEach(function (name) {\n          var value = values[name];\n\n          if (Object(__WEBPACK_IMPORTED_MODULE_4_react__[\"isValidElement\"])(value)) {\n            var token = generateToken();\n            tokenizedValues[name] = tokenDelimiter + token + tokenDelimiter;\n            elements[token] = value;\n          } else {\n            tokenizedValues[name] = value;\n          }\n        });\n      }\n\n      var descriptor = { id: id, description: description, defaultMessage: defaultMessage };\n      var formattedMessage = formatMessage(descriptor, tokenizedValues || values);\n\n      var nodes = void 0;\n\n      var hasElements = elements && Object.keys(elements).length > 0;\n      if (hasElements) {\n        // Split the message into parts so the React Element values captured\n        // above can be inserted back into the rendered message. This\n        // approach allows messages to render with React Elements while\n        // keeping React's virtual diffing working properly.\n        nodes = formattedMessage.split(tokenDelimiter).filter(function (part) {\n          return !!part;\n        }).map(function (part) {\n          return elements[part] || part;\n        });\n      } else {\n        nodes = [formattedMessage];\n      }\n\n      if (typeof children === 'function') {\n        return children.apply(undefined, toConsumableArray(nodes));\n      }\n\n      // Needs to use `createElement()` instead of JSX, otherwise React will\n      // warn about a missing `key` prop with rich-text message formatting.\n      return __WEBPACK_IMPORTED_MODULE_4_react__[\"createElement\"].apply(undefined, [Component$$1, null].concat(toConsumableArray(nodes)));\n    }\n  }]);\n  return FormattedMessage;\n}(__WEBPACK_IMPORTED_MODULE_4_react__[\"Component\"]);\n\nFormattedMessage.displayName = 'FormattedMessage';\nFormattedMessage.contextTypes = {\n  intl: intlShape\n};\nFormattedMessage.defaultProps = {\n  values: {}\n};\n false ? FormattedMessage.propTypes = _extends({}, messageDescriptorPropTypes, {\n  values: PropTypes.object,\n  tagName: PropTypes.string,\n  children: PropTypes.func\n}) : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar FormattedHTMLMessage = function (_Component) {\n  inherits(FormattedHTMLMessage, _Component);\n\n  function FormattedHTMLMessage(props, context) {\n    classCallCheck(this, FormattedHTMLMessage);\n\n    var _this = possibleConstructorReturn(this, (FormattedHTMLMessage.__proto__ || Object.getPrototypeOf(FormattedHTMLMessage)).call(this, props, context));\n\n    invariantIntlContext(context);\n    return _this;\n  }\n\n  createClass(FormattedHTMLMessage, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      var values = this.props.values;\n      var nextValues = nextProps.values;\n\n      if (!shallowEquals(nextValues, values)) {\n        return true;\n      }\n\n      // Since `values` has already been checked, we know they're not\n      // different, so the current `values` are carried over so the shallow\n      // equals comparison on the other props isn't affected by the `values`.\n      var nextPropsToCheck = _extends({}, nextProps, {\n        values: values\n      });\n\n      for (var _len = arguments.length, next = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        next[_key - 1] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this, nextPropsToCheck].concat(next));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatHTMLMessage = _context$intl.formatHTMLMessage,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          id = _props.id,\n          description = _props.description,\n          defaultMessage = _props.defaultMessage,\n          rawValues = _props.values,\n          _props$tagName = _props.tagName,\n          Component$$1 = _props$tagName === undefined ? Text : _props$tagName,\n          children = _props.children;\n\n      var descriptor = { id: id, description: description, defaultMessage: defaultMessage };\n      var formattedHTMLMessage = formatHTMLMessage(descriptor, rawValues);\n\n      if (typeof children === 'function') {\n        return children(formattedHTMLMessage);\n      }\n\n      // Since the message presumably has HTML in it, we need to set\n      // `innerHTML` in order for it to be rendered and not escaped by React.\n      // To be safe, all string prop values were escaped when formatting the\n      // message. It is assumed that the message is not UGC, and came from the\n      // developer making it more like a template.\n      //\n      // Note: There's a perf impact of using this component since there's no\n      // way for React to do its virtual DOM diffing.\n      var html = { __html: formattedHTMLMessage };\n      return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(Component$$1, { dangerouslySetInnerHTML: html });\n    }\n  }]);\n  return FormattedHTMLMessage;\n}(__WEBPACK_IMPORTED_MODULE_4_react__[\"Component\"]);\n\nFormattedHTMLMessage.displayName = 'FormattedHTMLMessage';\nFormattedHTMLMessage.contextTypes = {\n  intl: intlShape\n};\nFormattedHTMLMessage.defaultProps = {\n  values: {}\n};\n false ? void 0 : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\naddLocaleData(defaultLocaleData);\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\naddLocaleData(__WEBPACK_IMPORTED_MODULE_0__locale_data_index_js___default.a);\n\n\n\n/***/ }),\n\n/***/ 742:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ModalRoot; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n\n\n\n\n\n\nvar ModalRoot = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(ModalRoot, _React$PureComponent);\n\n  function ModalRoot() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, ModalRoot);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.state = {\n      revealed: !!_this.props.children\n    }, _this.activeElement = _this.state.revealed ? document.activeElement : null, _this.handleKeyUp = function (e) {\n      if ((e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27) && !!_this.props.children && !_this.props.noEsc) {\n        _this.props.onClose();\n      }\n    }, _this.getSiblings = function () {\n      return Array.apply(undefined, _this.node.parentElement.childNodes).filter(function (node) {\n        return node !== _this.node;\n      });\n    }, _this.setRef = function (ref) {\n      _this.node = ref;\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  ModalRoot.prototype.componentDidMount = function componentDidMount() {\n    window.addEventListener('keyup', this.handleKeyUp, false);\n  };\n\n  ModalRoot.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (!!nextProps.children && !this.props.children) {\n      this.activeElement = document.activeElement;\n\n      this.getSiblings().forEach(function (sibling) {\n        return sibling.setAttribute('inert', true);\n      });\n    } else if (!nextProps.children) {\n      this.setState({ revealed: false });\n    }\n  };\n\n  ModalRoot.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    if (!this.props.children && !!prevProps.children) {\n      this.getSiblings().forEach(function (sibling) {\n        return sibling.removeAttribute('inert');\n      });\n      this.activeElement.focus();\n      this.activeElement = null;\n    }\n    if (this.props.children) {\n      requestAnimationFrame(function () {\n        _this2.setState({ revealed: true });\n      });\n    }\n  };\n\n  ModalRoot.prototype.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('keyup', this.handleKeyUp);\n  };\n\n  ModalRoot.prototype.render = function render() {\n    var _props = this.props,\n        children = _props.children,\n        onClose = _props.onClose;\n    var revealed = this.state.revealed;\n\n    var visible = !!children;\n\n    if (!visible) {\n      return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement('div', { className: 'modal-root', ref: this.setRef, style: { opacity: 0 } });\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n      'div',\n      { className: 'modal-root', ref: this.setRef, style: { opacity: revealed ? 1 : 0 } },\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        style: { pointerEvents: visible ? 'auto' : 'none' }\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        role: 'presentation',\n        className: 'modal-root__overlay',\n        onClick: onClose\n      }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        role: 'dialog',\n        className: 'modal-root__container'\n      }, void 0, children))\n    );\n  };\n\n  return ModalRoot;\n}(__WEBPACK_IMPORTED_MODULE_4_react___default.a.PureComponent);\n\n\n\n/***/ }),\n\n/***/ 743:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MediaModal; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_swipeable_views__ = __webpack_require__(262);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_swipeable_views___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react_swipeable_views__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_immutable_proptypes__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react_immutable_proptypes___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react_immutable_proptypes__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_prop_types__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_flavours_glitch_features_video__ = __webpack_require__(488);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_flavours_glitch_components_extended_video_player__ = __webpack_require__(744);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_classnames__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_react_intl__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_flavours_glitch_components_icon_button__ = __webpack_require__(151);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_react_immutable_pure_component__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_react_immutable_pure_component___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_react_immutable_pure_component__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__image_loader__ = __webpack_require__(745);\n\n\n\n\n\nvar _class, _class2, _temp2;\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(__WEBPACK_IMPORTED_MODULE_11_react_intl__[\"f\" /* defineMessages */])({\n  close: {\n    'id': 'lightbox.close',\n    'defaultMessage': 'Close'\n  },\n  previous: {\n    'id': 'lightbox.previous',\n    'defaultMessage': 'Previous'\n  },\n  next: {\n    'id': 'lightbox.next',\n    'defaultMessage': 'Next'\n  }\n});\n\nvar MediaModal = Object(__WEBPACK_IMPORTED_MODULE_11_react_intl__[\"g\" /* injectIntl */])(_class = (_temp2 = _class2 = function (_ImmutablePureCompone) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(MediaModal, _ImmutablePureCompone);\n\n  function MediaModal() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, MediaModal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _ImmutablePureCompone.call.apply(_ImmutablePureCompone, [this].concat(args))), _this), _this.state = {\n      index: null,\n      navigationHidden: false\n    }, _this.handleSwipe = function (index) {\n      _this.setState({ index: index % _this.props.media.size });\n    }, _this.handleNextClick = function () {\n      _this.setState({ index: (_this.getIndex() + 1) % _this.props.media.size });\n    }, _this.handlePrevClick = function () {\n      _this.setState({ index: (_this.props.media.size + _this.getIndex() - 1) % _this.props.media.size });\n    }, _this.handleChangeIndex = function (e) {\n      var index = Number(e.currentTarget.getAttribute('data-index'));\n      _this.setState({ index: index % _this.props.media.size });\n    }, _this.handleKeyUp = function (e) {\n      switch (e.key) {\n        case 'ArrowLeft':\n          _this.handlePrevClick();\n          break;\n        case 'ArrowRight':\n          _this.handleNextClick();\n          break;\n      }\n    }, _this.toggleNavigation = function () {\n      _this.setState(function (prevState) {\n        return {\n          navigationHidden: !prevState.navigationHidden\n        };\n      });\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  MediaModal.prototype.componentDidMount = function componentDidMount() {\n    window.addEventListener('keyup', this.handleKeyUp, false);\n  };\n\n  MediaModal.prototype.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('keyup', this.handleKeyUp);\n  };\n\n  MediaModal.prototype.getIndex = function getIndex() {\n    return this.state.index !== null ? this.state.index : this.props.index;\n  };\n\n  MediaModal.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        media = _props.media,\n        intl = _props.intl,\n        onClose = _props.onClose;\n    var navigationHidden = this.state.navigationHidden;\n\n\n    var index = this.getIndex();\n    var pagination = [];\n\n    var leftNav = media.size > 1 && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n      tabIndex: '0',\n      className: 'media-modal__nav media-modal__nav--left',\n      onClick: this.handlePrevClick,\n      'aria-label': intl.formatMessage(messages.previous)\n    }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n      className: 'fa fa-fw fa-chevron-left'\n    }));\n    var rightNav = media.size > 1 && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n      tabIndex: '0',\n      className: 'media-modal__nav  media-modal__nav--right',\n      onClick: this.handleNextClick,\n      'aria-label': intl.formatMessage(messages.next)\n    }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('i', {\n      className: 'fa fa-fw fa-chevron-right'\n    }));\n\n    if (media.size > 1) {\n      pagination = media.map(function (item, i) {\n        var classes = ['media-modal__button'];\n        if (i === index) {\n          classes.push('media-modal__button--active');\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('li', {\n          className: 'media-modal__page-dot'\n        }, i, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n          tabIndex: '0',\n          className: classes.join(' '),\n          onClick: _this2.handleChangeIndex,\n          'data-index': i\n        }, void 0, i + 1));\n      });\n    }\n\n    var content = media.map(function (image) {\n      var width = image.getIn(['meta', 'original', 'width']) || null;\n      var height = image.getIn(['meta', 'original', 'height']) || null;\n\n      if (image.get('type') === 'image') {\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_14__image_loader__[\"a\" /* default */], {\n          previewSrc: image.get('preview_url'),\n          src: image.get('url'),\n          width: width,\n          height: height,\n          alt: image.get('description'),\n          onClick: _this2.toggleNavigation\n        }, image.get('url'));\n      } else if (image.get('type') === 'video') {\n        var time = _this2.props.time;\n\n\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_8_flavours_glitch_features_video__[\"default\"], {\n          preview: image.get('preview_url'),\n          src: image.get('url'),\n          width: image.get('width'),\n          height: image.get('height'),\n          startTime: time || 0,\n          onCloseVideo: onClose,\n          detailed: true,\n          description: image.get('description')\n        }, image.get('url'));\n      } else if (image.get('type') === 'gifv') {\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_9_flavours_glitch_components_extended_video_player__[\"a\" /* default */], {\n          src: image.get('url'),\n          muted: true,\n          controls: false,\n          width: width,\n          height: height,\n          alt: image.get('description'),\n          onClick: _this2.toggleNavigation\n        }, image.get('preview_url'));\n      }\n\n      return null;\n    }).toArray();\n\n    // you can't use 100vh, because the viewport height is taller\n    // than the visible part of the document in some mobile\n    // browsers when it's address bar is visible.\n    // https://developers.google.com/web/updates/2016/12/url-bar-resizing\n    var swipeableViewsStyle = {\n      width: '100%',\n      height: '100%'\n    };\n\n    var containerStyle = {\n      alignItems: 'center' // center vertically\n    };\n\n    var navigationClassName = __WEBPACK_IMPORTED_MODULE_10_classnames___default()('media-modal__navigation', {\n      'media-modal__navigation--hidden': navigationHidden\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: 'modal-root__modal media-modal'\n    }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: 'media-modal__closer',\n      role: 'presentation',\n      onClick: onClose\n    }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_5_react_swipeable_views___default.a, {\n      style: swipeableViewsStyle,\n      containerStyle: containerStyle,\n      onChangeIndex: this.handleSwipe,\n      onSwitching: this.handleSwitching,\n      index: index\n    }, void 0, content)), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: navigationClassName\n    }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_12_flavours_glitch_components_icon_button__[\"a\" /* default */], {\n      className: 'media-modal__close',\n      title: intl.formatMessage(messages.close),\n      icon: 'times',\n      onClick: onClose,\n      size: 40\n    }), leftNav, rightNav, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('ul', {\n      className: 'media-modal__pagination'\n    }, void 0, pagination)));\n  };\n\n  return MediaModal;\n}(__WEBPACK_IMPORTED_MODULE_13_react_immutable_pure_component___default.a), _class2.propTypes = {\n  media: __WEBPACK_IMPORTED_MODULE_6_react_immutable_proptypes___default.a.list.isRequired,\n  index: __WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.number.isRequired,\n  onClose: __WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.func.isRequired,\n  intl: __WEBPACK_IMPORTED_MODULE_7_prop_types___default.a.object.isRequired\n}, _temp2)) || _class;\n\n\n\n/***/ }),\n\n/***/ 744:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ExtendedVideoPlayer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n\n\n\n\n\n\nvar ExtendedVideoPlayer = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(ExtendedVideoPlayer, _React$PureComponent);\n\n  function ExtendedVideoPlayer() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, ExtendedVideoPlayer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.handleLoadedData = function () {\n      if (_this.props.time) {\n        _this.video.currentTime = _this.props.time;\n      }\n    }, _this.setRef = function (c) {\n      _this.video = c;\n    }, _this.handleClick = function (e) {\n      e.stopPropagation();\n      var handler = _this.props.onClick;\n      if (handler) handler();\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  ExtendedVideoPlayer.prototype.componentDidMount = function componentDidMount() {\n    this.video.addEventListener('loadeddata', this.handleLoadedData);\n  };\n\n  ExtendedVideoPlayer.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.video.removeEventListener('loadeddata', this.handleLoadedData);\n  };\n\n  ExtendedVideoPlayer.prototype.render = function render() {\n    var _props = this.props,\n        src = _props.src,\n        muted = _props.muted,\n        controls = _props.controls,\n        alt = _props.alt;\n\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: 'extended-video-player'\n    }, void 0, __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement('video', {\n      ref: this.setRef,\n      src: src,\n      autoPlay: true,\n      role: 'button',\n      tabIndex: '0',\n      'aria-label': alt,\n      muted: muted,\n      controls: controls,\n      loop: !controls,\n      onClick: this.handleClick\n    }));\n  };\n\n  return ExtendedVideoPlayer;\n}(__WEBPACK_IMPORTED_MODULE_4_react___default.a.PureComponent);\n\n\n\n/***/ }),\n\n/***/ 745:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ImageLoader; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(203);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_classnames__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__zoomable_image__ = __webpack_require__(746);\n\n\n\n\n\n\nvar _class, _temp2;\n\n\n\n\n\n\nvar ImageLoader = (_temp2 = _class = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_inherits___default()(ImageLoader, _React$PureComponent);\n\n  function ImageLoader() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, ImageLoader);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.state = {\n      loading: true,\n      error: false\n    }, _this.removers = [], _this.canvas = null, _this.loadPreviewCanvas = function (_ref) {\n      var previewSrc = _ref.previewSrc,\n          width = _ref.width,\n          height = _ref.height;\n      return new Promise(function (resolve, reject) {\n        var image = new Image();\n        var removeEventListeners = function removeEventListeners() {\n          image.removeEventListener('error', handleError);\n          image.removeEventListener('load', handleLoad);\n        };\n        var handleError = function handleError() {\n          removeEventListeners();\n          reject();\n        };\n        var handleLoad = function handleLoad() {\n          removeEventListeners();\n          _this.canvasContext.drawImage(image, 0, 0, width, height);\n          resolve();\n        };\n        image.addEventListener('error', handleError);\n        image.addEventListener('load', handleLoad);\n        image.src = previewSrc;\n        _this.removers.push(removeEventListeners);\n      });\n    }, _this.loadOriginalImage = function (_ref2) {\n      var src = _ref2.src;\n      return new Promise(function (resolve, reject) {\n        var image = new Image();\n        var removeEventListeners = function removeEventListeners() {\n          image.removeEventListener('error', handleError);\n          image.removeEventListener('load', handleLoad);\n        };\n        var handleError = function handleError() {\n          removeEventListeners();\n          reject();\n        };\n        var handleLoad = function handleLoad() {\n          removeEventListeners();\n          resolve();\n        };\n        image.addEventListener('error', handleError);\n        image.addEventListener('load', handleLoad);\n        image.src = src;\n        _this.removers.push(removeEventListeners);\n      });\n    }, _this.setCanvasRef = function (c) {\n      _this.canvas = c;\n    }, _temp), __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  ImageLoader.prototype.componentDidMount = function componentDidMount() {\n    this.loadImage(this.props);\n  };\n\n  ImageLoader.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (this.props.src !== nextProps.src) {\n      this.loadImage(nextProps);\n    }\n  };\n\n  ImageLoader.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.removeEventListeners();\n  };\n\n  ImageLoader.prototype.loadImage = function loadImage(props) {\n    var _this2 = this;\n\n    this.removeEventListeners();\n    this.setState({ loading: true, error: false });\n    Promise.all([props.previewSrc && this.loadPreviewCanvas(props), this.hasSize() && this.loadOriginalImage(props)].filter(Boolean)).then(function () {\n      _this2.setState({ loading: false, error: false });\n      _this2.clearPreviewCanvas();\n    }).catch(function () {\n      return _this2.setState({ loading: false, error: true });\n    });\n  };\n\n  ImageLoader.prototype.clearPreviewCanvas = function clearPreviewCanvas() {\n    var _canvas = this.canvas,\n        width = _canvas.width,\n        height = _canvas.height;\n\n    this.canvasContext.clearRect(0, 0, width, height);\n  };\n\n  ImageLoader.prototype.removeEventListeners = function removeEventListeners() {\n    this.removers.forEach(function (listeners) {\n      return listeners();\n    });\n    this.removers = [];\n  };\n\n  ImageLoader.prototype.hasSize = function hasSize() {\n    var _props = this.props,\n        width = _props.width,\n        height = _props.height;\n\n    return typeof width === 'number' && typeof height === 'number';\n  };\n\n  ImageLoader.prototype.render = function render() {\n    var _props2 = this.props,\n        alt = _props2.alt,\n        src = _props2.src,\n        width = _props2.width,\n        height = _props2.height,\n        onClick = _props2.onClick;\n    var loading = this.state.loading;\n\n\n    var className = __WEBPACK_IMPORTED_MODULE_6_classnames___default()('image-loader', {\n      'image-loader--loading': loading,\n      'image-loader--amorphous': !this.hasSize()\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: className\n    }, void 0, loading ? __WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('canvas', {\n      className: 'image-loader__preview-canvas',\n      ref: this.setCanvasRef,\n      width: width,\n      height: height\n    }) : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_7__zoomable_image__[\"a\" /* default */], {\n      alt: alt,\n      src: src,\n      onClick: onClick\n    }));\n  };\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(ImageLoader, [{\n    key: 'canvasContext',\n    get: function get() {\n      if (!this.canvas) {\n        return null;\n      }\n      this._canvasContext = this._canvasContext || this.canvas.getContext('2d');\n      return this._canvasContext;\n    }\n  }]);\n\n  return ImageLoader;\n}(__WEBPACK_IMPORTED_MODULE_5_react___default.a.PureComponent), _class.defaultProps = {\n  alt: '',\n  width: null,\n  height: null\n}, _temp2);\n\n\n/***/ }),\n\n/***/ 746:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ZoomableImage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react__);\n\n\n\n\nvar _class, _temp2;\n\n\n\n\nvar MIN_SCALE = 1;\nvar MAX_SCALE = 4;\n\nvar getMidpoint = function getMidpoint(p1, p2) {\n  return {\n    x: (p1.clientX + p2.clientX) / 2,\n    y: (p1.clientY + p2.clientY) / 2\n  };\n};\n\nvar getDistance = function getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p1.clientX - p2.clientX, 2) + Math.pow(p1.clientY - p2.clientY, 2));\n};\n\nvar clamp = function clamp(min, max, value) {\n  return Math.min(max, Math.max(min, value));\n};\n\nvar ZoomableImage = (_temp2 = _class = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_inherits___default()(ZoomableImage, _React$PureComponent);\n\n  function ZoomableImage() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, ZoomableImage);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.state = {\n      scale: MIN_SCALE\n    }, _this.removers = [], _this.container = null, _this.image = null, _this.lastTouchEndTime = 0, _this.lastDistance = 0, _this.handleTouchStart = function (e) {\n      if (e.touches.length !== 2) return;\n\n      _this.lastDistance = getDistance.apply(undefined, e.touches);\n    }, _this.handleTouchMove = function (e) {\n      var _this$container = _this.container,\n          scrollTop = _this$container.scrollTop,\n          scrollHeight = _this$container.scrollHeight,\n          clientHeight = _this$container.clientHeight;\n\n      if (e.touches.length === 1 && scrollTop !== scrollHeight - clientHeight) {\n        // prevent propagating event to MediaModal\n        e.stopPropagation();\n        return;\n      }\n      if (e.touches.length !== 2) return;\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      var distance = getDistance.apply(undefined, e.touches);\n      var midpoint = getMidpoint.apply(undefined, e.touches);\n      var scale = clamp(MIN_SCALE, MAX_SCALE, _this.state.scale * distance / _this.lastDistance);\n\n      _this.zoom(scale, midpoint);\n\n      _this.lastMidpoint = midpoint;\n      _this.lastDistance = distance;\n    }, _this.handleClick = function (e) {\n      // don't propagate event to MediaModal\n      e.stopPropagation();\n      var handler = _this.props.onClick;\n      if (handler) handler();\n    }, _this.setContainerRef = function (c) {\n      _this.container = c;\n    }, _this.setImageRef = function (c) {\n      _this.image = c;\n    }, _temp), __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  ZoomableImage.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    var handler = this.handleTouchStart;\n    this.container.addEventListener('touchstart', handler);\n    this.removers.push(function () {\n      return _this2.container.removeEventListener('touchstart', handler);\n    });\n    handler = this.handleTouchMove;\n    // on Chrome 56+, touch event listeners will default to passive\n    // https://www.chromestatus.com/features/5093566007214080\n    this.container.addEventListener('touchmove', handler, { passive: false });\n    this.removers.push(function () {\n      return _this2.container.removeEventListener('touchend', handler);\n    });\n  };\n\n  ZoomableImage.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.removeEventListeners();\n  };\n\n  ZoomableImage.prototype.removeEventListeners = function removeEventListeners() {\n    this.removers.forEach(function (listeners) {\n      return listeners();\n    });\n    this.removers = [];\n  };\n\n  ZoomableImage.prototype.zoom = function zoom(nextScale, midpoint) {\n    var _this3 = this;\n\n    var scale = this.state.scale;\n    var _container = this.container,\n        scrollLeft = _container.scrollLeft,\n        scrollTop = _container.scrollTop;\n\n    // math memo:\n    // x = (scrollLeft + midpoint.x) / scrollWidth\n    // x' = (nextScrollLeft + midpoint.x) / nextScrollWidth\n    // scrollWidth = clientWidth * scale\n    // scrollWidth' = clientWidth * nextScale\n    // Solve x = x' for nextScrollLeft\n\n    var nextScrollLeft = (scrollLeft + midpoint.x) * nextScale / scale - midpoint.x;\n    var nextScrollTop = (scrollTop + midpoint.y) * nextScale / scale - midpoint.y;\n\n    this.setState({ scale: nextScale }, function () {\n      _this3.container.scrollLeft = nextScrollLeft;\n      _this3.container.scrollTop = nextScrollTop;\n    });\n  };\n\n  ZoomableImage.prototype.render = function render() {\n    var _props = this.props,\n        alt = _props.alt,\n        src = _props.src;\n    var scale = this.state.scale;\n\n    var overflow = scale === 1 ? 'hidden' : 'scroll';\n\n    return __WEBPACK_IMPORTED_MODULE_3_react___default.a.createElement(\n      'div',\n      {\n        className: 'zoomable-image',\n        ref: this.setContainerRef,\n        style: { overflow: overflow }\n      },\n      __WEBPACK_IMPORTED_MODULE_3_react___default.a.createElement('img', {\n        role: 'presentation',\n        ref: this.setImageRef,\n        alt: alt,\n        src: src,\n        style: {\n          transform: 'scale(' + scale + ')',\n          transformOrigin: '0 0'\n        },\n        onClick: this.handleClick\n      })\n    );\n  };\n\n  return ZoomableImage;\n}(__WEBPACK_IMPORTED_MODULE_3_react___default.a.PureComponent), _class.defaultProps = {\n  alt: '',\n  width: null,\n  height: null\n}, _temp2);\n\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }return target;\n};\n\nexports['default'] = spring;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { 'default': obj };\n}\n\nvar _presets = __webpack_require__(301);\n\nvar _presets2 = _interopRequireDefault(_presets);\n\nvar defaultConfig = _extends({}, _presets2['default'].noWobble, {\n  precision: 0.01\n});\n\nfunction spring(val, config) {\n  return _extends({}, defaultConfig, config, { val: val });\n}\n\nmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 80:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(45),\n    now = __webpack_require__(282),\n    toNumber = __webpack_require__(283);\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n\n/***/ }),\n\n/***/ 846:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MediaGallery; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_immutable__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_immutable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_immutable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__icon_button__ = __webpack_require__(151);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_intl__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_flavours_glitch_util_is_mobile__ = __webpack_require__(403);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_classnames__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_flavours_glitch_util_initial_state__ = __webpack_require__(53);\n\n\n\n\n\nvar _class, _temp2, _class2, _class3, _temp4;\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(__WEBPACK_IMPORTED_MODULE_7_react_intl__[\"f\" /* defineMessages */])({\n  hidden: {\n    'id': 'status.media_hidden',\n    'defaultMessage': 'Media hidden'\n  },\n  sensitive: {\n    'id': 'media_gallery.sensitive',\n    'defaultMessage': 'Sensitive'\n  },\n  toggle: {\n    'id': 'status.sensitive_toggle',\n    'defaultMessage': 'Click to view'\n  },\n  toggle_visible: {\n    'id': 'media_gallery.toggle_visible',\n    'defaultMessage': 'Toggle visibility'\n  },\n  warning: {\n    'id': 'status.sensitive_warning',\n    'defaultMessage': 'Sensitive content'\n  }\n});\n\nvar Item = (_temp2 = _class = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(Item, _React$PureComponent);\n\n  function Item() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Item);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.handleMouseEnter = function (e) {\n      if (_this.hoverToPlay()) {\n        e.target.play();\n      }\n    }, _this.handleMouseLeave = function (e) {\n      if (_this.hoverToPlay()) {\n        e.target.pause();\n        e.target.currentTime = 0;\n      }\n    }, _this.handleClick = function (e) {\n      var _this$props = _this.props,\n          index = _this$props.index,\n          onClick = _this$props.onClick;\n\n\n      if (e.button === 0) {\n        e.preventDefault();\n        onClick(index);\n      }\n\n      e.stopPropagation();\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  Item.prototype.hoverToPlay = function hoverToPlay() {\n    var attachment = this.props.attachment;\n\n    return !__WEBPACK_IMPORTED_MODULE_10_flavours_glitch_util_initial_state__[\"a\" /* autoPlayGif */] && attachment.get('type') === 'gifv';\n  };\n\n  Item.prototype.render = function render() {\n    var _props = this.props,\n        attachment = _props.attachment,\n        index = _props.index,\n        size = _props.size,\n        standalone = _props.standalone,\n        letterbox = _props.letterbox,\n        displayWidth = _props.displayWidth;\n\n\n    var width = 50;\n    var height = 100;\n    var top = 'auto';\n    var left = 'auto';\n    var bottom = 'auto';\n    var right = 'auto';\n\n    if (size === 1) {\n      width = 100;\n    }\n\n    if (size === 4 || size === 3 && index > 0) {\n      height = 50;\n    }\n\n    if (size === 2) {\n      if (index === 0) {\n        right = '2px';\n      } else {\n        left = '2px';\n      }\n    } else if (size === 3) {\n      if (index === 0) {\n        right = '2px';\n      } else if (index > 0) {\n        left = '2px';\n      }\n\n      if (index === 1) {\n        bottom = '2px';\n      } else if (index > 1) {\n        top = '2px';\n      }\n    } else if (size === 4) {\n      if (index === 0 || index === 2) {\n        right = '2px';\n      }\n\n      if (index === 1 || index === 3) {\n        left = '2px';\n      }\n\n      if (index < 2) {\n        bottom = '2px';\n      } else {\n        top = '2px';\n      }\n    }\n\n    var thumbnail = '';\n\n    if (attachment.get('type') === 'image') {\n      var previewUrl = attachment.get('preview_url');\n      var previewWidth = attachment.getIn(['meta', 'small', 'width']);\n\n      var originalUrl = attachment.get('url');\n      var originalWidth = attachment.getIn(['meta', 'original', 'width']);\n\n      var hasSize = typeof originalWidth === 'number' && typeof previewWidth === 'number';\n\n      var srcSet = hasSize ? originalUrl + ' ' + originalWidth + 'w, ' + previewUrl + ' ' + previewWidth + 'w' : null;\n      var sizes = hasSize ? displayWidth * (width / 100) + 'px' : null;\n\n      var focusX = attachment.getIn(['meta', 'focus', 'x']) || 0;\n      var focusY = attachment.getIn(['meta', 'focus', 'y']) || 0;\n      var x = (focusX / 2 + .5) * 100;\n      var y = (focusY / -2 + .5) * 100;\n\n      thumbnail = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('a', {\n        className: 'media-gallery__item-thumbnail',\n        href: attachment.get('remote_url') || originalUrl,\n        onClick: this.handleClick,\n        target: '_blank'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('img', {\n        className: letterbox ? 'letterbox' : null,\n        src: previewUrl,\n        srcSet: srcSet,\n        sizes: sizes,\n        alt: attachment.get('description'),\n        title: attachment.get('description'),\n        style: { objectPosition: x + '% ' + y + '%' }\n      }));\n    } else if (attachment.get('type') === 'gifv') {\n      var autoPlay = !Object(__WEBPACK_IMPORTED_MODULE_8_flavours_glitch_util_is_mobile__[\"a\" /* isIOS */])() && __WEBPACK_IMPORTED_MODULE_10_flavours_glitch_util_initial_state__[\"a\" /* autoPlayGif */];\n\n      thumbnail = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: __WEBPACK_IMPORTED_MODULE_9_classnames___default()('media-gallery__gifv', { autoplay: autoPlay })\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('video', {\n        className: 'media-gallery__item-gifv-thumbnail' + (letterbox ? ' letterbox' : ''),\n        'aria-label': attachment.get('description'),\n        role: 'application',\n        src: attachment.get('url'),\n        onClick: this.handleClick,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        autoPlay: autoPlay,\n        loop: true,\n        muted: true\n      }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'media-gallery__gifv__label'\n      }, void 0, 'GIF'));\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: __WEBPACK_IMPORTED_MODULE_9_classnames___default()('media-gallery__item', { standalone: standalone }),\n      style: { left: left, top: top, right: right, bottom: bottom, width: width + '%', height: height + '%' }\n    }, attachment.get('id'), thumbnail);\n  };\n\n  return Item;\n}(__WEBPACK_IMPORTED_MODULE_4_react___default.a.PureComponent), _class.defaultProps = {\n  standalone: false,\n  index: 0,\n  size: 1\n}, _temp2);\n\nvar MediaGallery = Object(__WEBPACK_IMPORTED_MODULE_7_react_intl__[\"g\" /* injectIntl */])(_class2 = (_temp4 = _class3 = function (_React$PureComponent2) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(MediaGallery, _React$PureComponent2);\n\n  function MediaGallery() {\n    var _temp3, _this2, _ret2;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, MediaGallery);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp3 = (_this2 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent2.call.apply(_React$PureComponent2, [this].concat(args))), _this2), _this2.state = {\n      visible: _this2.props.revealed === undefined ? !_this2.props.sensitive || __WEBPACK_IMPORTED_MODULE_10_flavours_glitch_util_initial_state__[\"e\" /* displaySensitiveMedia */] : _this2.props.revealed\n    }, _this2.handleOpen = function () {\n      _this2.setState({ visible: !_this2.state.visible });\n    }, _this2.handleClick = function (index) {\n      _this2.props.onOpenMedia(_this2.props.media, index);\n    }, _this2.handleRef = function (node) {\n      if (node /*&& this.isStandaloneEligible()*/) {\n          // offsetWidth triggers a layout, so only calculate when we need to\n          _this2.setState({\n            width: node.offsetWidth\n          });\n        }\n    }, _temp3), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this2, _ret2);\n  }\n\n  MediaGallery.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (!Object(__WEBPACK_IMPORTED_MODULE_5_immutable__[\"is\"])(nextProps.media, this.props.media)) {\n      this.setState({ visible: !nextProps.sensitive });\n    }\n  };\n\n  MediaGallery.prototype.isStandaloneEligible = function isStandaloneEligible() {\n    var _props2 = this.props,\n        media = _props2.media,\n        standalone = _props2.standalone;\n\n    return standalone && media.size === 1 && media.getIn([0, 'meta', 'small', 'aspect']);\n  };\n\n  MediaGallery.prototype.render = function render() {\n    var _this3 = this;\n\n    var _props3 = this.props,\n        media = _props3.media,\n        intl = _props3.intl,\n        sensitive = _props3.sensitive,\n        letterbox = _props3.letterbox,\n        fullwidth = _props3.fullwidth;\n    var _state = this.state,\n        width = _state.width,\n        visible = _state.visible;\n\n    var size = media.take(4).size;\n\n    var children = void 0;\n\n    var style = {};\n\n    if (this.isStandaloneEligible() && width) {\n      style.height = width / this.props.media.getIn([0, 'meta', 'small', 'aspect']);\n    }\n\n    if (!visible) {\n      var warning = __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_react_intl__[\"b\" /* FormattedMessage */], sensitive ? messages.warning : messages.hidden);\n\n      children = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('button', {\n        className: 'media-spoiler',\n        type: 'button',\n        onClick: this.handleOpen\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'media-spoiler__warning'\n      }, void 0, warning), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'media-spoiler__trigger'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_react_intl__[\"b\" /* FormattedMessage */], messages.toggle)));\n    } else {\n      if (this.isStandaloneEligible()) {\n        children = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(Item, {\n          standalone: true,\n          attachment: media.get(0),\n          onClick: this.handleClick,\n          displayWidth: width\n        });\n      } else {\n        children = media.take(4).map(function (attachment, i) {\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(Item, {\n            onClick: _this3.handleClick,\n            attachment: attachment,\n            index: i,\n            size: size,\n            letterbox: letterbox,\n            displayWidth: width\n          }, attachment.get('id'));\n        });\n      }\n    }\n\n    var computedClass = __WEBPACK_IMPORTED_MODULE_9_classnames___default()('media-gallery', 'size-' + size, { 'full-width': fullwidth });\n\n    return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n      'div',\n      { className: computedClass, style: style, ref: this.handleRef },\n      visible ? __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: 'sensitive-info'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_6__icon_button__[\"a\" /* default */], {\n        icon: 'eye',\n        onClick: this.handleOpen,\n        overlay: true,\n        title: intl.formatMessage(messages.toggle_visible)\n      }), sensitive ? __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'sensitive-marker'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7_react_intl__[\"b\" /* FormattedMessage */], messages.sensitive)) : null) : null,\n      children\n    );\n  };\n\n  return MediaGallery;\n}(__WEBPACK_IMPORTED_MODULE_4_react___default.a.PureComponent), _class3.defaultProps = {\n  standalone: false\n}, _temp4)) || _class2;\n\n\n\n/***/ }),\n\n/***/ 847:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MediaGallery; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_immutable__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_immutable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_immutable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__icon_button__ = __webpack_require__(153);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_intl__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__is_mobile__ = __webpack_require__(404);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_classnames__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__initial_state__ = __webpack_require__(43);\n\n\n\n\n\nvar _class, _temp2, _class2, _class3, _temp4;\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(__WEBPACK_IMPORTED_MODULE_7_react_intl__[\"f\" /* defineMessages */])({\n  toggle_visible: {\n    'id': 'media_gallery.toggle_visible',\n    'defaultMessage': 'Toggle visibility'\n  }\n});\n\nvar Item = (_temp2 = _class = function (_React$PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(Item, _React$PureComponent);\n\n  function Item() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Item);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.handleMouseEnter = function (e) {\n      if (_this.hoverToPlay()) {\n        e.target.play();\n      }\n    }, _this.handleMouseLeave = function (e) {\n      if (_this.hoverToPlay()) {\n        e.target.pause();\n        e.target.currentTime = 0;\n      }\n    }, _this.handleClick = function (e) {\n      var _this$props = _this.props,\n          index = _this$props.index,\n          onClick = _this$props.onClick;\n\n\n      if (e.button === 0) {\n        e.preventDefault();\n        onClick(index);\n      }\n\n      e.stopPropagation();\n    }, _temp), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  Item.prototype.hoverToPlay = function hoverToPlay() {\n    var attachment = this.props.attachment;\n\n    return !__WEBPACK_IMPORTED_MODULE_10__initial_state__[\"a\" /* autoPlayGif */] && attachment.get('type') === 'gifv';\n  };\n\n  Item.prototype.render = function render() {\n    var _props = this.props,\n        attachment = _props.attachment,\n        index = _props.index,\n        size = _props.size,\n        standalone = _props.standalone,\n        displayWidth = _props.displayWidth;\n\n\n    var width = 50;\n    var height = 100;\n    var top = 'auto';\n    var left = 'auto';\n    var bottom = 'auto';\n    var right = 'auto';\n\n    if (size === 1) {\n      width = 100;\n    }\n\n    if (size === 4 || size === 3 && index > 0) {\n      height = 50;\n    }\n\n    if (size === 2) {\n      if (index === 0) {\n        right = '2px';\n      } else {\n        left = '2px';\n      }\n    } else if (size === 3) {\n      if (index === 0) {\n        right = '2px';\n      } else if (index > 0) {\n        left = '2px';\n      }\n\n      if (index === 1) {\n        bottom = '2px';\n      } else if (index > 1) {\n        top = '2px';\n      }\n    } else if (size === 4) {\n      if (index === 0 || index === 2) {\n        right = '2px';\n      }\n\n      if (index === 1 || index === 3) {\n        left = '2px';\n      }\n\n      if (index < 2) {\n        bottom = '2px';\n      } else {\n        top = '2px';\n      }\n    }\n\n    var thumbnail = '';\n\n    if (attachment.get('type') === 'image') {\n      var previewUrl = attachment.get('preview_url');\n      var previewWidth = attachment.getIn(['meta', 'small', 'width']);\n\n      var originalUrl = attachment.get('url');\n      var originalWidth = attachment.getIn(['meta', 'original', 'width']);\n\n      var hasSize = typeof originalWidth === 'number' && typeof previewWidth === 'number';\n\n      var srcSet = hasSize ? originalUrl + ' ' + originalWidth + 'w, ' + previewUrl + ' ' + previewWidth + 'w' : null;\n      var sizes = hasSize ? displayWidth * (width / 100) + 'px' : null;\n\n      var focusX = attachment.getIn(['meta', 'focus', 'x']) || 0;\n      var focusY = attachment.getIn(['meta', 'focus', 'y']) || 0;\n      var x = (focusX / 2 + .5) * 100;\n      var y = (focusY / -2 + .5) * 100;\n\n      thumbnail = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('a', {\n        className: 'media-gallery__item-thumbnail',\n        href: attachment.get('remote_url') || originalUrl,\n        onClick: this.handleClick,\n        target: '_blank'\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('img', {\n        src: previewUrl,\n        srcSet: srcSet,\n        sizes: sizes,\n        alt: attachment.get('description'),\n        title: attachment.get('description'),\n        style: { objectPosition: x + '% ' + y + '%' }\n      }));\n    } else if (attachment.get('type') === 'gifv') {\n      var autoPlay = !Object(__WEBPACK_IMPORTED_MODULE_8__is_mobile__[\"a\" /* isIOS */])() && __WEBPACK_IMPORTED_MODULE_10__initial_state__[\"a\" /* autoPlayGif */];\n\n      thumbnail = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: __WEBPACK_IMPORTED_MODULE_9_classnames___default()('media-gallery__gifv', { autoplay: autoPlay })\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('video', {\n        className: 'media-gallery__item-gifv-thumbnail',\n        'aria-label': attachment.get('description'),\n        role: 'application',\n        src: attachment.get('url'),\n        onClick: this.handleClick,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        autoPlay: autoPlay,\n        loop: true,\n        muted: true\n      }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n        className: 'media-gallery__gifv__label'\n      }, void 0, 'GIF'));\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n      className: __WEBPACK_IMPORTED_MODULE_9_classnames___default()('media-gallery__item', { standalone: standalone }),\n      style: { left: left, top: top, right: right, bottom: bottom, width: width + '%', height: height + '%' }\n    }, attachment.get('id'), thumbnail);\n  };\n\n  return Item;\n}(__WEBPACK_IMPORTED_MODULE_4_react___default.a.PureComponent), _class.defaultProps = {\n  standalone: false,\n  index: 0,\n  size: 1\n}, _temp2);\n\nvar MediaGallery = Object(__WEBPACK_IMPORTED_MODULE_7_react_intl__[\"g\" /* injectIntl */])(_class2 = (_temp4 = _class3 = function (_React$PureComponent2) {\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_inherits___default()(MediaGallery, _React$PureComponent2);\n\n  function MediaGallery() {\n    var _temp3, _this2, _ret2;\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, MediaGallery);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp3 = (_this2 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(this, _React$PureComponent2.call.apply(_React$PureComponent2, [this].concat(args))), _this2), _this2.state = {\n      visible: !_this2.props.sensitive || __WEBPACK_IMPORTED_MODULE_10__initial_state__[\"f\" /* displaySensitiveMedia */]\n    }, _this2.handleOpen = function () {\n      _this2.setState({ visible: !_this2.state.visible });\n    }, _this2.handleClick = function (index) {\n      _this2.props.onOpenMedia(_this2.props.media, index);\n    }, _this2.handleRef = function (node) {\n      if (node /*&& this.isStandaloneEligible()*/) {\n          // offsetWidth triggers a layout, so only calculate when we need to\n          _this2.setState({\n            width: node.offsetWidth\n          });\n        }\n    }, _temp3), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_possibleConstructorReturn___default()(_this2, _ret2);\n  }\n\n  MediaGallery.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (!Object(__WEBPACK_IMPORTED_MODULE_5_immutable__[\"is\"])(nextProps.media, this.props.media)) {\n      this.setState({ visible: !nextProps.sensitive });\n    }\n  };\n\n  MediaGallery.prototype.isStandaloneEligible = function isStandaloneEligible() {\n    var _props2 = this.props,\n        media = _props2.media,\n        standalone = _props2.standalone;\n\n    return standalone && media.size === 1 && media.getIn([0, 'meta', 'small', 'aspect']);\n  };\n\n  MediaGallery.prototype.render = function render() {\n    var _this3 = this;\n\n    var _props3 = this.props,\n        media = _props3.media,\n        intl = _props3.intl,\n        sensitive = _props3.sensitive,\n        height = _props3.height;\n    var _state = this.state,\n        width = _state.width,\n        visible = _state.visible;\n\n\n    var children = void 0;\n\n    var style = {};\n\n    if (this.isStandaloneEligible()) {\n      if (width) {\n        style.height = width / this.props.media.getIn([0, 'meta', 'small', 'aspect']);\n      }\n    } else if (width) {\n      style.height = width / (16 / 9);\n    } else {\n      style.height = height;\n    }\n\n    if (!visible) {\n      var warning = void 0;\n\n      if (sensitive) {\n        warning = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_7_react_intl__[\"b\" /* FormattedMessage */], {\n          id: 'status.sensitive_warning',\n          defaultMessage: 'Sensitive content'\n        });\n      } else {\n        warning = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_7_react_intl__[\"b\" /* FormattedMessage */], {\n          id: 'status.media_hidden',\n          defaultMessage: 'Media hidden'\n        });\n      }\n\n      children = __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n        'button',\n        { type: 'button', className: 'media-spoiler', onClick: this.handleOpen, style: style, ref: this.handleRef },\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n          className: 'media-spoiler__warning'\n        }, void 0, warning),\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('span', {\n          className: 'media-spoiler__trigger'\n        }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_7_react_intl__[\"b\" /* FormattedMessage */], {\n          id: 'status.sensitive_toggle',\n          defaultMessage: 'Click to view'\n        }))\n      );\n    } else {\n      var size = media.take(4).size;\n\n      if (this.isStandaloneEligible()) {\n        children = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(Item, {\n          standalone: true,\n          onClick: this.handleClick,\n          attachment: media.get(0),\n          displayWidth: width\n        });\n      } else {\n        children = media.take(4).map(function (attachment, i) {\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(Item, {\n            onClick: _this3.handleClick,\n            attachment: attachment,\n            index: i,\n            size: size,\n            displayWidth: width\n          }, attachment.get('id'));\n        });\n      }\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_4_react___default.a.createElement(\n      'div',\n      { className: 'media-gallery', style: style, ref: this.handleRef },\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()('div', {\n        className: __WEBPACK_IMPORTED_MODULE_9_classnames___default()('spoiler-button', { 'spoiler-button--visible': visible })\n      }, void 0, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_6__icon_button__[\"a\" /* default */], {\n        title: intl.formatMessage(messages.toggle_visible),\n        icon: visible ? 'eye' : 'eye-slash',\n        overlay: true,\n        onClick: this.handleOpen\n      })),\n      children\n    );\n  };\n\n  return MediaGallery;\n}(__WEBPACK_IMPORTED_MODULE_4_react___default.a.PureComponent), _class3.defaultProps = {\n  standalone: false\n}, _temp4)) || _class2;\n\n\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nexports.default = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\n/***/ }),\n\n/***/ 882:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MediaContainer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_objectWithoutProperties__ = __webpack_require__(87);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_objectWithoutProperties___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_objectWithoutProperties__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_dom__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_react_intl__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_mastodon_locales__ = __webpack_require__(157);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_flavours_glitch_components_media_gallery__ = __webpack_require__(846);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_flavours_glitch_features_video__ = __webpack_require__(488);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_flavours_glitch_features_status_components_card__ = __webpack_require__(1295);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_flavours_glitch_components_modal_root__ = __webpack_require__(742);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_flavours_glitch_features_ui_components_media_modal__ = __webpack_require__(743);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_immutable__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_immutable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_immutable__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _getLocale = Object(__WEBPACK_IMPORTED_MODULE_9_mastodon_locales__[\"getLocale\"])(),\n    localeData = _getLocale.localeData,\n    messages = _getLocale.messages;\n\nObject(__WEBPACK_IMPORTED_MODULE_8_react_intl__[\"e\" /* addLocaleData */])(localeData);\n\nvar MEDIA_COMPONENTS = { MediaGallery: __WEBPACK_IMPORTED_MODULE_10_flavours_glitch_components_media_gallery__[\"default\"], Video: __WEBPACK_IMPORTED_MODULE_11_flavours_glitch_features_video__[\"default\"], Card: __WEBPACK_IMPORTED_MODULE_12_flavours_glitch_features_status_components_card__[\"a\" /* default */] };\n\nvar MediaContainer = function (_PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default()(MediaContainer, _PureComponent);\n\n  function MediaContainer() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default()(this, MediaContainer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default()(this, _PureComponent.call.apply(_PureComponent, [this].concat(args))), _this), _this.state = {\n      media: null,\n      index: null,\n      time: null\n    }, _this.handleOpenMedia = function (media, index) {\n      document.body.classList.add('media-standalone__body');\n      _this.setState({ media: media, index: index });\n    }, _this.handleOpenVideo = function (video, time) {\n      var media = Object(__WEBPACK_IMPORTED_MODULE_15_immutable__[\"List\"])([video]);\n\n      document.body.classList.add('media-standalone__body');\n      _this.setState({ media: media, time: time });\n    }, _this.handleCloseMedia = function () {\n      document.body.classList.remove('media-standalone__body');\n      _this.setState({ media: null, index: null, time: null });\n    }, _temp), __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  MediaContainer.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        locale = _props.locale,\n        components = _props.components;\n\n\n    return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_8_react_intl__[\"d\" /* IntlProvider */], {\n      locale: locale,\n      messages: messages\n    }, void 0, __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_6_react__[\"Fragment\"], {}, void 0, [].map.call(components, function (component, i) {\n      var componentName = component.getAttribute('data-component');\n      var Component = MEDIA_COMPONENTS[componentName];\n\n      var _JSON$parse = JSON.parse(component.getAttribute('data-props')),\n          media = _JSON$parse.media,\n          card = _JSON$parse.card,\n          props = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_objectWithoutProperties___default()(_JSON$parse, ['media', 'card']);\n\n      Object.assign(props, Object.assign({}, media ? { media: Object(__WEBPACK_IMPORTED_MODULE_15_immutable__[\"fromJS\"])(media) } : {}, card ? { card: Object(__WEBPACK_IMPORTED_MODULE_15_immutable__[\"fromJS\"])(card) } : {}, componentName === 'Video' ? {\n        onOpenVideo: _this2.handleOpenVideo\n      } : {\n        onOpenMedia: _this2.handleOpenMedia\n      }));\n\n      return __WEBPACK_IMPORTED_MODULE_7_react_dom___default.a.createPortal(__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(Component, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, props, { key: 'media-' + i })), component);\n    }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_13_flavours_glitch_components_modal_root__[\"a\" /* default */], {\n      onClose: this.handleCloseMedia\n    }, void 0, this.state.media && __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_14_flavours_glitch_features_ui_components_media_modal__[\"a\" /* default */], {\n      media: this.state.media,\n      index: this.state.index || 0,\n      time: this.state.time,\n      onClose: this.handleCloseMedia\n    }))));\n  };\n\n  return MediaContainer;\n}(__WEBPACK_IMPORTED_MODULE_6_react__[\"PureComponent\"]);\n\n\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// adapted from https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\nvar detectPassiveEvents = {\n  update: function update() {\n    if (typeof window !== 'undefined' && typeof window.addEventListener === 'function') {\n      var passive = false;\n      var options = Object.defineProperty({}, 'passive', {\n        get: function get() {\n          passive = true;\n        }\n      });\n      // note: have to set and remove a no-op listener instead of null\n      // (which was used previously), becasue Edge v15 throws an error\n      // when providing a null callback.\n      // https://github.com/rafrex/detect-passive-events/pull/3\n      var noop = function noop() {};\n      window.addEventListener('testPassiveEventSupport', noop, options);\n      window.removeEventListener('testPassiveEventSupport', noop, options);\n      detectPassiveEvents.hasSupport = passive;\n    }\n  }\n};\n\ndetectPassiveEvents.update();\nexports.default = detectPassiveEvents;\n\n/***/ }),\n\n/***/ 914:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MediaContainer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_objectWithoutProperties__ = __webpack_require__(87);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_objectWithoutProperties___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_objectWithoutProperties__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_dom__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_react_intl__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__locales__ = __webpack_require__(157);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_media_gallery__ = __webpack_require__(847);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__features_video__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__features_status_components_card__ = __webpack_require__(1303);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__components_modal_root__ = __webpack_require__(605);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__features_ui_components_media_modal__ = __webpack_require__(606);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_immutable__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_immutable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_immutable__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _getLocale = Object(__WEBPACK_IMPORTED_MODULE_9__locales__[\"getLocale\"])(),\n    localeData = _getLocale.localeData,\n    messages = _getLocale.messages;\n\nObject(__WEBPACK_IMPORTED_MODULE_8_react_intl__[\"e\" /* addLocaleData */])(localeData);\n\nvar MEDIA_COMPONENTS = { MediaGallery: __WEBPACK_IMPORTED_MODULE_10__components_media_gallery__[\"default\"], Video: __WEBPACK_IMPORTED_MODULE_11__features_video__[\"default\"], Card: __WEBPACK_IMPORTED_MODULE_12__features_status_components_card__[\"a\" /* default */] };\n\nvar MediaContainer = function (_PureComponent) {\n  __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default()(MediaContainer, _PureComponent);\n\n  function MediaContainer() {\n    var _temp, _this, _ret;\n\n    __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default()(this, MediaContainer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default()(this, _PureComponent.call.apply(_PureComponent, [this].concat(args))), _this), _this.state = {\n      media: null,\n      index: null,\n      time: null\n    }, _this.handleOpenMedia = function (media, index) {\n      document.body.classList.add('media-standalone__body');\n      _this.setState({ media: media, index: index });\n    }, _this.handleOpenVideo = function (video, time) {\n      var media = Object(__WEBPACK_IMPORTED_MODULE_15_immutable__[\"List\"])([video]);\n\n      document.body.classList.add('media-standalone__body');\n      _this.setState({ media: media, time: time });\n    }, _this.handleCloseMedia = function () {\n      document.body.classList.remove('media-standalone__body');\n      _this.setState({ media: null, index: null, time: null });\n    }, _temp), __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default()(_this, _ret);\n  }\n\n  MediaContainer.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        locale = _props.locale,\n        components = _props.components;\n\n\n    return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_8_react_intl__[\"d\" /* IntlProvider */], {\n      locale: locale,\n      messages: messages\n    }, void 0, __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_6_react__[\"Fragment\"], {}, void 0, [].map.call(components, function (component, i) {\n      var componentName = component.getAttribute('data-component');\n      var Component = MEDIA_COMPONENTS[componentName];\n\n      var _JSON$parse = JSON.parse(component.getAttribute('data-props')),\n          media = _JSON$parse.media,\n          card = _JSON$parse.card,\n          props = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_objectWithoutProperties___default()(_JSON$parse, ['media', 'card']);\n\n      Object.assign(props, Object.assign({}, media ? { media: Object(__WEBPACK_IMPORTED_MODULE_15_immutable__[\"fromJS\"])(media) } : {}, card ? { card: Object(__WEBPACK_IMPORTED_MODULE_15_immutable__[\"fromJS\"])(card) } : {}, componentName === 'Video' ? {\n        onOpenVideo: _this2.handleOpenVideo\n      } : {\n        onOpenMedia: _this2.handleOpenMedia\n      }));\n\n      return __WEBPACK_IMPORTED_MODULE_7_react_dom___default.a.createPortal(__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(Component, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, props, { key: 'media-' + i })), component);\n    }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_13__components_modal_root__[\"a\" /* default */], {\n      onClose: this.handleCloseMedia\n    }, void 0, this.state.media && __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_jsx___default()(__WEBPACK_IMPORTED_MODULE_14__features_ui_components_media_modal__[\"a\" /* default */], {\n      media: this.state.media,\n      index: this.state.index || 0,\n      time: this.state.time,\n      onClose: this.handleCloseMedia\n    }))));\n  };\n\n  return MediaContainer;\n}(__WEBPACK_IMPORTED_MODULE_6_react__[\"PureComponent\"]);\n\n\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar root = __webpack_require__(29);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, exports) {\n\nmodule.exports = {};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// containers/media_container.js","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/classnames/index.js","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/node-libs-browser/node_modules/punycode/punycode.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Immutable from 'immutable';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport punycode from 'punycode';\nimport classnames from 'classnames';\n\nconst IDNA_PREFIX = 'xn--';\n\nconst decodeIDNA = domain => {\n  return domain\n    .split('.')\n    .map(part => part.indexOf(IDNA_PREFIX) === 0 ? punycode.decode(part.slice(IDNA_PREFIX.length)) : part)\n    .join('.');\n};\n\nconst getHostname = url => {\n  const parser = document.createElement('a');\n  parser.href = url;\n  return parser.hostname;\n};\n\nexport default class Card extends React.PureComponent {\n\n  static propTypes = {\n    card: ImmutablePropTypes.map,\n    maxDescription: PropTypes.number,\n    onOpenMedia: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    maxDescription: 50,\n  };\n\n  state = {\n    width: 0,\n  };\n\n  handlePhotoClick = () => {\n    const { card, onOpenMedia } = this.props;\n\n    onOpenMedia(\n      Immutable.fromJS([\n        {\n          type: 'image',\n          url: card.get('url'),\n          description: card.get('title'),\n          meta: {\n            original: {\n              width: card.get('width'),\n              height: card.get('height'),\n            },\n          },\n        },\n      ]),\n      0\n    );\n  };\n\n  renderLink () {\n    const { card, maxDescription } = this.props;\n\n    let image    = '';\n    let provider = card.get('provider_name');\n\n    if (card.get('image')) {\n      image = (\n        <div className='status-card__image'>\n          <img src={card.get('image')} alt={card.get('title')} className='status-card__image-image' width={card.get('width')} height={card.get('height')} />\n        </div>\n      );\n    }\n\n    if (provider.length < 1) {\n      provider = decodeIDNA(getHostname(card.get('url')));\n    }\n\n    const className = classnames('status-card', {\n      'horizontal': card.get('width') > card.get('height'),\n    });\n\n    return (\n      <a href={card.get('url')} className={className} target='_blank' rel='noopener'>\n        {image}\n\n        <div className='status-card__content'>\n          <strong className='status-card__title' title={card.get('title')}>{card.get('title')}</strong>\n          <p className='status-card__description'>{(card.get('description') || '').substring(0, maxDescription)}</p>\n          <span className='status-card__host'>{provider}</span>\n        </div>\n      </a>\n    );\n  }\n\n  renderPhoto () {\n    const { card } = this.props;\n\n    return (\n      <img\n        className='status-card-photo'\n        onClick={this.handlePhotoClick}\n        role='button'\n        tabIndex='0'\n        src={card.get('url')}\n        alt={card.get('title')}\n        width={card.get('width')}\n        height={card.get('height')}\n      />\n    );\n  }\n\n  setRef = c => {\n    if (c) {\n      this.setState({ width: c.offsetWidth });\n    }\n  }\n\n  renderVideo () {\n    const { card }  = this.props;\n    const content   = { __html: card.get('html') };\n    const { width } = this.state;\n    const ratio     = card.get('width') / card.get('height');\n    const height    = card.get('width') > card.get('height') ? (width / ratio) : (width * ratio);\n\n    return (\n      <div\n        ref={this.setRef}\n        className='status-card-video'\n        dangerouslySetInnerHTML={content}\n        style={{ height }}\n      />\n    );\n  }\n\n  render () {\n    const { card } = this.props;\n\n    if (card === null) {\n      return null;\n    }\n\n    switch(card.get('type')) {\n    case 'link':\n      return this.renderLink();\n    case 'photo':\n      return this.renderPhoto();\n    case 'video':\n      return this.renderVideo();\n    case 'rich':\n    default:\n      return null;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/features/status/components/card.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Immutable from 'immutable';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport punycode from 'punycode';\nimport classnames from 'classnames';\n\nconst IDNA_PREFIX = 'xn--';\n\nconst decodeIDNA = domain => {\n  return domain\n    .split('.')\n    .map(part => part.indexOf(IDNA_PREFIX) === 0 ? punycode.decode(part.slice(IDNA_PREFIX.length)) : part)\n    .join('.');\n};\n\nconst getHostname = url => {\n  const parser = document.createElement('a');\n  parser.href = url;\n  return parser.hostname;\n};\n\nconst trim = (text, len) => {\n  const cut = text.indexOf(' ', len);\n\n  if (cut === -1) {\n    return text;\n  }\n\n  return text.substring(0, cut) + (text.length > len ? '…' : '');\n};\n\nconst domParser = new DOMParser();\n\nconst addAutoPlay = html => {\n  const document = domParser.parseFromString(html, 'text/html').documentElement;\n  const iframe = document.querySelector('iframe');\n\n  if (iframe) {\n    if (iframe.src.indexOf('?') !== -1) {\n      iframe.src += '&';\n    } else {\n      iframe.src += '?';\n    }\n\n    iframe.src += 'autoplay=1&auto_play=1';\n\n    // DOM parser creates html/body elements around original HTML fragment,\n    // so we need to get innerHTML out of the body and not the entire document\n    return document.querySelector('body').innerHTML;\n  }\n\n  return html;\n};\n\nexport default class Card extends React.PureComponent {\n\n  static propTypes = {\n    card: ImmutablePropTypes.map,\n    maxDescription: PropTypes.number,\n    onOpenMedia: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    maxDescription: 50,\n  };\n\n  state = {\n    width: 280,\n    embedded: false,\n  };\n\n  componentWillReceiveProps (nextProps) {\n    if (this.props.card !== nextProps.card) {\n      this.setState({ embedded: false });\n    }\n  }\n\n  handlePhotoClick = () => {\n    const { card, onOpenMedia } = this.props;\n\n    onOpenMedia(\n      Immutable.fromJS([\n        {\n          type: 'image',\n          url: card.get('embed_url'),\n          description: card.get('title'),\n          meta: {\n            original: {\n              width: card.get('width'),\n              height: card.get('height'),\n            },\n          },\n        },\n      ]),\n      0\n    );\n  };\n\n  handleEmbedClick = () => {\n    const { card } = this.props;\n\n    if (card.get('type') === 'photo') {\n      this.handlePhotoClick();\n    } else {\n      this.setState({ embedded: true });\n    }\n  }\n\n  setRef = c => {\n    if (c) {\n      this.setState({ width: c.offsetWidth });\n    }\n  }\n\n  renderVideo () {\n    const { card }  = this.props;\n    const content   = { __html: addAutoPlay(card.get('html')) };\n    const { width } = this.state;\n    const ratio     = card.get('width') / card.get('height');\n    const height    = card.get('width') > card.get('height') ? (width / ratio) : (width * ratio);\n\n    return (\n      <div\n        ref={this.setRef}\n        className='status-card__image status-card-video'\n        dangerouslySetInnerHTML={content}\n        style={{ height }}\n      />\n    );\n  }\n\n  render () {\n    const { card, maxDescription } = this.props;\n    const { width, embedded }      = this.state;\n\n    if (card === null) {\n      return null;\n    }\n\n    const provider    = card.get('provider_name').length === 0 ? decodeIDNA(getHostname(card.get('url'))) : card.get('provider_name');\n    const horizontal  = card.get('width') > card.get('height') && (card.get('width') + 100 >= width) || card.get('type') !== 'link';\n    const className   = classnames('status-card', { horizontal });\n    const interactive = card.get('type') !== 'link';\n    const title       = interactive ? <a className='status-card__title' href={card.get('url')} title={card.get('title')} rel='noopener' target='_blank'><strong>{card.get('title')}</strong></a> : <strong className='status-card__title' title={card.get('title')}>{card.get('title')}</strong>;\n    const ratio       = card.get('width') / card.get('height');\n    const height      = card.get('width') > card.get('height') ? (width / ratio) : (width * ratio);\n\n    const description = (\n      <div className='status-card__content'>\n        {title}\n        {!horizontal && <p className='status-card__description'>{trim(card.get('description') || '', maxDescription)}</p>}\n        <span className='status-card__host'>{provider}</span>\n      </div>\n    );\n\n    let embed     = '';\n    let thumbnail = <div style={{ backgroundImage: `url(${card.get('image')})`, width: horizontal ? width : null, height: horizontal ? height : null }} className='status-card__image-image' />;\n\n    if (interactive) {\n      if (embedded) {\n        embed = this.renderVideo();\n      } else {\n        let iconVariant = 'play';\n\n        if (card.get('type') === 'photo') {\n          iconVariant = 'search-plus';\n        }\n\n        embed = (\n          <div className='status-card__image'>\n            {thumbnail}\n\n            <div className='status-card__actions'>\n              <div>\n                <button onClick={this.handleEmbedClick}><i className={`fa fa-${iconVariant}`} /></button>\n                <a href={card.get('url')} target='_blank' rel='noopener'><i className='fa fa-external-link' /></a>\n              </div>\n            </div>\n          </div>\n        );\n      }\n\n      return (\n        <div className={className} ref={this.setRef}>\n          {embed}\n          {description}\n        </div>\n      );\n    } else if (card.get('image')) {\n      embed = (\n        <div className='status-card__image'>\n          {thumbnail}\n        </div>\n      );\n    }\n\n    return (\n      <a href={card.get('url')} className={className} target='_blank' rel='noopener' ref={this.setRef}>\n        {embed}\n        {description}\n      </a>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/status/components/card.js","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/_to-object.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","import React from 'react';\nimport Motion from 'flavours/glitch/util/optional_motion';\nimport spring from 'react-motion/lib/spring';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport default class IconButton extends React.PureComponent {\n\n  static propTypes = {\n    className: PropTypes.string,\n    title: PropTypes.string.isRequired,\n    icon: PropTypes.string.isRequired,\n    onClick: PropTypes.func,\n    size: PropTypes.number,\n    active: PropTypes.bool,\n    pressed: PropTypes.bool,\n    expanded: PropTypes.bool,\n    style: PropTypes.object,\n    activeStyle: PropTypes.object,\n    disabled: PropTypes.bool,\n    inverted: PropTypes.bool,\n    animate: PropTypes.bool,\n    flip: PropTypes.bool,\n    overlay: PropTypes.bool,\n    tabIndex: PropTypes.string,\n    label: PropTypes.string,\n  };\n\n  static defaultProps = {\n    size: 18,\n    active: false,\n    disabled: false,\n    animate: false,\n    overlay: false,\n    tabIndex: '0',\n  };\n\n  handleClick = (e) =>  {\n    e.preventDefault();\n\n    if (!this.props.disabled) {\n      this.props.onClick(e);\n    }\n  }\n\n  render () {\n    let style = {\n      fontSize: `${this.props.size}px`,\n      height: `${this.props.size * 1.28571429}px`,\n      lineHeight: `${this.props.size}px`,\n      ...this.props.style,\n      ...(this.props.active ? this.props.activeStyle : {}),\n    };\n    if (!this.props.label) {\n      style.width = `${this.props.size * 1.28571429}px`;\n    } else {\n      style.textAlign = 'left';\n    }\n\n    const {\n      active,\n      animate,\n      className,\n      disabled,\n      expanded,\n      icon,\n      inverted,\n      flip,\n      overlay,\n      pressed,\n      tabIndex,\n      title,\n    } = this.props;\n\n    const classes = classNames(className, 'icon-button', {\n      active,\n      disabled,\n      inverted,\n      overlayed: overlay,\n    });\n\n    const flipDeg = flip ? -180 : -360;\n    const rotateDeg = active ? flipDeg : 0;\n\n    const motionDefaultStyle = {\n      rotate: rotateDeg,\n    };\n\n    const springOpts = {\n      stiffness: this.props.flip ? 60 : 120,\n      damping: 7,\n    };\n    const motionStyle = {\n      rotate: animate ? spring(rotateDeg, springOpts) : 0,\n    };\n\n    if (!animate) {\n      // Perf optimization: avoid unnecessary <Motion> components unless\n      // we actually need to animate.\n      return (\n        <button\n          aria-label={title}\n          aria-pressed={pressed}\n          aria-expanded={expanded}\n          title={title}\n          className={classes}\n          onClick={this.handleClick}\n          style={style}\n          tabIndex={tabIndex}\n        >\n          <i className={`fa fa-fw fa-${icon}`} aria-hidden='true' />\n        </button>\n      );\n    }\n\n    return (\n      <Motion defaultStyle={motionDefaultStyle} style={motionStyle}>\n        {({ rotate }) =>\n          (<button\n            aria-label={title}\n            aria-pressed={pressed}\n            aria-expanded={expanded}\n            title={title}\n            className={classes}\n            onClick={this.handleClick}\n            style={style}\n            tabIndex={tabIndex}\n          >\n            <i style={{ transform: `rotate(${rotate}deg)` }} className={`fa fa-fw fa-${icon}`} aria-hidden='true' />\n            {this.props.label}\n          </button>)\n        }\n      </Motion>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/components/icon_button.js","import React from 'react';\nimport Motion from '../features/ui/util/optional_motion';\nimport spring from 'react-motion/lib/spring';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport default class IconButton extends React.PureComponent {\n\n  static propTypes = {\n    className: PropTypes.string,\n    title: PropTypes.string.isRequired,\n    icon: PropTypes.string.isRequired,\n    onClick: PropTypes.func,\n    size: PropTypes.number,\n    active: PropTypes.bool,\n    pressed: PropTypes.bool,\n    expanded: PropTypes.bool,\n    style: PropTypes.object,\n    activeStyle: PropTypes.object,\n    disabled: PropTypes.bool,\n    inverted: PropTypes.bool,\n    animate: PropTypes.bool,\n    overlay: PropTypes.bool,\n    tabIndex: PropTypes.string,\n  };\n\n  static defaultProps = {\n    size: 18,\n    active: false,\n    disabled: false,\n    animate: false,\n    overlay: false,\n    tabIndex: '0',\n  };\n\n  handleClick = (e) =>  {\n    e.preventDefault();\n\n    if (!this.props.disabled) {\n      this.props.onClick(e);\n    }\n  }\n\n  render () {\n    const style = {\n      fontSize: `${this.props.size}px`,\n      width: `${this.props.size * 1.28571429}px`,\n      height: `${this.props.size * 1.28571429}px`,\n      lineHeight: `${this.props.size}px`,\n      ...this.props.style,\n      ...(this.props.active ? this.props.activeStyle : {}),\n    };\n\n    const {\n      active,\n      animate,\n      className,\n      disabled,\n      expanded,\n      icon,\n      inverted,\n      overlay,\n      pressed,\n      tabIndex,\n      title,\n    } = this.props;\n\n    const classes = classNames(className, 'icon-button', {\n      active,\n      disabled,\n      inverted,\n      overlayed: overlay,\n    });\n\n    if (!animate) {\n      // Perf optimization: avoid unnecessary <Motion> components unless\n      // we actually need to animate.\n      return (\n        <button\n          aria-label={title}\n          aria-pressed={pressed}\n          aria-expanded={expanded}\n          title={title}\n          className={classes}\n          onClick={this.handleClick}\n          style={style}\n          tabIndex={tabIndex}\n        >\n          <i className={`fa fa-fw fa-${icon}`} aria-hidden='true' />\n        </button>\n      );\n    }\n\n    return (\n      <Motion defaultStyle={{ rotate: active ? -360 : 0 }} style={{ rotate: animate ? spring(active ? -360 : 0, { stiffness: 120, damping: 7 }) : 0 }}>\n        {({ rotate }) => (\n          <button\n            aria-label={title}\n            aria-pressed={pressed}\n            aria-expanded={expanded}\n            title={title}\n            className={classes}\n            onClick={this.handleClick}\n            style={style}\n            tabIndex={tabIndex}\n          >\n            <i style={{ transform: `rotate(${rotate}deg)` }} className={`fa fa-fw fa-${icon}`} aria-hidden='true' />\n          </button>\n        )}\n      </Motion>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/components/icon_button.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inDOM = require('../util/inDOM');\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar on = function on() {};\nif (_inDOM2.default) {\n  on = function () {\n\n    if (document.addEventListener) return function (node, eventName, handler, capture) {\n      return node.addEventListener(eventName, handler, capture || false);\n    };else if (document.attachEvent) return function (node, eventName, handler) {\n      return node.attachEvent('on' + eventName, function (e) {\n        e = e || window.event;\n        e.target = e.target || e.srcElement;\n        e.currentTarget = node;\n        handler.call(node, e);\n      });\n    };\n  }();\n}\n\nexports.default = on;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./node_modules/dom-helpers/events/on.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inDOM = require('../util/inDOM');\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar off = function off() {};\nif (_inDOM2.default) {\n  off = function () {\n    if (document.addEventListener) return function (node, eventName, handler, capture) {\n      return node.removeEventListener(eventName, handler, capture || false);\n    };else if (document.attachEvent) return function (node, eventName, handler) {\n      return node.detachEvent('on' + eventName, handler);\n    };\n  }();\n}\n\nexports.default = off;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./node_modules/dom-helpers/events/off.js","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/throttle.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nvar Motion = (function (_React$Component) {\n  _inherits(Motion, _React$Component);\n\n  _createClass(Motion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyle: _propTypes2['default'].objectOf(_propTypes2['default'].number),\n      style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      onRest: _propTypes2['default'].func\n    },\n    enumerable: true\n  }]);\n\n  function Motion(props) {\n    var _this = this;\n\n    _classCallCheck(this, Motion);\n\n    _React$Component.call(this, props);\n    this.wasAnimating = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyle = null;\n\n    this.clearUnreadPropStyle = function (destStyle) {\n      var dirty = false;\n      var _state = _this.state;\n      var currentStyle = _state.currentStyle;\n      var currentVelocity = _state.currentVelocity;\n      var lastIdealStyle = _state.lastIdealStyle;\n      var lastIdealVelocity = _state.lastIdealVelocity;\n\n      for (var key in destStyle) {\n        if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n          continue;\n        }\n\n        var styleValue = destStyle[key];\n        if (typeof styleValue === 'number') {\n          if (!dirty) {\n            dirty = true;\n            currentStyle = _extends({}, currentStyle);\n            currentVelocity = _extends({}, currentVelocity);\n            lastIdealStyle = _extends({}, lastIdealStyle);\n            lastIdealVelocity = _extends({}, lastIdealVelocity);\n          }\n\n          currentStyle[key] = styleValue;\n          currentVelocity[key] = 0;\n          lastIdealStyle[key] = styleValue;\n          lastIdealVelocity[key] = 0;\n        }\n      }\n\n      if (dirty) {\n        _this.setState({ currentStyle: currentStyle, currentVelocity: currentVelocity, lastIdealStyle: lastIdealStyle, lastIdealVelocity: lastIdealVelocity });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // check if we need to animate in the first place\n        var propsStyle = _this.props.style;\n        if (_shouldStopAnimation2['default'](_this.state.currentStyle, propsStyle, _this.state.currentVelocity)) {\n          if (_this.wasAnimating && _this.props.onRest) {\n            _this.props.onRest();\n          }\n\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.wasAnimating = false;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        _this.wasAnimating = true;\n\n        var currentTime = timestamp || _performanceNow2['default']();\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta;\n        // more than 10 frames? prolly switched browser tab. Restart\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.startAnimationIfNecessary();\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var newLastIdealStyle = {};\n        var newLastIdealVelocity = {};\n        var newCurrentStyle = {};\n        var newCurrentVelocity = {};\n\n        for (var key in propsStyle) {\n          if (!Object.prototype.hasOwnProperty.call(propsStyle, key)) {\n            continue;\n          }\n\n          var styleValue = propsStyle[key];\n          if (typeof styleValue === 'number') {\n            newCurrentStyle[key] = styleValue;\n            newCurrentVelocity[key] = 0;\n            newLastIdealStyle[key] = styleValue;\n            newLastIdealVelocity[key] = 0;\n          } else {\n            var newLastIdealStyleValue = _this.state.lastIdealStyle[key];\n            var newLastIdealVelocityValue = _this.state.lastIdealVelocity[key];\n            for (var i = 0; i < framesToCatchUp; i++) {\n              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              newLastIdealStyleValue = _stepper[0];\n              newLastIdealVelocityValue = _stepper[1];\n            }\n\n            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n            var nextIdealX = _stepper2[0];\n            var nextIdealV = _stepper2[1];\n\n            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n            newLastIdealStyle[key] = newLastIdealStyleValue;\n            newLastIdealVelocity[key] = newLastIdealVelocityValue;\n          }\n        }\n\n        _this.animationID = null;\n        // the amount we're looped over above\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyle: newCurrentStyle,\n          currentVelocity: newCurrentVelocity,\n          lastIdealStyle: newLastIdealStyle,\n          lastIdealVelocity: newLastIdealVelocity\n        });\n\n        _this.unreadPropStyle = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  Motion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyle = _props.defaultStyle;\n    var style = _props.style;\n\n    var currentStyle = defaultStyle || _stripStyle2['default'](style);\n    var currentVelocity = _mapToZero2['default'](currentStyle);\n    return {\n      currentStyle: currentStyle,\n      currentVelocity: currentVelocity,\n      lastIdealStyle: currentStyle,\n      lastIdealVelocity: currentVelocity\n    };\n  };\n\n  // it's possible that currentStyle's value is stale: if props is immediately\n  // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n  // at 0 (didn't have time to tick and interpolate even once). If we naively\n  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n  // In reality currentStyle should be 400\n\n  Motion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  Motion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyle != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyle);\n    }\n\n    this.unreadPropStyle = props.style;\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  Motion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n      this.animationID = null;\n    }\n  };\n\n  Motion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyle);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return Motion;\n})(_react2['default'].Component);\n\nexports['default'] = Motion;\nmodule.exports = exports['default'];\n\n// after checking for unreadPropStyle != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-motion/lib/Motion.js","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/_iter-define.js","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/isSymbol.js","import { reduceMotion } from 'flavours/glitch/util/initial_state';\nimport ReducedMotion from './reduced_motion';\nimport Motion from 'react-motion/lib/Motion';\n\nexport default reduceMotion ? ReducedMotion : Motion;\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/util/optional_motion.js","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/helpers/classCallCheck.js","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/warning/browser.js","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/_freeGlobal.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/helpers/createClass.js","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/_object-gpo.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.animationEnd = exports.animationDelay = exports.animationTiming = exports.animationDuration = exports.animationName = exports.transitionEnd = exports.transitionDuration = exports.transitionDelay = exports.transitionTiming = exports.transitionProperty = exports.transform = undefined;\n\nvar _inDOM = require('../util/inDOM');\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar transform = 'transform';\nvar prefix = void 0,\n    transitionEnd = void 0,\n    animationEnd = void 0;\nvar transitionProperty = void 0,\n    transitionDuration = void 0,\n    transitionTiming = void 0,\n    transitionDelay = void 0;\nvar animationName = void 0,\n    animationDuration = void 0,\n    animationTiming = void 0,\n    animationDelay = void 0;\n\nif (_inDOM2.default) {\n  var _getTransitionPropert = getTransitionProperties();\n\n  prefix = _getTransitionPropert.prefix;\n  exports.transitionEnd = transitionEnd = _getTransitionPropert.transitionEnd;\n  exports.animationEnd = animationEnd = _getTransitionPropert.animationEnd;\n\n\n  exports.transform = transform = prefix + '-' + transform;\n  exports.transitionProperty = transitionProperty = prefix + '-transition-property';\n  exports.transitionDuration = transitionDuration = prefix + '-transition-duration';\n  exports.transitionDelay = transitionDelay = prefix + '-transition-delay';\n  exports.transitionTiming = transitionTiming = prefix + '-transition-timing-function';\n\n  exports.animationName = animationName = prefix + '-animation-name';\n  exports.animationDuration = animationDuration = prefix + '-animation-duration';\n  exports.animationTiming = animationTiming = prefix + '-animation-delay';\n  exports.animationDelay = animationDelay = prefix + '-animation-timing-function';\n}\n\nexports.transform = transform;\nexports.transitionProperty = transitionProperty;\nexports.transitionTiming = transitionTiming;\nexports.transitionDelay = transitionDelay;\nexports.transitionDuration = transitionDuration;\nexports.transitionEnd = transitionEnd;\nexports.animationName = animationName;\nexports.animationDuration = animationDuration;\nexports.animationTiming = animationTiming;\nexports.animationDelay = animationDelay;\nexports.animationEnd = animationEnd;\nexports.default = {\n  transform: transform,\n  end: transitionEnd,\n  property: transitionProperty,\n  timing: transitionTiming,\n  delay: transitionDelay,\n  duration: transitionDuration\n};\n\n\nfunction getTransitionProperties() {\n  var style = document.createElement('div').style;\n\n  var vendorMap = {\n    O: function O(e) {\n      return 'o' + e.toLowerCase();\n    },\n    Moz: function Moz(e) {\n      return e.toLowerCase();\n    },\n    Webkit: function Webkit(e) {\n      return 'webkit' + e;\n    },\n    ms: function ms(e) {\n      return 'MS' + e;\n    }\n  };\n\n  var vendors = Object.keys(vendorMap);\n\n  var transitionEnd = void 0,\n      animationEnd = void 0;\n  var prefix = '';\n\n  for (var i = 0; i < vendors.length; i++) {\n    var vendor = vendors[i];\n\n    if (vendor + 'TransitionProperty' in style) {\n      prefix = '-' + vendor.toLowerCase();\n      transitionEnd = vendorMap[vendor]('TransitionEnd');\n      animationEnd = vendorMap[vendor]('AnimationEnd');\n      break;\n    }\n  }\n\n  if (!transitionEnd && 'transitionProperty' in style) transitionEnd = 'transitionend';\n\n  if (!animationEnd && 'animationName' in style) animationEnd = 'animationend';\n\n  style = null;\n\n  return { animationEnd: animationEnd, transitionEnd: transitionEnd, prefix: prefix };\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/dom-helpers/transition/properties.js","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react'), require('immutable')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'react', 'immutable'], factory) :\n\t(factory((global.window = global.window || {}),global.React,global.Immutable));\n}(this, (function (exports,React,immutable) { 'use strict';\n\nReact = React && 'default' in React ? React['default'] : React;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n  Copyright (C) 2017 Piotr Tomasz Monarski.\n  Licensed under the MIT License (MIT), see\n  https://github.com/Monar/react-immutable-pure-component\n*/\n\nvar ImmutablePureComponent = function (_React$Component) {\n  _inherits(ImmutablePureComponent, _React$Component);\n\n  function ImmutablePureComponent() {\n    _classCallCheck(this, ImmutablePureComponent);\n\n    return _possibleConstructorReturn(this, (ImmutablePureComponent.__proto__ || Object.getPrototypeOf(ImmutablePureComponent)).apply(this, arguments));\n  }\n\n  _createClass(ImmutablePureComponent, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      var _this2 = this;\n\n      var nextState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var state = this.state || {};\n\n      return !(this.updateOnProps || Object.keys(_extends({}, nextProps, this.props))).every(function (p) {\n        return immutable.is(nextProps[p], _this2.props[p]);\n      }) || !(this.updateOnStates || Object.keys(_extends({}, nextState, state))).every(function (s) {\n        return immutable.is(nextState[s], state[s]);\n      });\n    }\n  }]);\n\n  return ImmutablePureComponent;\n}(React.Component);\n\nexports.ImmutablePureComponent = ImmutablePureComponent;\nexports['default'] = ImmutablePureComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-immutable-pure-component/lib/react-immutable-pure-component.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  RESISTANCE_COEF: 0.6,\n\n  // This value is closed to what browsers are using internally to\n  // trigger a native scroll.\n  UNCERTAINTY_THRESHOLD: 3 // px\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-swipeable-views-core/lib/constant.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\nimport { fromJS } from 'immutable';\nimport { throttle } from 'lodash';\nimport classNames from 'classnames';\nimport { isFullscreen, requestFullscreen, exitFullscreen } from '../ui/util/fullscreen';\nimport { displaySensitiveMedia } from '../../initial_state';\n\nconst messages = defineMessages({\n  play: { id: 'video.play', defaultMessage: 'Play' },\n  pause: { id: 'video.pause', defaultMessage: 'Pause' },\n  mute: { id: 'video.mute', defaultMessage: 'Mute sound' },\n  unmute: { id: 'video.unmute', defaultMessage: 'Unmute sound' },\n  hide: { id: 'video.hide', defaultMessage: 'Hide video' },\n  expand: { id: 'video.expand', defaultMessage: 'Expand video' },\n  close: { id: 'video.close', defaultMessage: 'Close video' },\n  fullscreen: { id: 'video.fullscreen', defaultMessage: 'Full screen' },\n  exit_fullscreen: { id: 'video.exit_fullscreen', defaultMessage: 'Exit full screen' },\n});\n\nconst formatTime = secondsNum => {\n  let hours   = Math.floor(secondsNum / 3600);\n  let minutes = Math.floor((secondsNum - (hours * 3600)) / 60);\n  let seconds = secondsNum - (hours * 3600) - (minutes * 60);\n\n  if (hours   < 10) hours   = '0' + hours;\n  if (minutes < 10) minutes = '0' + minutes;\n  if (seconds < 10) seconds = '0' + seconds;\n\n  return (hours === '00' ? '' : `${hours}:`) + `${minutes}:${seconds}`;\n};\n\nexport const findElementPosition = el => {\n  let box;\n\n  if (el.getBoundingClientRect && el.parentNode) {\n    box = el.getBoundingClientRect();\n  }\n\n  if (!box) {\n    return {\n      left: 0,\n      top: 0,\n    };\n  }\n\n  const docEl = document.documentElement;\n  const body  = document.body;\n\n  const clientLeft = docEl.clientLeft || body.clientLeft || 0;\n  const scrollLeft = window.pageXOffset || body.scrollLeft;\n  const left       = (box.left + scrollLeft) - clientLeft;\n\n  const clientTop = docEl.clientTop || body.clientTop || 0;\n  const scrollTop = window.pageYOffset || body.scrollTop;\n  const top       = (box.top + scrollTop) - clientTop;\n\n  return {\n    left: Math.round(left),\n    top: Math.round(top),\n  };\n};\n\nexport const getPointerPosition = (el, event) => {\n  const position = {};\n  const box = findElementPosition(el);\n  const boxW = el.offsetWidth;\n  const boxH = el.offsetHeight;\n  const boxY = box.top;\n  const boxX = box.left;\n\n  let pageY = event.pageY;\n  let pageX = event.pageX;\n\n  if (event.changedTouches) {\n    pageX = event.changedTouches[0].pageX;\n    pageY = event.changedTouches[0].pageY;\n  }\n\n  position.y = Math.max(0, Math.min(1, (pageY - boxY) / boxH));\n  position.x = Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n\n  return position;\n};\n\n@injectIntl\nexport default class Video extends React.PureComponent {\n\n  static propTypes = {\n    preview: PropTypes.string,\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    sensitive: PropTypes.bool,\n    startTime: PropTypes.number,\n    onOpenVideo: PropTypes.func,\n    onCloseVideo: PropTypes.func,\n    detailed: PropTypes.bool,\n    inline: PropTypes.bool,\n    intl: PropTypes.object.isRequired,\n  };\n\n  state = {\n    currentTime: 0,\n    duration: 0,\n    paused: true,\n    dragging: false,\n    containerWidth: false,\n    fullscreen: false,\n    hovered: false,\n    muted: false,\n    revealed: !this.props.sensitive || displaySensitiveMedia,\n  };\n\n  setPlayerRef = c => {\n    this.player = c;\n\n    if (c) {\n      this.setState({\n        containerWidth: c.offsetWidth,\n      });\n    }\n  }\n\n  setVideoRef = c => {\n    this.video = c;\n  }\n\n  setSeekRef = c => {\n    this.seek = c;\n  }\n\n  handleClickRoot = e => e.stopPropagation();\n\n  handlePlay = () => {\n    this.setState({ paused: false });\n  }\n\n  handlePause = () => {\n    this.setState({ paused: true });\n  }\n\n  handleTimeUpdate = () => {\n    this.setState({\n      currentTime: Math.floor(this.video.currentTime),\n      duration: Math.floor(this.video.duration),\n    });\n  }\n\n  handleMouseDown = e => {\n    document.addEventListener('mousemove', this.handleMouseMove, true);\n    document.addEventListener('mouseup', this.handleMouseUp, true);\n    document.addEventListener('touchmove', this.handleMouseMove, true);\n    document.addEventListener('touchend', this.handleMouseUp, true);\n\n    this.setState({ dragging: true });\n    this.video.pause();\n    this.handleMouseMove(e);\n  }\n\n  handleMouseUp = () => {\n    document.removeEventListener('mousemove', this.handleMouseMove, true);\n    document.removeEventListener('mouseup', this.handleMouseUp, true);\n    document.removeEventListener('touchmove', this.handleMouseMove, true);\n    document.removeEventListener('touchend', this.handleMouseUp, true);\n\n    this.setState({ dragging: false });\n    this.video.play();\n  }\n\n  handleMouseMove = throttle(e => {\n    const { x } = getPointerPosition(this.seek, e);\n    const currentTime = Math.floor(this.video.duration * x);\n\n    this.video.currentTime = currentTime;\n    this.setState({ currentTime });\n  }, 60);\n\n  togglePlay = () => {\n    if (this.state.paused) {\n      this.video.play();\n    } else {\n      this.video.pause();\n    }\n  }\n\n  toggleFullscreen = () => {\n    if (isFullscreen()) {\n      exitFullscreen();\n    } else {\n      requestFullscreen(this.player);\n    }\n  }\n\n  componentDidMount () {\n    document.addEventListener('fullscreenchange', this.handleFullscreenChange, true);\n    document.addEventListener('webkitfullscreenchange', this.handleFullscreenChange, true);\n    document.addEventListener('mozfullscreenchange', this.handleFullscreenChange, true);\n    document.addEventListener('MSFullscreenChange', this.handleFullscreenChange, true);\n  }\n\n  componentWillUnmount () {\n    document.removeEventListener('fullscreenchange', this.handleFullscreenChange, true);\n    document.removeEventListener('webkitfullscreenchange', this.handleFullscreenChange, true);\n    document.removeEventListener('mozfullscreenchange', this.handleFullscreenChange, true);\n    document.removeEventListener('MSFullscreenChange', this.handleFullscreenChange, true);\n  }\n\n  handleFullscreenChange = () => {\n    this.setState({ fullscreen: isFullscreen() });\n  }\n\n  handleMouseEnter = () => {\n    this.setState({ hovered: true });\n  }\n\n  handleMouseLeave = () => {\n    this.setState({ hovered: false });\n  }\n\n  toggleMute = () => {\n    this.video.muted = !this.video.muted;\n    this.setState({ muted: this.video.muted });\n  }\n\n  toggleReveal = () => {\n    if (this.state.revealed) {\n      this.video.pause();\n    }\n\n    this.setState({ revealed: !this.state.revealed });\n  }\n\n  handleLoadedData = () => {\n    if (this.props.startTime) {\n      this.video.currentTime = this.props.startTime;\n      this.video.play();\n    }\n  }\n\n  handleProgress = () => {\n    if (this.video.buffered.length > 0) {\n      this.setState({ buffer: this.video.buffered.end(0) / this.video.duration * 100 });\n    }\n  }\n\n  handleOpenVideo = () => {\n    const { src, preview, width, height } = this.props;\n    const media = fromJS({\n      type: 'video',\n      url: src,\n      preview_url: preview,\n      width,\n      height,\n    });\n\n    this.video.pause();\n    this.props.onOpenVideo(media, this.video.currentTime);\n  }\n\n  handleCloseVideo = () => {\n    this.video.pause();\n    this.props.onCloseVideo();\n  }\n\n  render () {\n    const { preview, src, inline, startTime, onOpenVideo, onCloseVideo, intl, alt, detailed } = this.props;\n    const { containerWidth, currentTime, duration, buffer, dragging, paused, fullscreen, hovered, muted, revealed } = this.state;\n    const progress = (currentTime / duration) * 100;\n    const playerStyle = {};\n\n    let { width, height } = this.props;\n\n    if (inline && containerWidth) {\n      width  = containerWidth;\n      height = containerWidth / (16/9);\n\n      playerStyle.width  = width;\n      playerStyle.height = height;\n    }\n\n    return (\n      <div\n        role='menuitem'\n        className={classNames('video-player', { inactive: !revealed, detailed, inline: inline && !fullscreen, fullscreen })}\n        style={playerStyle}\n        ref={this.setPlayerRef}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n        onClick={this.handleClickRoot}\n        tabIndex={0}\n      >\n        <video\n          ref={this.setVideoRef}\n          src={src}\n          poster={preview}\n          preload={startTime ? 'auto' : 'none'}\n          loop\n          role='button'\n          tabIndex='0'\n          aria-label={alt}\n          width={width}\n          height={height}\n          onClick={this.togglePlay}\n          onPlay={this.handlePlay}\n          onPause={this.handlePause}\n          onTimeUpdate={this.handleTimeUpdate}\n          onLoadedData={this.handleLoadedData}\n          onProgress={this.handleProgress}\n        />\n\n        <button type='button' className={classNames('video-player__spoiler', { active: !revealed })} onClick={this.toggleReveal}>\n          <span className='video-player__spoiler__title'><FormattedMessage id='status.sensitive_warning' defaultMessage='Sensitive content' /></span>\n          <span className='video-player__spoiler__subtitle'><FormattedMessage id='status.sensitive_toggle' defaultMessage='Click to view' /></span>\n        </button>\n\n        <div className={classNames('video-player__controls', { active: paused || hovered })}>\n          <div className='video-player__seek' onMouseDown={this.handleMouseDown} ref={this.setSeekRef}>\n            <div className='video-player__seek__buffer' style={{ width: `${buffer}%` }} />\n            <div className='video-player__seek__progress' style={{ width: `${progress}%` }} />\n\n            <span\n              className={classNames('video-player__seek__handle', { active: dragging })}\n              tabIndex='0'\n              style={{ left: `${progress}%` }}\n            />\n          </div>\n\n          <div className='video-player__buttons-bar'>\n            <div className='video-player__buttons left'>\n              <button type='button' aria-label={intl.formatMessage(paused ? messages.play : messages.pause)} onClick={this.togglePlay}><i className={classNames('fa fa-fw', { 'fa-play': paused, 'fa-pause': !paused })} /></button>\n              <button type='button' aria-label={intl.formatMessage(muted ? messages.unmute : messages.mute)} onClick={this.toggleMute}><i className={classNames('fa fa-fw', { 'fa-volume-off': muted, 'fa-volume-up': !muted })} /></button>\n\n              {!onCloseVideo && <button type='button' aria-label={intl.formatMessage(messages.hide)} onClick={this.toggleReveal}><i className='fa fa-fw fa-eye' /></button>}\n\n              {(detailed || fullscreen) &&\n                <span>\n                  <span className='video-player__time-current'>{formatTime(currentTime)}</span>\n                  <span className='video-player__time-sep'>/</span>\n                  <span className='video-player__time-total'>{formatTime(duration)}</span>\n                </span>\n              }\n            </div>\n\n            <div className='video-player__buttons right'>\n              {(!fullscreen && onOpenVideo) && <button type='button' aria-label={intl.formatMessage(messages.expand)} onClick={this.handleOpenVideo}><i className='fa fa-fw fa-expand' /></button>}\n              {onCloseVideo && <button type='button' aria-label={intl.formatMessage(messages.close)} onClick={this.handleCloseVideo}><i className='fa fa-fw fa-compress' /></button>}\n              <button type='button' aria-label={intl.formatMessage(fullscreen ? messages.exit_fullscreen : messages.fullscreen)} onClick={this.toggleFullscreen}><i className={classNames('fa fa-fw', { 'fa-arrows-alt': !fullscreen, 'fa-compress': fullscreen })} /></button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/video/index.js","import { reduceMotion } from '../../../initial_state';\nimport ReducedMotion from './reduced_motion';\nimport Motion from 'react-motion/lib/Motion';\n\nexport default reduceMotion ? ReducedMotion : Motion;\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/ui/util/optional_motion.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SwipeableViews = require('./SwipeableViews');\n\nvar _SwipeableViews2 = _interopRequireDefault(_SwipeableViews);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _SwipeableViews2.default;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-swipeable-views/lib/index.js","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/core-js/symbol/iterator.js","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/fn/symbol/iterator.js","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/es6.string.iterator.js","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/_string-at.js","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/_iter-create.js","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/web.dom.iterable.js","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/es6.array.iterator.js","module.exports = function () { /* empty */ };\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/_add-to-unscopables.js","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/_iter-step.js","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/core-js/object/set-prototype-of.js","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/fn/object/set-prototype-of.js","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/es6.object.set-prototype-of.js","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/_set-proto.js","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/core-js/object/create.js","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/fn/object/create.js","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/es6.object.create.js","/**\n * This is a straight rip-off of the React.js ReactPropTypes.js proptype validators,\n * modified to make it possible to validate Immutable.js data.\n *     ImmutableTypes.listOf is patterned after React.PropTypes.arrayOf, but for Immutable.List\n *     ImmutableTypes.shape  is based on React.PropTypes.shape, but for any Immutable.Iterable\n */\n\"use strict\";\n\nvar Immutable = require(\"immutable\");\n\nvar ANONYMOUS = \"<<anonymous>>\";\n\nvar ImmutablePropTypes = {\n  listOf: createListOfTypeChecker,\n  mapOf: createMapOfTypeChecker,\n  orderedMapOf: createOrderedMapOfTypeChecker,\n  setOf: createSetOfTypeChecker,\n  orderedSetOf: createOrderedSetOfTypeChecker,\n  stackOf: createStackOfTypeChecker,\n  iterableOf: createIterableOfTypeChecker,\n  recordOf: createRecordOfTypeChecker,\n  shape: createShapeChecker,\n  contains: createShapeChecker,\n  mapContains: createMapContainsChecker,\n  // Primitive Types\n  list: createImmutableTypeChecker(\"List\", Immutable.List.isList),\n  map: createImmutableTypeChecker(\"Map\", Immutable.Map.isMap),\n  orderedMap: createImmutableTypeChecker(\"OrderedMap\", Immutable.OrderedMap.isOrderedMap),\n  set: createImmutableTypeChecker(\"Set\", Immutable.Set.isSet),\n  orderedSet: createImmutableTypeChecker(\"OrderedSet\", Immutable.OrderedSet.isOrderedSet),\n  stack: createImmutableTypeChecker(\"Stack\", Immutable.Stack.isStack),\n  seq: createImmutableTypeChecker(\"Seq\", Immutable.Seq.isSeq),\n  record: createImmutableTypeChecker(\"Record\", function (isRecord) {\n    return isRecord instanceof Immutable.Record;\n  }),\n  iterable: createImmutableTypeChecker(\"Iterable\", Immutable.Iterable.isIterable)\n};\n\nfunction getPropType(propValue) {\n  var propType = typeof propValue;\n  if (Array.isArray(propValue)) {\n    return \"array\";\n  }\n  if (propValue instanceof RegExp) {\n    // Old webkits (at least until Android 4.0) return 'function' rather than\n    // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n    // passes PropTypes.object.\n    return \"object\";\n  }\n  if (propValue instanceof Immutable.Iterable) {\n    return \"Immutable.\" + propValue.toSource().split(\" \")[0];\n  }\n  return propType;\n}\n\nfunction createChainableTypeChecker(validate) {\n  function checkType(isRequired, props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 6 ? _len - 6 : 0), _key = 6; _key < _len; _key++) {\n      rest[_key - 6] = arguments[_key];\n    }\n\n    propFullName = propFullName || propName;\n    componentName = componentName || ANONYMOUS;\n    if (props[propName] == null) {\n      var locationName = location;\n      if (isRequired) {\n        return new Error(\"Required \" + locationName + \" `\" + propFullName + \"` was not specified in \" + (\"`\" + componentName + \"`.\"));\n      }\n    } else {\n      return validate.apply(undefined, [props, propName, componentName, location, propFullName].concat(rest));\n    }\n  }\n\n  var chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n\n  return chainedCheckType;\n}\n\nfunction createImmutableTypeChecker(immutableClassName, immutableClassTypeValidator) {\n  function validate(props, propName, componentName, location, propFullName) {\n    var propValue = props[propName];\n    if (!immutableClassTypeValidator(propValue)) {\n      var propType = getPropType(propValue);\n      return new Error(\"Invalid \" + location + \" `\" + propFullName + \"` of type `\" + propType + \"` \" + (\"supplied to `\" + componentName + \"`, expected `\" + immutableClassName + \"`.\"));\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createIterableTypeChecker(typeChecker, immutableClassName, immutableClassTypeValidator) {\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (!immutableClassTypeValidator(propValue)) {\n      var locationName = location;\n      var propType = getPropType(propValue);\n      return new Error(\"Invalid \" + locationName + \" `\" + propFullName + \"` of type \" + (\"`\" + propType + \"` supplied to `\" + componentName + \"`, expected an Immutable.js \" + immutableClassName + \".\"));\n    }\n\n    if (typeof typeChecker !== \"function\") {\n      return new Error(\"Invalid typeChecker supplied to `\" + componentName + \"` \" + (\"for propType `\" + propFullName + \"`, expected a function.\"));\n    }\n\n    var propValues = propValue.toArray();\n    for (var i = 0, len = propValues.length; i < len; i++) {\n      var error = typeChecker.apply(undefined, [propValues, i, componentName, location, \"\" + propFullName + \"[\" + i + \"]\"].concat(rest));\n      if (error instanceof Error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createKeysTypeChecker(typeChecker) {\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (typeof typeChecker !== \"function\") {\n      return new Error(\"Invalid keysTypeChecker (optional second argument) supplied to `\" + componentName + \"` \" + (\"for propType `\" + propFullName + \"`, expected a function.\"));\n    }\n\n    var keys = propValue.keySeq().toArray();\n    for (var i = 0, len = keys.length; i < len; i++) {\n      var error = typeChecker.apply(undefined, [keys, i, componentName, location, \"\" + propFullName + \" -> key(\" + keys[i] + \")\"].concat(rest));\n      if (error instanceof Error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createListOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"List\", Immutable.List.isList);\n}\n\nfunction createMapOfTypeCheckerFactory(valuesTypeChecker, keysTypeChecker, immutableClassName, immutableClassTypeValidator) {\n  function validate() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return createIterableTypeChecker(valuesTypeChecker, immutableClassName, immutableClassTypeValidator).apply(undefined, args) || keysTypeChecker && createKeysTypeChecker(keysTypeChecker).apply(undefined, args);\n  }\n\n  return createChainableTypeChecker(validate);\n}\n\nfunction createMapOfTypeChecker(valuesTypeChecker, keysTypeChecker) {\n  return createMapOfTypeCheckerFactory(valuesTypeChecker, keysTypeChecker, \"Map\", Immutable.Map.isMap);\n}\n\nfunction createOrderedMapOfTypeChecker(valuesTypeChecker, keysTypeChecker) {\n  return createMapOfTypeCheckerFactory(valuesTypeChecker, keysTypeChecker, \"OrderedMap\", Immutable.OrderedMap.isOrderedMap);\n}\n\nfunction createSetOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"Set\", Immutable.Set.isSet);\n}\n\nfunction createOrderedSetOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"OrderedSet\", Immutable.OrderedSet.isOrderedSet);\n}\n\nfunction createStackOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"Stack\", Immutable.Stack.isStack);\n}\n\nfunction createIterableOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"Iterable\", Immutable.Iterable.isIterable);\n}\n\nfunction createRecordOfTypeChecker(recordKeys) {\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (!(propValue instanceof Immutable.Record)) {\n      var propType = getPropType(propValue);\n      var locationName = location;\n      return new Error(\"Invalid \" + locationName + \" `\" + propFullName + \"` of type `\" + propType + \"` \" + (\"supplied to `\" + componentName + \"`, expected an Immutable.js Record.\"));\n    }\n    for (var key in recordKeys) {\n      var checker = recordKeys[key];\n      if (!checker) {\n        continue;\n      }\n      var mutablePropValue = propValue.toObject();\n      var error = checker.apply(undefined, [mutablePropValue, key, componentName, location, \"\" + propFullName + \".\" + key].concat(rest));\n      if (error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\n// there is some irony in the fact that shapeTypes is a standard hash and not an immutable collection\nfunction createShapeTypeChecker(shapeTypes) {\n  var immutableClassName = arguments[1] === undefined ? \"Iterable\" : arguments[1];\n  var immutableClassTypeValidator = arguments[2] === undefined ? Immutable.Iterable.isIterable : arguments[2];\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (!immutableClassTypeValidator(propValue)) {\n      var propType = getPropType(propValue);\n      var locationName = location;\n      return new Error(\"Invalid \" + locationName + \" `\" + propFullName + \"` of type `\" + propType + \"` \" + (\"supplied to `\" + componentName + \"`, expected an Immutable.js \" + immutableClassName + \".\"));\n    }\n    var mutablePropValue = propValue.toObject();\n    for (var key in shapeTypes) {\n      var checker = shapeTypes[key];\n      if (!checker) {\n        continue;\n      }\n      var error = checker.apply(undefined, [mutablePropValue, key, componentName, location, \"\" + propFullName + \".\" + key].concat(rest));\n      if (error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createShapeChecker(shapeTypes) {\n  return createShapeTypeChecker(shapeTypes);\n}\n\nfunction createMapContainsChecker(shapeTypes) {\n  return createShapeTypeChecker(shapeTypes, \"Map\", Immutable.Map.isMap);\n}\n\nmodule.exports = ImmutablePropTypes;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/prop-types/factoryWithThrowingShims.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/prop-types/lib/ReactPropTypesSecret.js","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/now.js","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/toNumber.js","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/_getRawTag.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/_objectToString.js","'use strict';\n\nexports = module.exports = require('./lib/memoizer')['default'];\nexports['default'] = exports;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/intl-format-cache/index.js","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jshint esnext: true */\n\n\"use strict\";\nvar src$es5$$ = require(\"./es5\");\nexports[\"default\"] = createFormatCache;\n\n// -----------------------------------------------------------------------------\n\nfunction createFormatCache(FormatConstructor) {\n    var cache = src$es5$$.objCreate(null);\n\n    return function () {\n        var args    = Array.prototype.slice.call(arguments);\n        var cacheId = getCacheId(args);\n        var format  = cacheId && cache[cacheId];\n\n        if (!format) {\n            format = new (src$es5$$.bind.apply(FormatConstructor, [null].concat(args)))();\n\n            if (cacheId) {\n                cache[cacheId] = format;\n            }\n        }\n\n        return format;\n    };\n}\n\n// -- Utilities ----------------------------------------------------------------\n\nfunction getCacheId(inputs) {\n    // When JSON is not available in the runtime, we will not create a cache id.\n    if (typeof JSON === 'undefined') { return; }\n\n    var cacheId = [];\n\n    var i, len, input;\n\n    for (i = 0, len = inputs.length; i < len; i += 1) {\n        input = inputs[i];\n\n        if (input && typeof input === 'object') {\n            cacheId.push(orderedProps(input));\n        } else {\n            cacheId.push(input);\n        }\n    }\n\n    return JSON.stringify(cacheId);\n}\n\nfunction orderedProps(obj) {\n    var props = [],\n        keys  = [];\n\n    var key, i, len, prop;\n\n    for (key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            keys.push(key);\n        }\n    }\n\n    var orderedKeys = keys.sort();\n\n    for (i = 0, len = orderedKeys.length; i < len; i += 1) {\n        key  = orderedKeys[i];\n        prop = {};\n\n        prop[key] = obj[key];\n        props[i]  = prop;\n    }\n\n    return props;\n}\n\n//# sourceMappingURL=memoizer.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/intl-format-cache/lib/memoizer.js","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n// Function.prototype.bind implementation from Mozilla Developer Network:\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind#Polyfill\n\n\"use strict\";\n\nvar bind = Function.prototype.bind || function (oThis) {\n    if (typeof this !== 'function') {\n      // closest thing possible to the ECMAScript 5\n      // internal IsCallable function\n      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n    }\n\n    var aArgs   = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP    = function() {},\n        fBound  = function() {\n          return fToBind.apply(this instanceof fNOP\n                 ? this\n                 : oThis,\n                 aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    if (this.prototype) {\n      // native functions don't have a prototype\n      fNOP.prototype = this.prototype;\n    }\n    fBound.prototype = new fNOP();\n\n    return fBound;\n};\n\n// Purposely using the same implementation as the Intl.js `Intl` polyfill.\n// Copyright 2013 Andy Earnshaw, MIT License\n\nvar hop = Object.prototype.hasOwnProperty;\n\nvar realDefineProp = (function () {\n    try { return !!Object.defineProperty({}, 'a', {}); }\n    catch (e) { return false; }\n})();\n\nvar es3 = !realDefineProp && !Object.prototype.__defineGetter__;\n\nvar defineProperty = realDefineProp ? Object.defineProperty :\n        function (obj, name, desc) {\n\n    if ('get' in desc && obj.__defineGetter__) {\n        obj.__defineGetter__(name, desc.get);\n    } else if (!hop.call(obj, name) || 'value' in desc) {\n        obj[name] = desc.value;\n    }\n};\n\nvar objCreate = Object.create || function (proto, props) {\n    var obj, k;\n\n    function F() {}\n    F.prototype = proto;\n    obj = new F();\n\n    for (k in props) {\n        if (hop.call(props, k)) {\n            defineProperty(obj, k, props[k]);\n        }\n    }\n\n    return obj;\n};\n\nexports.bind = bind, exports.defineProperty = defineProperty, exports.objCreate = objCreate;\n\n//# sourceMappingURL=es5.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/intl-format-cache/lib/es5.js","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/_root.js","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/core-js/object/assign.js","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/fn/object/assign.js","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/es6.object.assign.js","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/_object-assign.js","\n\n// currently used to initiate the velocity style object to 0\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mapToZero;\n\nfunction mapToZero(obj) {\n  var ret = {};\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      ret[key] = 0;\n    }\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-motion/lib/mapToZero.js","\n// turn {x: {val: 1, stiffness: 1, damping: 2}, y: 2} generated by\n// `{x: spring(1, {stiffness: 1, damping: 2}), y: 2}` into {x: 1, y: 2}\n\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = stripStyle;\n\nfunction stripStyle(style) {\n  var ret = {};\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n    ret[key] = typeof style[key] === 'number' ? style[key] : style[key].val;\n  }\n  return ret;\n}\n\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-motion/lib/stripStyle.js","\n\n// stepper is used a lot. Saves allocation to return the same array wrapper.\n// This is fine and danger-free against mutations because the callsite\n// immediately destructures it and gets the numbers inside without passing the\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = stepper;\n\nvar reusedTuple = [0, 0];\n\nfunction stepper(secondPerFrame, x, v, destX, k, b, precision) {\n  // Spring stiffness, in kg / s^2\n\n  // for animations, destX is really spring length (spring at rest). initial\n  // position is considered as the stretched/compressed position of a spring\n  var Fspring = -k * (x - destX);\n\n  // Damping, in kg / s\n  var Fdamper = -b * v;\n\n  // usually we put mass here, but for animation purposes, specifying mass is a\n  // bit redundant. you could simply adjust k and b accordingly\n  // let a = (Fspring + Fdamper) / mass;\n  var a = Fspring + Fdamper;\n\n  var newV = v + a * secondPerFrame;\n  var newX = x + newV * secondPerFrame;\n\n  if (Math.abs(newV) < precision && Math.abs(newX - destX) < precision) {\n    reusedTuple[0] = destX;\n    reusedTuple[1] = 0;\n    return reusedTuple;\n  }\n\n  reusedTuple[0] = newX;\n  reusedTuple[1] = newV;\n  return reusedTuple;\n}\n\nmodule.exports = exports[\"default\"];\n// array reference around.\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-motion/lib/stepper.js","// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/performance-now/lib/performance-now.js","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/raf/index.js","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/raf/node_modules/performance-now/lib/performance-now.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/helpers/possibleConstructorReturn.js","\n\n// usage assumption: currentStyle values have already been rendered but it says\n// nothing of whether currentStyle is stale (see unreadPropStyle)\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = shouldStopAnimation;\n\nfunction shouldStopAnimation(currentStyle, style, currentVelocity) {\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n\n    if (currentVelocity[key] !== 0) {\n      return false;\n    }\n\n    var styleValue = typeof style[key] === 'number' ? style[key] : style[key].val;\n    // stepper will have already taken care of rounding precision errors, so\n    // won't have such thing as 0.9999 !=== 1\n    if (currentStyle[key] !== styleValue) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-motion/lib/shouldStopAnimation.js","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = {\n  noWobble: { stiffness: 170, damping: 26 }, // the default, if nothing provided\n  gentle: { stiffness: 120, damping: 14 },\n  wobbly: { stiffness: 180, damping: 12 },\n  stiff: { stiffness: 210, damping: 20 }\n};\nmodule.exports = exports[\"default\"];\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-motion/lib/presets.js","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/invariant/browser.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/helpers/inherits.js","import detectPassiveEvents from 'detect-passive-events';\n\nconst LAYOUT_BREAKPOINT = 630;\n\nexport function isMobile(width, columns) {\n  switch (columns) {\n  case 'multiple':\n    return false;\n  case 'single':\n    return true;\n  default:\n    return width <= LAYOUT_BREAKPOINT;\n  }\n};\n\nconst iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\nlet userTouching = false;\nlet listenerOptions = detectPassiveEvents.hasSupport ? { passive: true } : false;\n\nfunction touchListener() {\n  userTouching = true;\n  window.removeEventListener('touchstart', touchListener, listenerOptions);\n}\n\nwindow.addEventListener('touchstart', touchListener, listenerOptions);\n\nexport function isUserTouching() {\n  return userTouching;\n}\n\nexport function isIOS() {\n  return iOS;\n};\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/util/is_mobile.js","import detectPassiveEvents from 'detect-passive-events';\n\nconst LAYOUT_BREAKPOINT = 630;\n\nexport function isMobile(width) {\n  return width <= LAYOUT_BREAKPOINT;\n};\n\nconst iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\nlet userTouching = false;\nlet listenerOptions = detectPassiveEvents.hasSupport ? { passive: true } : false;\n\nfunction touchListener() {\n  userTouching = true;\n  window.removeEventListener('touchstart', touchListener, listenerOptions);\n}\n\nwindow.addEventListener('touchstart', touchListener, listenerOptions);\n\nexport function isUserTouching() {\n  return userTouching;\n}\n\nexport function isIOS() {\n  return iOS;\n};\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/is_mobile.js","const element = document.getElementById('initial-state');\nconst initialState = element && JSON.parse(element.textContent);\n\nconst getMeta = (prop) => initialState && initialState.meta && initialState.meta[prop];\n\nexport const reduceMotion = getMeta('reduce_motion');\nexport const autoPlayGif = getMeta('auto_play_gif');\nexport const displaySensitiveMedia = getMeta('display_sensitive_media');\nexport const unfollowModal = getMeta('unfollow_modal');\nexport const boostModal = getMeta('boost_modal');\nexport const deleteModal = getMeta('delete_modal');\nexport const me = getMeta('me');\nexport const searchEnabled = getMeta('search_enabled');\nexport const charLimit = getMeta('char_limit') || 5000;\n\nexport default initialState;\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/initial_state.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/helpers/typeof.js","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/isObject.js","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/_object-sap.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nexports.getDomTreeShapes = getDomTreeShapes;\nexports.findNativeHandler = findNativeHandler;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _properties = require('dom-helpers/transition/properties');\n\nvar _properties2 = _interopRequireDefault(_properties);\n\nvar _on = require('dom-helpers/events/on');\n\nvar _on2 = _interopRequireDefault(_on);\n\nvar _off = require('dom-helpers/events/off');\n\nvar _off2 = _interopRequireDefault(_off);\n\nvar _reactSwipeableViewsCore = require('react-swipeable-views-core');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction addEventListenerEnhanced(node, event, handler, options) {\n  (0, _on2.default)(node, event, handler, options);\n  return {\n    remove: function remove() {\n      (0, _off2.default)(node, event, handler, options);\n    }\n  };\n}\n\nvar styleInjected = false;\n\n// Support old version of iOS and IE 10.\n// To be deleted in 2019.\nfunction injectStyle() {\n  // Inject once for all the instances\n  if (!styleInjected) {\n    var style = document.createElement('style');\n    style.innerHTML = '\\n      .react-swipeable-view-container {\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n      }\\n      .react-swipeable-view-container > div {\\n        -ms-flex-negative: 0;\\n      }\\n    ';\n\n    if (document.body) {\n      document.body.appendChild(style);\n    }\n    styleInjected = true;\n  }\n}\n\nvar styles = {\n  container: {\n    direction: 'ltr',\n    display: 'flex',\n    willChange: 'transform'\n  },\n  slide: {\n    width: '100%',\n    WebkitFlexShrink: 0,\n    flexShrink: 0,\n    overflow: 'auto'\n  }\n};\n\nvar axisProperties = {\n  root: {\n    x: {\n      overflowX: 'hidden'\n    },\n    'x-reverse': {\n      overflowX: 'hidden'\n    },\n    y: {\n      overflowY: 'hidden'\n    },\n    'y-reverse': {\n      overflowY: 'hidden'\n    }\n  },\n  flexDirection: {\n    x: 'row',\n    'x-reverse': 'row-reverse',\n    y: 'column',\n    'y-reverse': 'column-reverse'\n  },\n  transform: {\n    x: function x(translate) {\n      return 'translate(' + -translate + '%, 0)';\n    },\n    'x-reverse': function xReverse(translate) {\n      return 'translate(' + translate + '%, 0)';\n    },\n    y: function y(translate) {\n      return 'translate(0, ' + -translate + '%)';\n    },\n    'y-reverse': function yReverse(translate) {\n      return 'translate(0, ' + translate + '%)';\n    }\n  },\n  length: {\n    x: 'width',\n    'x-reverse': 'width',\n    y: 'height',\n    'y-reverse': 'height'\n  },\n  rotationMatrix: {\n    x: {\n      x: [1, 0],\n      y: [0, 1]\n    },\n    'x-reverse': {\n      x: [-1, 0],\n      y: [0, 1]\n    },\n    y: {\n      x: [0, 1],\n      y: [1, 0]\n    },\n    'y-reverse': {\n      x: [0, -1],\n      y: [1, 0]\n    }\n  },\n  scrollPosition: {\n    x: 'scrollLeft',\n    'x-reverse': 'scrollLeft',\n    y: 'scrollTop',\n    'y-reverse': 'scrollTop'\n  },\n  scrollLength: {\n    x: 'scrollWidth',\n    'x-reverse': 'scrollWidth',\n    y: 'scrollHeight',\n    'y-reverse': 'scrollHeight'\n  },\n  clientLength: {\n    x: 'clientWidth',\n    'x-reverse': 'clientWidth',\n    y: 'clientHeight',\n    'y-reverse': 'clientHeight'\n  }\n};\n\nfunction createTransition(property, options) {\n  var duration = options.duration,\n      easeFunction = options.easeFunction,\n      delay = options.delay;\n\n\n  return property + ' ' + duration + ' ' + easeFunction + ' ' + delay;\n}\n\n// We are using a 2x2 rotation matrix.\nfunction applyRotationMatrix(touch, axis) {\n  var rotationMatrix = axisProperties.rotationMatrix[axis];\n\n  return {\n    pageX: rotationMatrix.x[0] * touch.pageX + rotationMatrix.x[1] * touch.pageY,\n    pageY: rotationMatrix.y[0] * touch.pageX + rotationMatrix.y[1] * touch.pageY\n  };\n}\n\nfunction adaptMouse(event) {\n  event.touches = [{ pageX: event.pageX, pageY: event.pageY }];\n  return event;\n}\n\nfunction getDomTreeShapes(element, rootNode) {\n  var domTreeShapes = [];\n\n  while (element && element !== rootNode) {\n    // We reach a Swipeable View, no need to look higher in the dom tree.\n    if (element.hasAttribute('data-swipeable')) {\n      break;\n    }\n\n    var style = window.getComputedStyle(element);\n\n    if (\n    // Ignore the scroll children if the element is absolute positioned.\n    style.getPropertyValue('position') === 'absolute' ||\n    // Ignore the scroll children if the element has an overflowX hidden\n    style.getPropertyValue('overflow-x') === 'hidden') {\n      domTreeShapes = [];\n    } else if (element.clientWidth > 0 && element.scrollWidth > element.clientWidth || element.clientHeight > 0 && element.scrollHeight > element.clientHeight) {\n      // Ignore the nodes that have no width.\n      // Keep elements with a scroll\n      domTreeShapes.push({\n        element: element,\n        scrollWidth: element.scrollWidth,\n        scrollHeight: element.scrollHeight,\n        clientWidth: element.clientWidth,\n        clientHeight: element.clientHeight,\n        scrollLeft: element.scrollLeft,\n        scrollTop: element.scrollTop\n      });\n    }\n\n    element = element.parentNode;\n  }\n\n  return domTreeShapes;\n}\n\n// We can only have one node at the time claiming ownership for handling the swipe.\n// Otherwise, the UX would be confusing.\n// That's why we use a singleton here.\nvar nodeHowClaimedTheScroll = null;\n\nfunction findNativeHandler(params) {\n  var domTreeShapes = params.domTreeShapes,\n      pageX = params.pageX,\n      startX = params.startX,\n      axis = params.axis;\n\n\n  return domTreeShapes.some(function (shape) {\n    // Determine if we are going backward or forward.\n    var goingForward = pageX >= startX;\n    if (axis === 'x' || axis === 'y') {\n      goingForward = !goingForward;\n    }\n\n    var scrollPosition = shape[axisProperties.scrollPosition[axis]];\n\n    var areNotAtStart = scrollPosition > 0;\n    var areNotAtEnd = scrollPosition + shape[axisProperties.clientLength[axis]] < shape[axisProperties.scrollLength[axis]];\n\n    if (goingForward && areNotAtEnd || !goingForward && areNotAtStart) {\n      nodeHowClaimedTheScroll = shape.element;\n      return true;\n    }\n\n    return false;\n  });\n}\n\nvar SwipeableViews = function (_Component) {\n  (0, _inherits3.default)(SwipeableViews, _Component);\n\n  function SwipeableViews() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, SwipeableViews);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SwipeableViews.__proto__ || (0, _getPrototypeOf2.default)(SwipeableViews)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      indexLatest: null,\n      // Set to true as soon as the component is swiping.\n      // It's the state counter part of this.isSwiping.\n      isDragging: false,\n      // Help with SSR logic and lazy loading logic.\n      isFirstRender: true,\n      heightLatest: 0,\n      // Let the render method that we are going to display the same slide than previously.\n      displaySameSlide: true\n    }, _this.rootNode = null, _this.containerNode = null, _this.ignoreNextScrollEvents = false, _this.viewLength = 0, _this.startX = 0, _this.lastX = 0, _this.vx = 0, _this.startY = 0, _this.isSwiping = undefined, _this.started = false, _this.startIndex = 0, _this.transitionListener = null, _this.touchMoveListener = null, _this.activeSlide = null, _this.indexCurrent = null, _this.handleSwipeStart = function (event) {\n      var axis = _this.props.axis;\n\n      // Latency and rapid rerenders on some devices can leave\n      // a period where rootNode briefly equals null.\n\n      if (_this.rootNode === null) {\n        return;\n      }\n\n      var touch = applyRotationMatrix(event.touches[0], axis);\n\n      _this.viewLength = _this.rootNode.getBoundingClientRect()[axisProperties.length[axis]];\n      _this.startX = touch.pageX;\n      _this.lastX = touch.pageX;\n      _this.vx = 0;\n      _this.startY = touch.pageY;\n      _this.isSwiping = undefined;\n      _this.started = true;\n\n      var computedStyle = window.getComputedStyle(_this.containerNode);\n      var transform = computedStyle.getPropertyValue('-webkit-transform') || computedStyle.getPropertyValue('transform');\n\n      if (transform && transform !== 'none') {\n        var transformValues = transform.split('(')[1].split(')')[0].split(',');\n        var rootStyle = window.getComputedStyle(_this.rootNode);\n\n        var tranformNormalized = applyRotationMatrix({\n          pageX: parseInt(transformValues[4], 10),\n          pageY: parseInt(transformValues[5], 10)\n        }, axis);\n\n        _this.startIndex = -tranformNormalized.pageX / (_this.viewLength - parseInt(rootStyle.paddingLeft, 10) - parseInt(rootStyle.paddingRight, 10));\n      }\n    }, _this.handleSwipeMove = function (event) {\n      // The touch start event can be cancel.\n      // Makes sure we set a starting point.\n      if (!_this.started) {\n        _this.handleTouchStart(event);\n        return;\n      }\n\n      // Latency and rapid rerenders on some devices\n      // can leave a period where rootNode briefly equals null.\n      if (_this.rootNode === null) {\n        return;\n      }\n\n      // We are not supposed to hanlde this touch move.\n      if (nodeHowClaimedTheScroll !== null && nodeHowClaimedTheScroll !== _this.rootNode) {\n        return;\n      }\n\n      var _this$props = _this.props,\n          axis = _this$props.axis,\n          children = _this$props.children,\n          ignoreNativeScroll = _this$props.ignoreNativeScroll,\n          onSwitching = _this$props.onSwitching,\n          resistance = _this$props.resistance;\n\n\n      var touch = applyRotationMatrix(event.touches[0], axis);\n\n      // We don't know yet.\n      if (_this.isSwiping === undefined) {\n        var dx = Math.abs(_this.startX - touch.pageX);\n        var dy = Math.abs(_this.startY - touch.pageY);\n\n        var isSwiping = dx > dy && dx > _reactSwipeableViewsCore.constant.UNCERTAINTY_THRESHOLD;\n\n        // We let the parent handle the scroll.\n        if (!resistance && (axis === 'y' || axis === 'y-reverse') && (_this.indexCurrent === 0 && _this.startX < touch.pageX || _this.indexCurrent === _react.Children.count(_this.props.children) - 1 && _this.startX > touch.pageX)) {\n          _this.isSwiping = false;\n          return;\n        }\n\n        // We are likely to be swiping, let's prevent the scroll event.\n        if (dx > dy) {\n          event.preventDefault();\n        }\n\n        if (isSwiping === true || dy > _reactSwipeableViewsCore.constant.UNCERTAINTY_THRESHOLD) {\n          _this.isSwiping = isSwiping;\n          _this.startX = touch.pageX; // Shift the starting point.\n\n          return; // Let's wait the next touch event to move something.\n        }\n      }\n\n      if (_this.isSwiping !== true) {\n        return;\n      }\n\n      // We are swiping, let's prevent the scroll event.\n      event.preventDefault();\n\n      // Low Pass filter.\n      _this.vx = _this.vx * 0.5 + (touch.pageX - _this.lastX) * 0.5;\n      _this.lastX = touch.pageX;\n\n      var _computeIndex = (0, _reactSwipeableViewsCore.computeIndex)({\n        children: children,\n        resistance: resistance,\n        pageX: touch.pageX,\n        startIndex: _this.startIndex,\n        startX: _this.startX,\n        viewLength: _this.viewLength\n      }),\n          index = _computeIndex.index,\n          startX = _computeIndex.startX;\n\n      // Add support for native scroll elements.\n\n\n      if (nodeHowClaimedTheScroll === null && !ignoreNativeScroll) {\n        var domTreeShapes = getDomTreeShapes(event.target, _this.rootNode);\n        var hasFoundNativeHandler = findNativeHandler({\n          domTreeShapes: domTreeShapes,\n          startX: _this.startX,\n          pageX: touch.pageX,\n          axis: axis\n        });\n\n        // We abort the touch move handler.\n        if (hasFoundNativeHandler) {\n          return;\n        }\n      }\n\n      // We are moving toward the edges.\n      if (startX) {\n        _this.startX = startX;\n      } else if (nodeHowClaimedTheScroll === null) {\n        nodeHowClaimedTheScroll = _this.rootNode;\n      }\n\n      _this.setIndexCurrent(index);\n\n      var callback = function callback() {\n        if (onSwitching) {\n          onSwitching(index, 'move');\n        }\n      };\n\n      if (_this.state.displaySameSlide || !_this.state.isDragging) {\n        _this.setState({\n          displaySameSlide: false,\n          isDragging: true\n        }, callback);\n      }\n\n      callback();\n    }, _this.handleSwipeEnd = function () {\n      nodeHowClaimedTheScroll = null;\n\n      // The touch start event can be cancel.\n      // Makes sure that a starting point is set.\n      if (!_this.started) {\n        return;\n      }\n\n      _this.started = false;\n\n      if (_this.isSwiping !== true) {\n        return;\n      }\n\n      var indexLatest = _this.state.indexLatest;\n      var indexCurrent = _this.indexCurrent;\n      var delta = indexLatest - indexCurrent;\n\n      var indexNew = void 0;\n\n      // Quick movement\n      if (Math.abs(_this.vx) > _this.props.threshold) {\n        if (_this.vx > 0) {\n          indexNew = Math.floor(indexCurrent);\n        } else {\n          indexNew = Math.ceil(indexCurrent);\n        }\n      } else if (Math.abs(delta) > _this.props.hysteresis) {\n        // Some hysteresis with indexLatest.\n        indexNew = delta > 0 ? Math.floor(indexCurrent) : Math.ceil(indexCurrent);\n      } else {\n        indexNew = indexLatest;\n      }\n\n      var indexMax = _react.Children.count(_this.props.children) - 1;\n\n      if (indexNew < 0) {\n        indexNew = 0;\n      } else if (indexNew > indexMax) {\n        indexNew = indexMax;\n      }\n\n      _this.setIndexCurrent(indexNew);\n      _this.setState({\n        indexLatest: indexNew,\n        isDragging: false\n      }, function () {\n        if (_this.props.onSwitching) {\n          _this.props.onSwitching(indexNew, 'end');\n        }\n\n        if (_this.props.onChangeIndex && indexNew !== indexLatest) {\n          _this.props.onChangeIndex(indexNew, indexLatest, {\n            reason: 'swipe'\n          });\n        }\n\n        // Manually calling handleTransitionEnd in that case as isn't otherwise.\n        if (indexCurrent === indexLatest) {\n          _this.handleTransitionEnd();\n        }\n      });\n    }, _this.handleTouchStart = function (event) {\n      if (_this.props.onTouchStart) {\n        _this.props.onTouchStart(event);\n      }\n      _this.handleSwipeStart(event);\n    }, _this.handleTouchEnd = function (event) {\n      if (_this.props.onTouchEnd) {\n        _this.props.onTouchEnd(event);\n      }\n      _this.handleSwipeEnd(event);\n    }, _this.handleMouseDown = function (event) {\n      if (_this.props.onMouseDown) {\n        _this.props.onMouseDown(event);\n      }\n      event.persist();\n      _this.handleSwipeStart(adaptMouse(event));\n    }, _this.handleMouseUp = function (event) {\n      if (_this.props.onMouseUp) {\n        _this.props.onMouseUp(event);\n      }\n      _this.handleSwipeEnd(adaptMouse(event));\n    }, _this.handleMouseLeave = function (event) {\n      if (_this.props.onMouseLeave) {\n        _this.props.onMouseLeave(event);\n      }\n\n      // Filter out events\n      if (_this.started) {\n        _this.handleSwipeEnd(adaptMouse(event));\n      }\n    }, _this.handleMouseMove = function (event) {\n      if (_this.props.onMouseMove) {\n        _this.props.onMouseMove(event);\n      }\n\n      // Filter out events\n      if (_this.started) {\n        _this.handleSwipeMove(adaptMouse(event));\n      }\n    }, _this.handleScroll = function (event) {\n      if (_this.props.onScroll) {\n        _this.props.onScroll(event);\n      }\n\n      // Ignore events bubbling up.\n      if (event.target !== _this.rootNode) {\n        return;\n      }\n\n      if (_this.ignoreNextScrollEvents) {\n        _this.ignoreNextScrollEvents = false;\n        return;\n      }\n\n      var indexLatest = _this.state.indexLatest;\n      var indexNew = Math.ceil(event.target.scrollLeft / event.target.clientWidth) + indexLatest;\n\n      _this.ignoreNextScrollEvents = true;\n      // Reset the scroll position.\n      event.target.scrollLeft = 0;\n\n      if (_this.props.onChangeIndex && indexNew !== indexLatest) {\n        _this.props.onChangeIndex(indexNew, indexLatest, {\n          reason: 'focus'\n        });\n      }\n    }, _this.updateHeight = function () {\n      if (_this.activeSlide !== null) {\n        var child = _this.activeSlide.children[0];\n        if (child !== undefined && child.offsetHeight !== undefined && _this.state.heightLatest !== child.offsetHeight) {\n          _this.setState({\n            heightLatest: child.offsetHeight\n          });\n        }\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(SwipeableViews, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      var _this2 = this;\n\n      return {\n        swipeableViews: {\n          slideUpdateHeight: function slideUpdateHeight() {\n            _this2.updateHeight();\n          }\n        }\n      };\n    }\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      if (process.env.NODE_ENV !== 'production') {\n        (0, _reactSwipeableViewsCore.checkIndexBounds)(this.props);\n      }\n\n      this.setIndexCurrent(this.props.index);\n      this.setState({\n        indexLatest: this.props.index\n      });\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      // Subscribe to transition end events.\n      this.transitionListener = addEventListenerEnhanced(this.containerNode, _properties2.default.end, function (event) {\n        if (event.target !== _this3.containerNode) {\n          return;\n        }\n\n        _this3.handleTransitionEnd();\n      });\n\n      // Block the thread to handle that event.\n      this.touchMoveListener = addEventListenerEnhanced(this.rootNode, 'touchmove', function (event) {\n        // Handling touch events is disabled.\n        if (_this3.props.disabled) {\n          return;\n        }\n        _this3.handleSwipeMove(event);\n      }, {\n        passive: false\n      });\n\n      // eslint-disable-next-line react/no-did-mount-set-state\n      this.setState({\n        isFirstRender: false\n      });\n\n      injectStyle();\n\n      // Send all functions in an object if action param is set.\n      if (this.props.action) {\n        this.props.action({\n          updateHeight: this.updateHeight\n        });\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var index = nextProps.index;\n\n\n      if (typeof index === 'number' && index !== this.props.index) {\n        if (process.env.NODE_ENV !== 'production') {\n          (0, _reactSwipeableViewsCore.checkIndexBounds)(nextProps);\n        }\n\n        this.setIndexCurrent(index);\n        this.setState({\n          // If true, we are going to change the children. We shoudn't animate it.\n          displaySameSlide: (0, _reactSwipeableViewsCore.getDisplaySameSlide)(this.props, nextProps),\n          indexLatest: index\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.transitionListener.remove();\n      this.touchMoveListener.remove();\n    }\n  }, {\n    key: 'setIndexCurrent',\n    value: function setIndexCurrent(indexCurrent) {\n      if (!this.props.animateTransitions && this.indexCurrent !== indexCurrent) {\n        this.handleTransitionEnd();\n      }\n\n      this.indexCurrent = indexCurrent;\n\n      if (this.containerNode) {\n        var axis = this.props.axis;\n\n        var transform = axisProperties.transform[axis](indexCurrent * 100);\n        this.containerNode.style.WebkitTransform = transform;\n        this.containerNode.style.transform = transform;\n      }\n    }\n  }, {\n    key: 'handleTransitionEnd',\n    value: function handleTransitionEnd() {\n      if (!this.props.onTransitionEnd) {\n        return;\n      }\n\n      // Filters out when changing the children\n      if (this.state.displaySameSlide) {\n        return;\n      }\n\n      // The rest callback is triggered when swiping. It's just noise.\n      // We filter it out.\n      if (!this.state.isDragging) {\n        this.props.onTransitionEnd();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props = this.props,\n          action = _props.action,\n          animateHeight = _props.animateHeight,\n          animateTransitions = _props.animateTransitions,\n          axis = _props.axis,\n          children = _props.children,\n          containerStyleProp = _props.containerStyle,\n          disabled = _props.disabled,\n          disableLazyLoading = _props.disableLazyLoading,\n          enableMouseEvents = _props.enableMouseEvents,\n          hysteresis = _props.hysteresis,\n          ignoreNativeScroll = _props.ignoreNativeScroll,\n          index = _props.index,\n          onChangeIndex = _props.onChangeIndex,\n          onSwitching = _props.onSwitching,\n          onTransitionEnd = _props.onTransitionEnd,\n          resistance = _props.resistance,\n          slideStyleProp = _props.slideStyle,\n          slideClassName = _props.slideClassName,\n          springConfig = _props.springConfig,\n          style = _props.style,\n          threshold = _props.threshold,\n          other = (0, _objectWithoutProperties3.default)(_props, ['action', 'animateHeight', 'animateTransitions', 'axis', 'children', 'containerStyle', 'disabled', 'disableLazyLoading', 'enableMouseEvents', 'hysteresis', 'ignoreNativeScroll', 'index', 'onChangeIndex', 'onSwitching', 'onTransitionEnd', 'resistance', 'slideStyle', 'slideClassName', 'springConfig', 'style', 'threshold']);\n      var _state = this.state,\n          displaySameSlide = _state.displaySameSlide,\n          heightLatest = _state.heightLatest,\n          isDragging = _state.isDragging,\n          isFirstRender = _state.isFirstRender,\n          indexLatest = _state.indexLatest;\n\n      var touchEvents = !disabled ? {\n        onTouchStart: this.handleTouchStart,\n        onTouchEnd: this.handleTouchEnd\n      } : {};\n      var mouseEvents = !disabled && enableMouseEvents ? {\n        onMouseDown: this.handleMouseDown,\n        onMouseUp: this.handleMouseUp,\n        onMouseLeave: this.handleMouseLeave,\n        onMouseMove: this.handleMouseMove\n      } : {};\n\n      // There is no point to animate if we are already providing a height.\n      process.env.NODE_ENV !== \"production\" ? (0, _warning2.default)(!animateHeight || !containerStyleProp || !containerStyleProp.height, 'react-swipeable-view: You are setting animateHeight to true but you are\\nalso providing a custom height.\\nThe custom height has a higher priority than the animateHeight property.\\nSo animateHeight is most likely having no effect at all.') : void 0;\n\n      var slideStyle = (0, _extends3.default)({}, styles.slide, slideStyleProp);\n\n      var transition = void 0;\n      var WebkitTransition = void 0;\n\n      if (isDragging || !animateTransitions || displaySameSlide) {\n        transition = 'all 0s ease 0s';\n        WebkitTransition = 'all 0s ease 0s';\n      } else {\n        transition = createTransition('transform', springConfig);\n        WebkitTransition = createTransition('-webkit-transform', springConfig);\n\n        if (heightLatest !== 0) {\n          var additionalTranstion = ', ' + createTransition('height', springConfig);\n          transition += additionalTranstion;\n          WebkitTransition += additionalTranstion;\n        }\n      }\n\n      var containerStyle = {\n        height: null,\n        WebkitFlexDirection: axisProperties.flexDirection[axis],\n        flexDirection: axisProperties.flexDirection[axis],\n        WebkitTransition: WebkitTransition,\n        transition: transition\n      };\n\n      // Apply the styles for SSR considerations\n      if (disableLazyLoading || !isFirstRender) {\n        var transform = axisProperties.transform[axis](this.indexCurrent * 100);\n        containerStyle.WebkitTransform = transform;\n        containerStyle.transform = transform;\n      }\n\n      if (animateHeight) {\n        containerStyle.height = heightLatest;\n      }\n\n      return _react2.default.createElement(\n        'div',\n        (0, _extends3.default)({\n          ref: function ref(node) {\n            _this4.rootNode = node;\n          },\n          style: (0, _extends3.default)({}, axisProperties.root[axis], style)\n        }, other, touchEvents, mouseEvents, {\n          onScroll: this.handleScroll\n        }),\n        _react2.default.createElement(\n          'div',\n          {\n            ref: function ref(node) {\n              _this4.containerNode = node;\n            },\n            style: (0, _extends3.default)({}, containerStyle, styles.container, containerStyleProp),\n            className: 'react-swipeable-view-container'\n          },\n          _react.Children.map(children, function (child, indexChild) {\n            if (!disableLazyLoading && isFirstRender && indexChild !== indexLatest) {\n              return null;\n            }\n\n            process.env.NODE_ENV !== \"production\" ? (0, _warning2.default)((0, _react.isValidElement)(child), 'react-swipeable-view: one of the children provided is invalid: ' + child + '.\\nWe are expecting a valid React Element') : void 0;\n\n            var ref = void 0;\n            var hidden = true;\n\n            if (indexChild === indexLatest) {\n              hidden = false;\n\n              if (animateHeight) {\n                ref = function ref(node) {\n                  _this4.activeSlide = node;\n                  _this4.updateHeight();\n                };\n                slideStyle.overflowY = 'hidden';\n              }\n            }\n\n            return _react2.default.createElement(\n              'div',\n              {\n                ref: ref,\n                style: slideStyle,\n                className: slideClassName,\n                'aria-hidden': hidden,\n                'data-swipeable': 'true'\n              },\n              child\n            );\n          })\n        )\n      );\n    }\n  }]);\n  return SwipeableViews;\n}(_react.Component);\n\n// Added as an ads for people using the React dev tools in production.\n// So they know, the tool used to build the awesome UI they\n// are looking at/retro engineering.\n\n\nSwipeableViews.displayName = 'ReactSwipableView';\n\nSwipeableViews.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * This is callback property. It's called by the component on mount.\n   * This is useful when you want to trigger an action programmatically.\n   * It currently only supports updateHeight() action.\n   *\n   * @param {object} actions This object contains all posible actions\n   * that can be triggered programmatically.\n   */\n  action: _propTypes2.default.func,\n  /**\n   * If `true`, the height of the container will be animated to match the current slide height.\n   * Animating another style property has a negative impact regarding performance.\n   */\n  animateHeight: _propTypes2.default.bool,\n  /**\n   * If `false`, changes to the index prop will not cause an animated transition.\n   */\n  animateTransitions: _propTypes2.default.bool,\n  /**\n   * The axis on which the slides will slide.\n   */\n  axis: _propTypes2.default.oneOf(['x', 'x-reverse', 'y', 'y-reverse']),\n  /**\n   * Use this property to provide your slides.\n   */\n  children: _propTypes2.default.node.isRequired,\n  /**\n   * This is the inlined style that will be applied\n   * to each slide container.\n   */\n  containerStyle: _propTypes2.default.object,\n  /**\n   * If `true`, it will disable touch events.\n   * This is useful when you want to prohibit the user from changing slides.\n   */\n  disabled: _propTypes2.default.bool,\n  /**\n   * This is the config used to disable lazyloding,\n   * if `true` will render all the views in first rendering.\n   */\n  disableLazyLoading: _propTypes2.default.bool,\n  /**\n   * If `true`, it will enable mouse events.\n   * This will allow the user to perform the relevant swipe actions with a mouse.\n   */\n  enableMouseEvents: _propTypes2.default.bool,\n  /**\n   * Configure hysteresis between slides. This value determines how far\n   * should user swipe to switch slide.\n   */\n  hysteresis: _propTypes2.default.number,\n  /**\n   * If `true`, it will ignore native scroll container.\n   * It can be used to filter out false positive that blocks the swipe.\n   */\n  ignoreNativeScroll: _propTypes2.default.bool,\n  /**\n   * This is the index of the slide to show.\n   * This is useful when you want to change the default slide shown.\n   * Or when you have tabs linked to each slide.\n   */\n  index: _propTypes2.default.number,\n  /**\n   * This is callback prop. It's call by the\n   * component when the shown slide change after a swipe made by the user.\n   * This is useful when you have tabs linked to each slide.\n   *\n   * @param {integer} index This is the current index of the slide.\n   * @param {integer} indexLatest This is the oldest index of the slide.\n   * @param {object} meta Meta data containing more information about the event.\n   */\n  onChangeIndex: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onMouseDown: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onMouseLeave: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onMouseMove: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onMouseUp: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onScroll: _propTypes2.default.func,\n  /**\n   * This is callback prop. It's called by the\n   * component when the slide switching.\n   * This is useful when you want to implement something corresponding\n   * to the current slide position.\n   *\n   * @param {integer} index This is the current index of the slide.\n   * @param {string} type Can be either `move` or `end`.\n   */\n  onSwitching: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onTouchEnd: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onTouchMove: _propTypes2.default.func,\n  /**\n   * @ignore\n   */\n  onTouchStart: _propTypes2.default.func,\n  /**\n   * The callback that fires when the animation comes to a rest.\n   * This is useful to defer CPU intensive task.\n   */\n  onTransitionEnd: _propTypes2.default.func,\n  /**\n   * If `true`, it will add bounds effect on the edges.\n   */\n  resistance: _propTypes2.default.bool,\n  /**\n   * This is the className that will be applied\n   * on the slide component.\n   */\n  slideClassName: _propTypes2.default.string,\n  /**\n   * This is the inlined style that will be applied\n   * on the slide component.\n   */\n  slideStyle: _propTypes2.default.object,\n  /**\n   * This is the config used to create CSS transitions.\n   * This is useful to change the dynamic of the transition.\n   */\n  springConfig: _propTypes2.default.shape({\n    duration: _propTypes2.default.string,\n    easeFunction: _propTypes2.default.string,\n    delay: _propTypes2.default.string\n  }),\n  /**\n   * This is the inlined style that will be applied\n   * on the root component.\n   */\n  style: _propTypes2.default.object,\n  /**\n   * This is the threshold used for detecting a quick swipe.\n   * If the computed speed is above this value, the index change.\n   */\n  threshold: _propTypes2.default.number\n} : {};\n\nSwipeableViews.defaultProps = {\n  animateHeight: false,\n  animateTransitions: true,\n  axis: 'x',\n  disabled: false,\n  disableLazyLoading: false,\n  enableMouseEvents: false,\n  hysteresis: 0.6,\n  ignoreNativeScroll: false,\n  index: 0,\n  threshold: 5,\n  springConfig: {\n    duration: '0.35s',\n    easeFunction: 'cubic-bezier(0.15, 0.3, 0.25, 1)',\n    delay: '0s'\n  },\n  resistance: false\n};\n\nSwipeableViews.childContextTypes = {\n  swipeableViews: _propTypes2.default.shape({\n    slideUpdateHeight: _propTypes2.default.func\n  })\n};\n\nexports.default = SwipeableViews;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-swipeable-views/lib/SwipeableViews.js","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/core-js/object/get-prototype-of.js","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/fn/object/get-prototype-of.js","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/es6.object.get-prototype-of.js","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/core-js/object/define-property.js","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/fn/object/define-property.js","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/es6.object.define-property.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _checkIndexBounds = require('./checkIndexBounds');\n\nObject.defineProperty(exports, 'checkIndexBounds', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_checkIndexBounds).default;\n  }\n});\n\nvar _computeIndex = require('./computeIndex');\n\nObject.defineProperty(exports, 'computeIndex', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_computeIndex).default;\n  }\n});\n\nvar _constant = require('./constant');\n\nObject.defineProperty(exports, 'constant', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_constant).default;\n  }\n});\n\nvar _getDisplaySameSlide = require('./getDisplaySameSlide');\n\nObject.defineProperty(exports, 'getDisplaySameSlide', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_getDisplaySameSlide).default;\n  }\n});\n\nvar _mod = require('./mod');\n\nObject.defineProperty(exports, 'mod', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_mod).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-swipeable-views-core/lib/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar checkIndexBounds = function checkIndexBounds(props) {\n  var index = props.index,\n      children = props.children;\n\n\n  var childrenCount = _react.Children.count(children);\n\n  process.env.NODE_ENV !== \"production\" ? (0, _warning2.default)(index >= 0 && index <= childrenCount, 'react-swipeable-view: the new index: ' + index + ' is out of bounds: [0-' + childrenCount + '].') : void 0;\n};\n\nexports.default = checkIndexBounds;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-swipeable-views-core/lib/checkIndexBounds.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = computeIndex;\n\nvar _react = require('react');\n\nvar _constant = require('./constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction computeIndex(params) {\n  var children = params.children,\n      startIndex = params.startIndex,\n      startX = params.startX,\n      pageX = params.pageX,\n      viewLength = params.viewLength,\n      resistance = params.resistance;\n\n\n  var indexMax = _react.Children.count(children) - 1;\n  var index = startIndex + (startX - pageX) / viewLength;\n  var newStartX = void 0;\n\n  if (!resistance) {\n    // Reset the starting point\n    if (index < 0) {\n      index = 0;\n      newStartX = (index - startIndex) * viewLength + pageX;\n    } else if (index > indexMax) {\n      index = indexMax;\n      newStartX = (index - startIndex) * viewLength + pageX;\n    }\n  } else if (index < 0) {\n    index = Math.exp(index * _constant2.default.RESISTANCE_COEF) - 1;\n  } else if (index > indexMax) {\n    index = indexMax + 1 - Math.exp((indexMax - index) * _constant2.default.RESISTANCE_COEF);\n  }\n\n  return {\n    index: index,\n    startX: newStartX\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-swipeable-views-core/lib/computeIndex.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar getDisplaySameSlide = function getDisplaySameSlide(props, nextProps) {\n  var displaySameSlide = false;\n\n  if (props.children.length && nextProps.children.length) {\n    var oldChildren = props.children[props.index];\n    var oldKey = oldChildren ? oldChildren.key : 'empty';\n\n    if (oldKey !== null) {\n      var newChildren = nextProps.children[nextProps.index];\n      var newKey = newChildren ? newChildren.key : 'empty';\n\n      if (oldKey === newKey) {\n        displaySameSlide = true;\n      }\n    }\n  }\n\n  return displaySameSlide;\n};\n\nexports.default = getDisplaySameSlide;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-swipeable-views-core/lib/getDisplaySameSlide.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// Extended version of % with negative integer support.\nfunction mod(n, m) {\n  var q = n % m;\n  return q < 0 ? q + m : q;\n}\n\nexports.default = mod;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-swipeable-views-core/lib/mod.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\nimport { fromJS } from 'immutable';\nimport { throttle } from 'lodash';\nimport classNames from 'classnames';\nimport { isFullscreen, requestFullscreen, exitFullscreen } from 'flavours/glitch/util/fullscreen';\nimport { displaySensitiveMedia } from 'flavours/glitch/util/initial_state';\n\nconst messages = defineMessages({\n  play: { id: 'video.play', defaultMessage: 'Play' },\n  pause: { id: 'video.pause', defaultMessage: 'Pause' },\n  mute: { id: 'video.mute', defaultMessage: 'Mute sound' },\n  unmute: { id: 'video.unmute', defaultMessage: 'Unmute sound' },\n  hide: { id: 'video.hide', defaultMessage: 'Hide video' },\n  expand: { id: 'video.expand', defaultMessage: 'Expand video' },\n  close: { id: 'video.close', defaultMessage: 'Close video' },\n  fullscreen: { id: 'video.fullscreen', defaultMessage: 'Full screen' },\n  exit_fullscreen: { id: 'video.exit_fullscreen', defaultMessage: 'Exit full screen' },\n});\n\nconst formatTime = secondsNum => {\n  let hours   = Math.floor(secondsNum / 3600);\n  let minutes = Math.floor((secondsNum - (hours * 3600)) / 60);\n  let seconds = secondsNum - (hours * 3600) - (minutes * 60);\n\n  if (hours   < 10) hours   = '0' + hours;\n  if (minutes < 10) minutes = '0' + minutes;\n  if (seconds < 10) seconds = '0' + seconds;\n  return (hours === '00' ? '' : `${hours}:`) + `${minutes}:${seconds}`;\n};\n\nexport const findElementPosition = el => {\n  let box;\n\n  if (el.getBoundingClientRect && el.parentNode) {\n    box = el.getBoundingClientRect();\n  }\n\n  if (!box) {\n    return {\n      left: 0,\n      top: 0,\n    };\n  }\n\n  const docEl = document.documentElement;\n  const body  = document.body;\n\n  const clientLeft = docEl.clientLeft || body.clientLeft || 0;\n  const scrollLeft = window.pageXOffset || body.scrollLeft;\n  const left       = (box.left + scrollLeft) - clientLeft;\n\n  const clientTop = docEl.clientTop || body.clientTop || 0;\n  const scrollTop = window.pageYOffset || body.scrollTop;\n  const top       = (box.top + scrollTop) - clientTop;\n\n  return {\n    left: Math.round(left),\n    top: Math.round(top),\n  };\n};\n\nexport const getPointerPosition = (el, event) => {\n  const position = {};\n  const box = findElementPosition(el);\n  const boxW = el.offsetWidth;\n  const boxH = el.offsetHeight;\n  const boxY = box.top;\n  const boxX = box.left;\n\n  let pageY = event.pageY;\n  let pageX = event.pageX;\n\n  if (event.changedTouches) {\n    pageX = event.changedTouches[0].pageX;\n    pageY = event.changedTouches[0].pageY;\n  }\n\n  position.y = Math.max(0, Math.min(1, (pageY - boxY) / boxH));\n  position.x = Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n\n  return position;\n};\n\n@injectIntl\nexport default class Video extends React.PureComponent {\n\n  static propTypes = {\n    preview: PropTypes.string,\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    sensitive: PropTypes.bool,\n    revealed: PropTypes.bool,\n    startTime: PropTypes.number,\n    onOpenVideo: PropTypes.func,\n    onCloseVideo: PropTypes.func,\n    letterbox: PropTypes.bool,\n    fullwidth: PropTypes.bool,\n    detailed: PropTypes.bool,\n    inline: PropTypes.bool,\n    intl: PropTypes.object.isRequired,\n  };\n\n  state = {\n    currentTime: 0,\n    duration: 0,\n    paused: true,\n    dragging: false,\n    containerWidth: false,\n    fullscreen: false,\n    hovered: false,\n    muted: false,\n    revealed: this.props.revealed === undefined ? (!this.props.sensitive || displaySensitiveMedia) : this.props.revealed,\n  };\n\n  setPlayerRef = c => {\n    this.player = c;\n\n    if (c) {\n      this.setState({\n        containerWidth: c.offsetWidth,\n      });\n    }\n  }\n\n  setVideoRef = c => {\n    this.video = c;\n  }\n\n  setSeekRef = c => {\n    this.seek = c;\n  }\n\n  handleClickRoot = e => e.stopPropagation();\n\n  handlePlay = () => {\n    this.setState({ paused: false });\n  }\n\n  handlePause = () => {\n    this.setState({ paused: true });\n  }\n\n  handleTimeUpdate = () => {\n    this.setState({\n      currentTime: Math.floor(this.video.currentTime),\n      duration: Math.floor(this.video.duration),\n    });\n  }\n\n  handleMouseDown = e => {\n    document.addEventListener('mousemove', this.handleMouseMove, true);\n    document.addEventListener('mouseup', this.handleMouseUp, true);\n    document.addEventListener('touchmove', this.handleMouseMove, true);\n    document.addEventListener('touchend', this.handleMouseUp, true);\n\n    this.setState({ dragging: true });\n    this.video.pause();\n    this.handleMouseMove(e);\n  }\n\n  handleMouseUp = () => {\n    document.removeEventListener('mousemove', this.handleMouseMove, true);\n    document.removeEventListener('mouseup', this.handleMouseUp, true);\n    document.removeEventListener('touchmove', this.handleMouseMove, true);\n    document.removeEventListener('touchend', this.handleMouseUp, true);\n\n    this.setState({ dragging: false });\n    this.video.play();\n  }\n\n  handleMouseMove = throttle(e => {\n    const { x } = getPointerPosition(this.seek, e);\n    const currentTime = Math.floor(this.video.duration * x);\n\n    this.video.currentTime = currentTime;\n    this.setState({ currentTime });\n  }, 60);\n\n  togglePlay = () => {\n    if (this.state.paused) {\n      this.video.play();\n    } else {\n      this.video.pause();\n    }\n  }\n\n  toggleFullscreen = () => {\n    if (isFullscreen()) {\n      exitFullscreen();\n    } else {\n      requestFullscreen(this.player);\n    }\n  }\n\n  componentDidMount () {\n    document.addEventListener('fullscreenchange', this.handleFullscreenChange, true);\n    document.addEventListener('webkitfullscreenchange', this.handleFullscreenChange, true);\n    document.addEventListener('mozfullscreenchange', this.handleFullscreenChange, true);\n    document.addEventListener('MSFullscreenChange', this.handleFullscreenChange, true);\n  }\n\n  componentWillUnmount () {\n    document.removeEventListener('fullscreenchange', this.handleFullscreenChange, true);\n    document.removeEventListener('webkitfullscreenchange', this.handleFullscreenChange, true);\n    document.removeEventListener('mozfullscreenchange', this.handleFullscreenChange, true);\n    document.removeEventListener('MSFullscreenChange', this.handleFullscreenChange, true);\n  }\n\n  handleFullscreenChange = () => {\n    this.setState({ fullscreen: isFullscreen() });\n  }\n\n  handleMouseEnter = () => {\n    this.setState({ hovered: true });\n  }\n\n  handleMouseLeave = () => {\n    this.setState({ hovered: false });\n  }\n\n  toggleMute = () => {\n    this.video.muted = !this.video.muted;\n    this.setState({ muted: this.video.muted });\n  }\n\n  toggleReveal = () => {\n    if (this.state.revealed) {\n      this.video.pause();\n    }\n\n    this.setState({ revealed: !this.state.revealed });\n  }\n\n  handleLoadedData = () => {\n    if (this.props.startTime) {\n      this.video.currentTime = this.props.startTime;\n      this.video.play();\n    }\n  }\n\n  handleProgress = () => {\n    if (this.video.buffered.length > 0) {\n      this.setState({ buffer: this.video.buffered.end(0) / this.video.duration * 100 });\n    }\n  }\n\n  handleOpenVideo = () => {\n    const { src, preview, width, height } = this.props;\n    const media = fromJS({\n      type: 'video',\n      url: src,\n      preview_url: preview,\n      width,\n      height,\n    });\n\n    this.video.pause();\n    this.props.onOpenVideo(media, this.video.currentTime);\n  }\n\n  handleCloseVideo = () => {\n    this.video.pause();\n    this.props.onCloseVideo();\n  }\n\n  render () {\n    const { preview, src, inline, startTime, onOpenVideo, onCloseVideo, intl, alt, letterbox, fullwidth, detailed, sensitive } = this.props;\n    const { containerWidth, currentTime, duration, buffer, dragging, paused, fullscreen, hovered, muted, revealed } = this.state;\n    const progress = (currentTime / duration) * 100;\n    const playerStyle = {};\n\n    let { width, height } = this.props;\n\n    if (inline && containerWidth) {\n      width  = containerWidth;\n      height = containerWidth / (16/9);\n\n      playerStyle.width  = width;\n      playerStyle.height = height;\n    }\n\n    let warning;\n    if (sensitive) {\n      warning = <FormattedMessage id='status.sensitive_warning' defaultMessage='Sensitive content' />;\n    } else {\n      warning = <FormattedMessage id='status.media_hidden' defaultMessage='Media hidden' />;\n    }\n\n    return (\n      <div\n        className={classNames('video-player', { inactive: !revealed, detailed, inline: inline && !fullscreen, fullscreen, letterbox, 'full-width': fullwidth })}\n        style={playerStyle}\n        ref={this.setPlayerRef}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n        onClick={this.handleClickRoot}\n        tabIndex={0}\n      >\n        <video\n          ref={this.setVideoRef}\n          src={src}\n          poster={preview}\n          preload={startTime ? 'auto' : 'none'}\n          loop\n          role='button'\n          tabIndex='0'\n          aria-label={alt}\n          width={width}\n          height={height}\n          onClick={this.togglePlay}\n          onPlay={this.handlePlay}\n          onPause={this.handlePause}\n          onTimeUpdate={this.handleTimeUpdate}\n          onLoadedData={this.handleLoadedData}\n          onProgress={this.handleProgress}\n        />\n\n        <button type='button' className={classNames('video-player__spoiler', { active: !revealed })} onClick={this.toggleReveal}>\n          <span className='video-player__spoiler__title'>{warning}</span>\n          <span className='video-player__spoiler__subtitle'><FormattedMessage id='status.sensitive_toggle' defaultMessage='Click to view' /></span>\n        </button>\n\n        <div className={classNames('video-player__controls', { active: paused || hovered })}>\n          <div className='video-player__seek' onMouseDown={this.handleMouseDown} ref={this.setSeekRef}>\n            <div className='video-player__seek__buffer' style={{ width: `${buffer}%` }} />\n            <div className='video-player__seek__progress' style={{ width: `${progress}%` }} />\n\n            <span\n              className={classNames('video-player__seek__handle', { active: dragging })}\n              tabIndex='0'\n              style={{ left: `${progress}%` }}\n            />\n          </div>\n\n          <div className='video-player__buttons-bar'>\n            <div className='video-player__buttons left'>\n              <button type='button' aria-label={intl.formatMessage(paused ? messages.play : messages.pause)} onClick={this.togglePlay}><i className={classNames('fa fa-fw', { 'fa-play': paused, 'fa-pause': !paused })} /></button>\n              <button type='button' aria-label={intl.formatMessage(muted ? messages.unmute : messages.mute)} onClick={this.toggleMute}><i className={classNames('fa fa-fw', { 'fa-volume-off': muted, 'fa-volume-up': !muted })} /></button>\n\n              {!onCloseVideo && <button type='button' aria-label={intl.formatMessage(messages.hide)} onClick={this.toggleReveal}><i className='fa fa-fw fa-eye' /></button>}\n\n              {(detailed || fullscreen) &&\n                <span>\n                  <span className='video-player__time-current'>{formatTime(currentTime)}</span>\n                  <span className='video-player__time-sep'>/</span>\n                  <span className='video-player__time-total'>{formatTime(duration)}</span>\n                </span>\n              }\n            </div>\n\n            <div className='video-player__buttons right'>\n              {(!fullscreen && onOpenVideo) && <button type='button' aria-label={intl.formatMessage(messages.expand)} onClick={this.handleOpenVideo}><i className='fa fa-fw fa-expand' /></button>}\n              {onCloseVideo && <button type='button' aria-label={intl.formatMessage(messages.close)} onClick={this.handleCloseVideo}><i className='fa fa-fw fa-compress' /></button>}\n              <button type='button' aria-label={intl.formatMessage(fullscreen ? messages.exit_fullscreen : messages.fullscreen)} onClick={this.toggleFullscreen}><i className={classNames('fa fa-fw', { 'fa-arrows-alt': !fullscreen, 'fa-compress': fullscreen })} /></button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/features/video/index.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport ZoomableImage from './zoomable_image';\n\nexport default class ImageLoader extends React.PureComponent {\n\n  static propTypes = {\n    alt: PropTypes.string,\n    src: PropTypes.string.isRequired,\n    previewSrc: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    onClick: PropTypes.func,\n  }\n\n  static defaultProps = {\n    alt: '',\n    width: null,\n    height: null,\n  };\n\n  state = {\n    loading: true,\n    error: false,\n  }\n\n  removers = [];\n  canvas = null;\n\n  get canvasContext() {\n    if (!this.canvas) {\n      return null;\n    }\n    this._canvasContext = this._canvasContext || this.canvas.getContext('2d');\n    return this._canvasContext;\n  }\n\n  componentDidMount () {\n    this.loadImage(this.props);\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (this.props.src !== nextProps.src) {\n      this.loadImage(nextProps);\n    }\n  }\n\n  componentWillUnmount () {\n    this.removeEventListeners();\n  }\n\n  loadImage (props) {\n    this.removeEventListeners();\n    this.setState({ loading: true, error: false });\n    Promise.all([\n      props.previewSrc && this.loadPreviewCanvas(props),\n      this.hasSize() && this.loadOriginalImage(props),\n    ].filter(Boolean))\n      .then(() => {\n        this.setState({ loading: false, error: false });\n        this.clearPreviewCanvas();\n      })\n      .catch(() => this.setState({ loading: false, error: true }));\n  }\n\n  loadPreviewCanvas = ({ previewSrc, width, height }) => new Promise((resolve, reject) => {\n    const image = new Image();\n    const removeEventListeners = () => {\n      image.removeEventListener('error', handleError);\n      image.removeEventListener('load', handleLoad);\n    };\n    const handleError = () => {\n      removeEventListeners();\n      reject();\n    };\n    const handleLoad = () => {\n      removeEventListeners();\n      this.canvasContext.drawImage(image, 0, 0, width, height);\n      resolve();\n    };\n    image.addEventListener('error', handleError);\n    image.addEventListener('load', handleLoad);\n    image.src = previewSrc;\n    this.removers.push(removeEventListeners);\n  })\n\n  clearPreviewCanvas () {\n    const { width, height } = this.canvas;\n    this.canvasContext.clearRect(0, 0, width, height);\n  }\n\n  loadOriginalImage = ({ src }) => new Promise((resolve, reject) => {\n    const image = new Image();\n    const removeEventListeners = () => {\n      image.removeEventListener('error', handleError);\n      image.removeEventListener('load', handleLoad);\n    };\n    const handleError = () => {\n      removeEventListeners();\n      reject();\n    };\n    const handleLoad = () => {\n      removeEventListeners();\n      resolve();\n    };\n    image.addEventListener('error', handleError);\n    image.addEventListener('load', handleLoad);\n    image.src = src;\n    this.removers.push(removeEventListeners);\n  });\n\n  removeEventListeners () {\n    this.removers.forEach(listeners => listeners());\n    this.removers = [];\n  }\n\n  hasSize () {\n    const { width, height } = this.props;\n    return typeof width === 'number' && typeof height === 'number';\n  }\n\n  setCanvasRef = c => {\n    this.canvas = c;\n  }\n\n  render () {\n    const { alt, src, width, height, onClick } = this.props;\n    const { loading } = this.state;\n\n    const className = classNames('image-loader', {\n      'image-loader--loading': loading,\n      'image-loader--amorphous': !this.hasSize(),\n    });\n\n    return (\n      <div className={className}>\n        {loading ? (\n          <canvas\n            className='image-loader__preview-canvas'\n            ref={this.setCanvasRef}\n            width={width}\n            height={height}\n          />\n        ) : (\n          <ZoomableImage\n            alt={alt}\n            src={src}\n            onClick={onClick}\n          />\n        )}\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/ui/components/image_loader.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/prop-types/index.js","const element = document.getElementById('initial-state');\nconst initialState = element && function () {\n  const result = JSON.parse(element.textContent);\n  try {\n    result.local_settings = JSON.parse(localStorage.getItem('mastodon-settings'));\n  } catch (e) {\n    result.local_settings = {};\n  }\n  return result;\n}();\n\nconst getMeta = (prop) => initialState && initialState.meta && initialState.meta[prop];\n\nexport const reduceMotion = getMeta('reduce_motion');\nexport const autoPlayGif = getMeta('auto_play_gif');\nexport const displaySensitiveMedia = getMeta('display_sensitive_media');\nexport const unfollowModal = getMeta('unfollow_modal');\nexport const boostModal = getMeta('boost_modal');\nexport const favouriteModal = getMeta('favourite_modal');\nexport const deleteModal = getMeta('delete_modal');\nexport const me = getMeta('me');\nexport const maxChars = (initialState && initialState.max_toot_chars) || 500;\n\nexport default initialState;\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/util/initial_state.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","// APIs for normalizing fullscreen operations. Note that Edge uses\n// the WebKit-prefixed APIs currently (as of Edge 16).\n\nexport const isFullscreen = () => document.fullscreenElement ||\n  document.webkitFullscreenElement ||\n  document.mozFullScreenElement;\n\nexport const exitFullscreen = () => {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  }\n};\n\nexport const requestFullscreen = el => {\n  if (el.requestFullscreen) {\n    el.requestFullscreen();\n  } else if (el.webkitRequestFullscreen) {\n    el.webkitRequestFullscreen();\n  } else if (el.mozRequestFullScreen) {\n    el.mozRequestFullScreen();\n  }\n};\n\nexport const attachFullscreenListener = (listener) => {\n  if ('onfullscreenchange' in document) {\n    document.addEventListener('fullscreenchange', listener);\n  } else if ('onwebkitfullscreenchange' in document) {\n    document.addEventListener('webkitfullscreenchange', listener);\n  } else if ('onmozfullscreenchange' in document) {\n    document.addEventListener('mozfullscreenchange', listener);\n  }\n};\n\nexport const detachFullscreenListener = (listener) => {\n  if ('onfullscreenchange' in document) {\n    document.removeEventListener('fullscreenchange', listener);\n  } else if ('onwebkitfullscreenchange' in document) {\n    document.removeEventListener('webkitfullscreenchange', listener);\n  } else if ('onmozfullscreenchange' in document) {\n    document.removeEventListener('mozfullscreenchange', listener);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/ui/util/fullscreen.js","// APIs for normalizing fullscreen operations. Note that Edge uses\n// the WebKit-prefixed APIs currently (as of Edge 16).\n\nexport const isFullscreen = () => document.fullscreenElement ||\n  document.webkitFullscreenElement ||\n  document.mozFullScreenElement;\n\nexport const exitFullscreen = () => {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  }\n};\n\nexport const requestFullscreen = el => {\n  if (el.requestFullscreen) {\n    el.requestFullscreen();\n  } else if (el.webkitRequestFullscreen) {\n    el.webkitRequestFullscreen();\n  } else if (el.mozRequestFullScreen) {\n    el.mozRequestFullScreen();\n  }\n};\n\nexport const attachFullscreenListener = (listener) => {\n  if ('onfullscreenchange' in document) {\n    document.addEventListener('fullscreenchange', listener);\n  } else if ('onwebkitfullscreenchange' in document) {\n    document.addEventListener('webkitfullscreenchange', listener);\n  } else if ('onmozfullscreenchange' in document) {\n    document.addEventListener('mozfullscreenchange', listener);\n  }\n};\n\nexport const detachFullscreenListener = (listener) => {\n  if ('onfullscreenchange' in document) {\n    document.removeEventListener('fullscreenchange', listener);\n  } else if ('onwebkitfullscreenchange' in document) {\n    document.removeEventListener('webkitfullscreenchange', listener);\n  } else if ('onmozfullscreenchange' in document) {\n    document.removeEventListener('mozfullscreenchange', listener);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/util/fullscreen.js","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Immutable = factory());\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^32−1.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      if (o !== o || o === Infinity) {\n        return 0;\n      }\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.of = function() {var keyValues = SLICE$0.call(arguments, 0);\n      return emptyMap().withMutations(function(map ) {\n        for (var i = 0; i < keyValues.length; i += 2) {\n          if (i + 1 >= keyValues.length) {\n            throw new Error('Missing value for key: ' + keyValues[i]);\n          }\n          map.set(keyValues[i], keyValues[i + 1]);\n        }\n      });\n    };\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      if (end === Infinity) {\n        end = originalSize;\n      } else {\n        end = end | 0;\n      }\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      if (this._map && !this._map.has(k)) {\n        var defaultVal = this._defaultValues[k];\n        if (v === defaultVal) {\n          return this;\n        }\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function(predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function() {\n      return Range(0, this.size);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n\n}));\n\n\n// WEBPACK FOOTER //\n// ./node_modules/immutable/dist/immutable.js","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/_baseGetTag.js","// Like react-motion's Motion, but reduces all animations to cross-fades\n// for the benefit of users with motion sickness.\nimport React from 'react';\nimport Motion from 'react-motion/lib/Motion';\nimport PropTypes from 'prop-types';\n\nconst stylesToKeep = ['opacity', 'backgroundOpacity'];\n\nconst extractValue = (value) => {\n  // This is either an object with a \"val\" property or it's a number\n  return (typeof value === 'object' && value && 'val' in value) ? value.val : value;\n};\n\nclass ReducedMotion extends React.Component {\n\n  static propTypes = {\n    defaultStyle: PropTypes.object,\n    style: PropTypes.object,\n    children: PropTypes.func,\n  }\n\n  render() {\n\n    const { style, defaultStyle, children } = this.props;\n\n    Object.keys(style).forEach(key => {\n      if (stylesToKeep.includes(key)) {\n        return;\n      }\n      // If it's setting an x or height or scale or some other value, we need\n      // to preserve the end-state value without actually animating it\n      style[key] = defaultStyle[key] = extractValue(style[key]);\n    });\n\n    return (\n      <Motion style={style} defaultStyle={defaultStyle}>\n        {children}\n      </Motion>\n    );\n  }\n\n}\n\nexport default ReducedMotion;\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/util/reduced_motion.js","// Like react-motion's Motion, but reduces all animations to cross-fades\n// for the benefit of users with motion sickness.\nimport React from 'react';\nimport Motion from 'react-motion/lib/Motion';\nimport PropTypes from 'prop-types';\n\nconst stylesToKeep = ['opacity', 'backgroundOpacity'];\n\nconst extractValue = (value) => {\n  // This is either an object with a \"val\" property or it's a number\n  return (typeof value === 'object' && value && 'val' in value) ? value.val : value;\n};\n\nclass ReducedMotion extends React.Component {\n\n  static propTypes = {\n    defaultStyle: PropTypes.object,\n    style: PropTypes.object,\n    children: PropTypes.func,\n  }\n\n  render() {\n\n    const { style, defaultStyle, children } = this.props;\n\n    Object.keys(style).forEach(key => {\n      if (stylesToKeep.includes(key)) {\n        return;\n      }\n      // If it's setting an x or height or scale or some other value, we need\n      // to preserve the end-state value without actually animating it\n      style[key] = defaultStyle[key] = extractValue(style[key]);\n    });\n\n    return (\n      <Motion style={style} defaultStyle={defaultStyle}>\n        {children}\n      </Motion>\n    );\n  }\n\n}\n\nexport default ReducedMotion;\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/ui/util/reduced_motion.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class ModalRoot extends React.PureComponent {\n\n  static propTypes = {\n    children: PropTypes.node,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  state = {\n    revealed: !!this.props.children,\n  };\n\n  activeElement = this.state.revealed ? document.activeElement : null;\n\n  handleKeyUp = (e) => {\n    if ((e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27)\n         && !!this.props.children) {\n      this.props.onClose();\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('keyup', this.handleKeyUp, false);\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (!!nextProps.children && !this.props.children) {\n      this.activeElement = document.activeElement;\n\n      this.getSiblings().forEach(sibling => sibling.setAttribute('inert', true));\n    } else if (!nextProps.children) {\n      this.setState({ revealed: false });\n    }\n  }\n\n  componentDidUpdate (prevProps) {\n    if (!this.props.children && !!prevProps.children) {\n      this.getSiblings().forEach(sibling => sibling.removeAttribute('inert'));\n      this.activeElement.focus();\n      this.activeElement = null;\n    }\n    if (this.props.children) {\n      requestAnimationFrame(() => {\n        this.setState({ revealed: true });\n      });\n    }\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  getSiblings = () => {\n    return Array(...this.node.parentElement.childNodes).filter(node => node !== this.node);\n  }\n\n  setRef = ref => {\n    this.node = ref;\n  }\n\n  render () {\n    const { children, onClose } = this.props;\n    const { revealed } = this.state;\n    const visible = !!children;\n\n    if (!visible) {\n      return (\n        <div className='modal-root' ref={this.setRef} style={{ opacity: 0 }} />\n      );\n    }\n\n    return (\n      <div className='modal-root' ref={this.setRef} style={{ opacity: revealed ? 1 : 0 }}>\n        <div style={{ pointerEvents: visible ? 'auto' : 'none' }}>\n          <div role='presentation' className='modal-root__overlay' onClick={onClose} />\n          <div role='dialog' className='modal-root__container'>{children}</div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/components/modal_root.js","import React from 'react';\nimport ReactSwipeableViews from 'react-swipeable-views';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport Video from '../../video';\nimport ExtendedVideoPlayer from '../../../components/extended_video_player';\nimport classNames from 'classnames';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport IconButton from '../../../components/icon_button';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport ImageLoader from './image_loader';\n\nconst messages = defineMessages({\n  close: { id: 'lightbox.close', defaultMessage: 'Close' },\n  previous: { id: 'lightbox.previous', defaultMessage: 'Previous' },\n  next: { id: 'lightbox.next', defaultMessage: 'Next' },\n});\n\n@injectIntl\nexport default class MediaModal extends ImmutablePureComponent {\n\n  static propTypes = {\n    media: ImmutablePropTypes.list.isRequired,\n    index: PropTypes.number.isRequired,\n    onClose: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n  };\n\n  state = {\n    index: null,\n    navigationHidden: false,\n  };\n\n  handleSwipe = (index) => {\n    this.setState({ index: index % this.props.media.size });\n  }\n\n  handleNextClick = () => {\n    this.setState({ index: (this.getIndex() + 1) % this.props.media.size });\n  }\n\n  handlePrevClick = () => {\n    this.setState({ index: (this.props.media.size + this.getIndex() - 1) % this.props.media.size });\n  }\n\n  handleChangeIndex = (e) => {\n    const index = Number(e.currentTarget.getAttribute('data-index'));\n    this.setState({ index: index % this.props.media.size });\n  }\n\n  handleKeyUp = (e) => {\n    switch(e.key) {\n    case 'ArrowLeft':\n      this.handlePrevClick();\n      break;\n    case 'ArrowRight':\n      this.handleNextClick();\n      break;\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('keyup', this.handleKeyUp, false);\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  getIndex () {\n    return this.state.index !== null ? this.state.index : this.props.index;\n  }\n\n  toggleNavigation = () => {\n    this.setState(prevState => ({\n      navigationHidden: !prevState.navigationHidden,\n    }));\n  };\n\n  render () {\n    const { media, intl, onClose } = this.props;\n    const { navigationHidden } = this.state;\n\n    const index = this.getIndex();\n    let pagination = [];\n\n    const leftNav  = media.size > 1 && <button tabIndex='0' className='media-modal__nav media-modal__nav--left' onClick={this.handlePrevClick} aria-label={intl.formatMessage(messages.previous)}><i className='fa fa-fw fa-chevron-left' /></button>;\n    const rightNav = media.size > 1 && <button tabIndex='0' className='media-modal__nav  media-modal__nav--right' onClick={this.handleNextClick} aria-label={intl.formatMessage(messages.next)}><i className='fa fa-fw fa-chevron-right' /></button>;\n\n    if (media.size > 1) {\n      pagination = media.map((item, i) => {\n        const classes = ['media-modal__button'];\n        if (i === index) {\n          classes.push('media-modal__button--active');\n        }\n        return (<li className='media-modal__page-dot' key={i}><button tabIndex='0' className={classes.join(' ')} onClick={this.handleChangeIndex} data-index={i}>{i + 1}</button></li>);\n      });\n    }\n\n    const content = media.map((image) => {\n      const width  = image.getIn(['meta', 'original', 'width']) || null;\n      const height = image.getIn(['meta', 'original', 'height']) || null;\n\n      if (image.get('type') === 'image') {\n        return (\n          <ImageLoader\n            previewSrc={image.get('preview_url')}\n            src={image.get('url')}\n            width={width}\n            height={height}\n            alt={image.get('description')}\n            key={image.get('url')}\n            onClick={this.toggleNavigation}\n          />\n        );\n      } else if (image.get('type') === 'video') {\n        const { time } = this.props;\n\n        return (\n          <Video\n            preview={image.get('preview_url')}\n            src={image.get('url')}\n            width={image.get('width')}\n            height={image.get('height')}\n            startTime={time || 0}\n            onCloseVideo={onClose}\n            detailed\n            description={image.get('description')}\n            key={image.get('url')}\n          />\n        );\n      } else if (image.get('type') === 'gifv') {\n        return (\n          <ExtendedVideoPlayer\n            src={image.get('url')}\n            muted\n            controls={false}\n            width={width}\n            height={height}\n            key={image.get('preview_url')}\n            alt={image.get('description')}\n            onClick={this.toggleNavigation}\n          />\n        );\n      }\n\n      return null;\n    }).toArray();\n\n    // you can't use 100vh, because the viewport height is taller\n    // than the visible part of the document in some mobile\n    // browsers when it's address bar is visible.\n    // https://developers.google.com/web/updates/2016/12/url-bar-resizing\n    const swipeableViewsStyle = {\n      width: '100%',\n      height: '100%',\n    };\n\n    const containerStyle = {\n      alignItems: 'center', // center vertically\n    };\n\n    const navigationClassName = classNames('media-modal__navigation', {\n      'media-modal__navigation--hidden': navigationHidden,\n    });\n\n    return (\n      <div className='modal-root__modal media-modal'>\n        <div\n          className='media-modal__closer'\n          role='presentation'\n          onClick={onClose}\n        >\n          <ReactSwipeableViews\n            style={swipeableViewsStyle}\n            containerStyle={containerStyle}\n            onChangeIndex={this.handleSwipe}\n            onSwitching={this.handleSwitching}\n            index={index}\n          >\n            {content}\n          </ReactSwipeableViews>\n        </div>\n        <div className={navigationClassName}>\n          <IconButton className='media-modal__close' title={intl.formatMessage(messages.close)} icon='times' onClick={onClose} size={40} />\n          {leftNav}\n          {rightNav}\n          <ul className='media-modal__pagination'>\n            {pagination}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/ui/components/media_modal.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class ExtendedVideoPlayer extends React.PureComponent {\n\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    time: PropTypes.number,\n    controls: PropTypes.bool.isRequired,\n    muted: PropTypes.bool.isRequired,\n    onClick: PropTypes.func,\n  };\n\n  handleLoadedData = () => {\n    if (this.props.time) {\n      this.video.currentTime = this.props.time;\n    }\n  }\n\n  componentDidMount () {\n    this.video.addEventListener('loadeddata', this.handleLoadedData);\n  }\n\n  componentWillUnmount () {\n    this.video.removeEventListener('loadeddata', this.handleLoadedData);\n  }\n\n  setRef = (c) => {\n    this.video = c;\n  }\n\n  handleClick = e => {\n    e.stopPropagation();\n    const handler = this.props.onClick;\n    if (handler) handler();\n  }\n\n  render () {\n    const { src, muted, controls, alt } = this.props;\n\n    return (\n      <div className='extended-video-player'>\n        <video\n          ref={this.setRef}\n          src={src}\n          autoPlay\n          role='button'\n          tabIndex='0'\n          aria-label={alt}\n          muted={muted}\n          controls={controls}\n          loop={!controls}\n          onClick={this.handleClick}\n        />\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/components/extended_video_player.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MIN_SCALE = 1;\nconst MAX_SCALE = 4;\n\nconst getMidpoint = (p1, p2) => ({\n  x: (p1.clientX + p2.clientX) / 2,\n  y: (p1.clientY + p2.clientY) / 2,\n});\n\nconst getDistance = (p1, p2) =>\n  Math.sqrt(Math.pow(p1.clientX - p2.clientX, 2) + Math.pow(p1.clientY - p2.clientY, 2));\n\nconst clamp = (min, max, value) => Math.min(max, Math.max(min, value));\n\nexport default class ZoomableImage extends React.PureComponent {\n\n  static propTypes = {\n    alt: PropTypes.string,\n    src: PropTypes.string.isRequired,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    onClick: PropTypes.func,\n  }\n\n  static defaultProps = {\n    alt: '',\n    width: null,\n    height: null,\n  };\n\n  state = {\n    scale: MIN_SCALE,\n  }\n\n  removers = [];\n  container = null;\n  image = null;\n  lastTouchEndTime = 0;\n  lastDistance = 0;\n\n  componentDidMount () {\n    let handler = this.handleTouchStart;\n    this.container.addEventListener('touchstart', handler);\n    this.removers.push(() => this.container.removeEventListener('touchstart', handler));\n    handler = this.handleTouchMove;\n    // on Chrome 56+, touch event listeners will default to passive\n    // https://www.chromestatus.com/features/5093566007214080\n    this.container.addEventListener('touchmove', handler, { passive: false });\n    this.removers.push(() => this.container.removeEventListener('touchend', handler));\n  }\n\n  componentWillUnmount () {\n    this.removeEventListeners();\n  }\n\n  removeEventListeners () {\n    this.removers.forEach(listeners => listeners());\n    this.removers = [];\n  }\n\n  handleTouchStart = e => {\n    if (e.touches.length !== 2) return;\n\n    this.lastDistance = getDistance(...e.touches);\n  }\n\n  handleTouchMove = e => {\n    const { scrollTop, scrollHeight, clientHeight } = this.container;\n    if (e.touches.length === 1 && scrollTop !== scrollHeight - clientHeight) {\n      // prevent propagating event to MediaModal\n      e.stopPropagation();\n      return;\n    }\n    if (e.touches.length !== 2) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const distance = getDistance(...e.touches);\n    const midpoint = getMidpoint(...e.touches);\n    const scale = clamp(MIN_SCALE, MAX_SCALE, this.state.scale * distance / this.lastDistance);\n\n    this.zoom(scale, midpoint);\n\n    this.lastMidpoint = midpoint;\n    this.lastDistance = distance;\n  }\n\n  zoom(nextScale, midpoint) {\n    const { scale } = this.state;\n    const { scrollLeft, scrollTop } = this.container;\n\n    // math memo:\n    // x = (scrollLeft + midpoint.x) / scrollWidth\n    // x' = (nextScrollLeft + midpoint.x) / nextScrollWidth\n    // scrollWidth = clientWidth * scale\n    // scrollWidth' = clientWidth * nextScale\n    // Solve x = x' for nextScrollLeft\n    const nextScrollLeft = (scrollLeft + midpoint.x) * nextScale / scale - midpoint.x;\n    const nextScrollTop = (scrollTop + midpoint.y) * nextScale / scale - midpoint.y;\n\n    this.setState({ scale: nextScale }, () => {\n      this.container.scrollLeft = nextScrollLeft;\n      this.container.scrollTop = nextScrollTop;\n    });\n  }\n\n  handleClick = e => {\n    // don't propagate event to MediaModal\n    e.stopPropagation();\n    const handler = this.props.onClick;\n    if (handler) handler();\n  }\n\n  setContainerRef = c => {\n    this.container = c;\n  }\n\n  setImageRef = c => {\n    this.image = c;\n  }\n\n  render () {\n    const { alt, src } = this.props;\n    const { scale } = this.state;\n    const overflow = scale === 1 ? 'hidden' : 'scroll';\n\n    return (\n      <div\n        className='zoomable-image'\n        ref={this.setContainerRef}\n        style={{ overflow }}\n      >\n        <img\n          role='presentation'\n          ref={this.setImageRef}\n          alt={alt}\n          src={src}\n          style={{\n            transform: `scale(${scale})`,\n            transformOrigin: '0 0',\n          }}\n          onClick={this.handleClick}\n        />\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/ui/components/zoomable_image.js","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/isObjectLike.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/helpers/extends.js","/*\n * Copyright 2017, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nimport allLocaleData from '../locale-data/index.js';\nimport IntlMessageFormat from 'intl-messageformat';\nimport IntlRelativeFormat from 'intl-relativeformat';\nimport PropTypes from 'prop-types';\nimport React, { Children, Component, createElement, isValidElement } from 'react';\nimport invariant from 'invariant';\nimport memoizeIntlConstructor from 'intl-format-cache';\n\n// GENERATED FILE\nvar defaultLocaleData = { \"locale\": \"en\", \"pluralRuleFunction\": function pluralRuleFunction(n, ord) {\n    var s = String(n).split(\".\"),\n        v0 = !s[1],\n        t0 = Number(s[0]) == n,\n        n10 = t0 && s[0].slice(-1),\n        n100 = t0 && s[0].slice(-2);if (ord) return n10 == 1 && n100 != 11 ? \"one\" : n10 == 2 && n100 != 12 ? \"two\" : n10 == 3 && n100 != 13 ? \"few\" : \"other\";return n == 1 && v0 ? \"one\" : \"other\";\n  }, \"fields\": { \"year\": { \"displayName\": \"year\", \"relative\": { \"0\": \"this year\", \"1\": \"next year\", \"-1\": \"last year\" }, \"relativeTime\": { \"future\": { \"one\": \"in {0} year\", \"other\": \"in {0} years\" }, \"past\": { \"one\": \"{0} year ago\", \"other\": \"{0} years ago\" } } }, \"month\": { \"displayName\": \"month\", \"relative\": { \"0\": \"this month\", \"1\": \"next month\", \"-1\": \"last month\" }, \"relativeTime\": { \"future\": { \"one\": \"in {0} month\", \"other\": \"in {0} months\" }, \"past\": { \"one\": \"{0} month ago\", \"other\": \"{0} months ago\" } } }, \"day\": { \"displayName\": \"day\", \"relative\": { \"0\": \"today\", \"1\": \"tomorrow\", \"-1\": \"yesterday\" }, \"relativeTime\": { \"future\": { \"one\": \"in {0} day\", \"other\": \"in {0} days\" }, \"past\": { \"one\": \"{0} day ago\", \"other\": \"{0} days ago\" } } }, \"hour\": { \"displayName\": \"hour\", \"relative\": { \"0\": \"this hour\" }, \"relativeTime\": { \"future\": { \"one\": \"in {0} hour\", \"other\": \"in {0} hours\" }, \"past\": { \"one\": \"{0} hour ago\", \"other\": \"{0} hours ago\" } } }, \"minute\": { \"displayName\": \"minute\", \"relative\": { \"0\": \"this minute\" }, \"relativeTime\": { \"future\": { \"one\": \"in {0} minute\", \"other\": \"in {0} minutes\" }, \"past\": { \"one\": \"{0} minute ago\", \"other\": \"{0} minutes ago\" } } }, \"second\": { \"displayName\": \"second\", \"relative\": { \"0\": \"now\" }, \"relativeTime\": { \"future\": { \"one\": \"in {0} second\", \"other\": \"in {0} seconds\" }, \"past\": { \"one\": \"{0} second ago\", \"other\": \"{0} seconds ago\" } } } } };\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nfunction addLocaleData() {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var locales = Array.isArray(data) ? data : [data];\n\n  locales.forEach(function (localeData) {\n    if (localeData && localeData.locale) {\n      IntlMessageFormat.__addLocaleData(localeData);\n      IntlRelativeFormat.__addLocaleData(localeData);\n    }\n  });\n}\n\nfunction hasLocaleData(locale) {\n  var localeParts = (locale || '').split('-');\n\n  while (localeParts.length > 0) {\n    if (hasIMFAndIRFLocaleData(localeParts.join('-'))) {\n      return true;\n    }\n\n    localeParts.pop();\n  }\n\n  return false;\n}\n\nfunction hasIMFAndIRFLocaleData(locale) {\n  var normalizedLocale = locale && locale.toLowerCase();\n\n  return !!(IntlMessageFormat.__localeData__[normalizedLocale] && IntlRelativeFormat.__localeData__[normalizedLocale]);\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar bool = PropTypes.bool;\nvar number = PropTypes.number;\nvar string = PropTypes.string;\nvar func = PropTypes.func;\nvar object = PropTypes.object;\nvar oneOf = PropTypes.oneOf;\nvar shape = PropTypes.shape;\nvar any = PropTypes.any;\nvar oneOfType = PropTypes.oneOfType;\n\nvar localeMatcher = oneOf(['best fit', 'lookup']);\nvar narrowShortLong = oneOf(['narrow', 'short', 'long']);\nvar numeric2digit = oneOf(['numeric', '2-digit']);\nvar funcReq = func.isRequired;\n\nvar intlConfigPropTypes = {\n  locale: string,\n  formats: object,\n  messages: object,\n  textComponent: any,\n\n  defaultLocale: string,\n  defaultFormats: object\n};\n\nvar intlFormatPropTypes = {\n  formatDate: funcReq,\n  formatTime: funcReq,\n  formatRelative: funcReq,\n  formatNumber: funcReq,\n  formatPlural: funcReq,\n  formatMessage: funcReq,\n  formatHTMLMessage: funcReq\n};\n\nvar intlShape = shape(_extends({}, intlConfigPropTypes, intlFormatPropTypes, {\n  formatters: object,\n  now: funcReq\n}));\n\nvar messageDescriptorPropTypes = {\n  id: string.isRequired,\n  description: oneOfType([string, object]),\n  defaultMessage: string\n};\n\nvar dateTimeFormatPropTypes = {\n  localeMatcher: localeMatcher,\n  formatMatcher: oneOf(['basic', 'best fit']),\n\n  timeZone: string,\n  hour12: bool,\n\n  weekday: narrowShortLong,\n  era: narrowShortLong,\n  year: numeric2digit,\n  month: oneOf(['numeric', '2-digit', 'narrow', 'short', 'long']),\n  day: numeric2digit,\n  hour: numeric2digit,\n  minute: numeric2digit,\n  second: numeric2digit,\n  timeZoneName: oneOf(['short', 'long'])\n};\n\nvar numberFormatPropTypes = {\n  localeMatcher: localeMatcher,\n\n  style: oneOf(['decimal', 'currency', 'percent']),\n  currency: string,\n  currencyDisplay: oneOf(['symbol', 'code', 'name']),\n  useGrouping: bool,\n\n  minimumIntegerDigits: number,\n  minimumFractionDigits: number,\n  maximumFractionDigits: number,\n  minimumSignificantDigits: number,\n  maximumSignificantDigits: number\n};\n\nvar relativeFormatPropTypes = {\n  style: oneOf(['best fit', 'numeric']),\n  units: oneOf(['second', 'minute', 'hour', 'day', 'month', 'year'])\n};\n\nvar pluralFormatPropTypes = {\n  style: oneOf(['cardinal', 'ordinal'])\n};\n\n/*\nHTML escaping and shallow-equals implementations are the same as React's\n(on purpose.) Therefore, it has the following Copyright and Licensing:\n\nCopyright 2013-2014, Facebook, Inc.\nAll rights reserved.\n\nThis source code is licensed under the BSD-style license found in the LICENSE\nfile in the root directory of React's source tree.\n*/\n\nvar intlConfigPropNames = Object.keys(intlConfigPropTypes);\n\nvar ESCAPED_CHARS = {\n  '&': '&amp;',\n  '>': '&gt;',\n  '<': '&lt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;'\n};\n\nvar UNSAFE_CHARS_REGEX = /[&><\"']/g;\n\nfunction escape(str) {\n  return ('' + str).replace(UNSAFE_CHARS_REGEX, function (match) {\n    return ESCAPED_CHARS[match];\n  });\n}\n\nfunction filterProps(props, whitelist) {\n  var defaults$$1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  return whitelist.reduce(function (filtered, name) {\n    if (props.hasOwnProperty(name)) {\n      filtered[name] = props[name];\n    } else if (defaults$$1.hasOwnProperty(name)) {\n      filtered[name] = defaults$$1[name];\n    }\n\n    return filtered;\n  }, {});\n}\n\nfunction invariantIntlContext() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      intl = _ref.intl;\n\n  invariant(intl, '[React Intl] Could not find required `intl` object. ' + '<IntlProvider> needs to exist in the component ancestry.');\n}\n\nfunction shallowEquals(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  if ((typeof objA === 'undefined' ? 'undefined' : _typeof(objA)) !== 'object' || objA === null || (typeof objB === 'undefined' ? 'undefined' : _typeof(objB)) !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n  for (var i = 0; i < keysA.length; i++) {\n    if (!bHasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction shouldIntlComponentUpdate(_ref2, nextProps, nextState) {\n  var props = _ref2.props,\n      state = _ref2.state,\n      _ref2$context = _ref2.context,\n      context = _ref2$context === undefined ? {} : _ref2$context;\n  var nextContext = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var _context$intl = context.intl,\n      intl = _context$intl === undefined ? {} : _context$intl;\n  var _nextContext$intl = nextContext.intl,\n      nextIntl = _nextContext$intl === undefined ? {} : _nextContext$intl;\n\n\n  return !shallowEquals(nextProps, props) || !shallowEquals(nextState, state) || !(nextIntl === intl || shallowEquals(filterProps(nextIntl, intlConfigPropNames), filterProps(intl, intlConfigPropNames)));\n}\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\n// Inspired by react-redux's `connect()` HOC factory function implementation:\n// https://github.com/rackt/react-redux\n\nfunction getDisplayName(Component$$1) {\n  return Component$$1.displayName || Component$$1.name || 'Component';\n}\n\nfunction injectIntl(WrappedComponent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$intlPropName = options.intlPropName,\n      intlPropName = _options$intlPropName === undefined ? 'intl' : _options$intlPropName,\n      _options$withRef = options.withRef,\n      withRef = _options$withRef === undefined ? false : _options$withRef;\n\n  var InjectIntl = function (_Component) {\n    inherits(InjectIntl, _Component);\n\n    function InjectIntl(props, context) {\n      classCallCheck(this, InjectIntl);\n\n      var _this = possibleConstructorReturn(this, (InjectIntl.__proto__ || Object.getPrototypeOf(InjectIntl)).call(this, props, context));\n\n      invariantIntlContext(context);\n      return _this;\n    }\n\n    createClass(InjectIntl, [{\n      key: 'getWrappedInstance',\n      value: function getWrappedInstance() {\n        invariant(withRef, '[React Intl] To access the wrapped instance, ' + 'the `{withRef: true}` option must be set when calling: ' + '`injectIntl()`');\n\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return React.createElement(WrappedComponent, _extends({}, this.props, defineProperty({}, intlPropName, this.context.intl), {\n          ref: withRef ? 'wrappedInstance' : null\n        }));\n      }\n    }]);\n    return InjectIntl;\n  }(Component);\n\n  InjectIntl.displayName = 'InjectIntl(' + getDisplayName(WrappedComponent) + ')';\n  InjectIntl.contextTypes = {\n    intl: intlShape\n  };\n  InjectIntl.WrappedComponent = WrappedComponent;\n\n\n  return InjectIntl;\n}\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nfunction defineMessages(messageDescriptors) {\n  // This simply returns what's passed-in because it's meant to be a hook for\n  // babel-plugin-react-intl.\n  return messageDescriptors;\n}\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\n// This is a \"hack\" until a proper `intl-pluralformat` package is created.\n\nfunction resolveLocale(locales) {\n  // IntlMessageFormat#_resolveLocale() does not depend on `this`.\n  return IntlMessageFormat.prototype._resolveLocale(locales);\n}\n\nfunction findPluralFunction(locale) {\n  // IntlMessageFormat#_findPluralFunction() does not depend on `this`.\n  return IntlMessageFormat.prototype._findPluralRuleFunction(locale);\n}\n\nvar IntlPluralFormat = function IntlPluralFormat(locales) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  classCallCheck(this, IntlPluralFormat);\n\n  var useOrdinal = options.style === 'ordinal';\n  var pluralFn = findPluralFunction(resolveLocale(locales));\n\n  this.format = function (value) {\n    return pluralFn(value, useOrdinal);\n  };\n};\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar DATE_TIME_FORMAT_OPTIONS = Object.keys(dateTimeFormatPropTypes);\nvar NUMBER_FORMAT_OPTIONS = Object.keys(numberFormatPropTypes);\nvar RELATIVE_FORMAT_OPTIONS = Object.keys(relativeFormatPropTypes);\nvar PLURAL_FORMAT_OPTIONS = Object.keys(pluralFormatPropTypes);\n\nvar RELATIVE_FORMAT_THRESHOLDS = {\n  second: 60, // seconds to minute\n  minute: 60, // minutes to hour\n  hour: 24, // hours to day\n  day: 30, // days to month\n  month: 12 // months to year\n};\n\nfunction updateRelativeFormatThresholds(newThresholds) {\n  var thresholds = IntlRelativeFormat.thresholds;\n  thresholds.second = newThresholds.second;\n  thresholds.minute = newThresholds.minute;\n  thresholds.hour = newThresholds.hour;\n  thresholds.day = newThresholds.day;\n  thresholds.month = newThresholds.month;\n}\n\nfunction getNamedFormat(formats, type, name) {\n  var format = formats && formats[type] && formats[type][name];\n  if (format) {\n    return format;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    console.error('[React Intl] No ' + type + ' format named: ' + name);\n  }\n}\n\nfunction formatDate(config, state, value) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var locale = config.locale,\n      formats = config.formats;\n  var format = options.format;\n\n\n  var date = new Date(value);\n  var defaults$$1 = format && getNamedFormat(formats, 'date', format);\n  var filteredOptions = filterProps(options, DATE_TIME_FORMAT_OPTIONS, defaults$$1);\n\n  try {\n    return state.getDateTimeFormat(locale, filteredOptions).format(date);\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error('[React Intl] Error formatting date.\\n' + e);\n    }\n  }\n\n  return String(date);\n}\n\nfunction formatTime(config, state, value) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var locale = config.locale,\n      formats = config.formats;\n  var format = options.format;\n\n\n  var date = new Date(value);\n  var defaults$$1 = format && getNamedFormat(formats, 'time', format);\n  var filteredOptions = filterProps(options, DATE_TIME_FORMAT_OPTIONS, defaults$$1);\n\n  if (!filteredOptions.hour && !filteredOptions.minute && !filteredOptions.second) {\n    // Add default formatting options if hour, minute, or second isn't defined.\n    filteredOptions = _extends({}, filteredOptions, { hour: 'numeric', minute: 'numeric' });\n  }\n\n  try {\n    return state.getDateTimeFormat(locale, filteredOptions).format(date);\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error('[React Intl] Error formatting time.\\n' + e);\n    }\n  }\n\n  return String(date);\n}\n\nfunction formatRelative(config, state, value) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var locale = config.locale,\n      formats = config.formats;\n  var format = options.format;\n\n\n  var date = new Date(value);\n  var now = new Date(options.now);\n  var defaults$$1 = format && getNamedFormat(formats, 'relative', format);\n  var filteredOptions = filterProps(options, RELATIVE_FORMAT_OPTIONS, defaults$$1);\n\n  // Capture the current threshold values, then temporarily override them with\n  // specific values just for this render.\n  var oldThresholds = _extends({}, IntlRelativeFormat.thresholds);\n  updateRelativeFormatThresholds(RELATIVE_FORMAT_THRESHOLDS);\n\n  try {\n    return state.getRelativeFormat(locale, filteredOptions).format(date, {\n      now: isFinite(now) ? now : state.now()\n    });\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error('[React Intl] Error formatting relative time.\\n' + e);\n    }\n  } finally {\n    updateRelativeFormatThresholds(oldThresholds);\n  }\n\n  return String(date);\n}\n\nfunction formatNumber(config, state, value) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var locale = config.locale,\n      formats = config.formats;\n  var format = options.format;\n\n\n  var defaults$$1 = format && getNamedFormat(formats, 'number', format);\n  var filteredOptions = filterProps(options, NUMBER_FORMAT_OPTIONS, defaults$$1);\n\n  try {\n    return state.getNumberFormat(locale, filteredOptions).format(value);\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error('[React Intl] Error formatting number.\\n' + e);\n    }\n  }\n\n  return String(value);\n}\n\nfunction formatPlural(config, state, value) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var locale = config.locale;\n\n\n  var filteredOptions = filterProps(options, PLURAL_FORMAT_OPTIONS);\n\n  try {\n    return state.getPluralFormat(locale, filteredOptions).format(value);\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error('[React Intl] Error formatting plural.\\n' + e);\n    }\n  }\n\n  return 'other';\n}\n\nfunction formatMessage(config, state) {\n  var messageDescriptor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var values = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var locale = config.locale,\n      formats = config.formats,\n      messages = config.messages,\n      defaultLocale = config.defaultLocale,\n      defaultFormats = config.defaultFormats;\n  var id = messageDescriptor.id,\n      defaultMessage = messageDescriptor.defaultMessage;\n\n  // `id` is a required field of a Message Descriptor.\n\n  invariant(id, '[React Intl] An `id` must be provided to format a message.');\n\n  var message = messages && messages[id];\n  var hasValues = Object.keys(values).length > 0;\n\n  // Avoid expensive message formatting for simple messages without values. In\n  // development messages will always be formatted in case of missing values.\n  if (!hasValues && process.env.NODE_ENV === 'production') {\n    return message || defaultMessage || id;\n  }\n\n  var formattedMessage = void 0;\n\n  if (message) {\n    try {\n      var formatter = state.getMessageFormat(message, locale, formats);\n\n      formattedMessage = formatter.format(values);\n    } catch (e) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('[React Intl] Error formatting message: \"' + id + '\" for locale: \"' + locale + '\"' + (defaultMessage ? ', using default message as fallback.' : '') + ('\\n' + e));\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV !== 'production') {\n      // This prevents warnings from littering the console in development\n      // when no `messages` are passed into the <IntlProvider> for the\n      // default locale, and a default message is in the source.\n      if (!defaultMessage || locale && locale.toLowerCase() !== defaultLocale.toLowerCase()) {\n        console.error('[React Intl] Missing message: \"' + id + '\" for locale: \"' + locale + '\"' + (defaultMessage ? ', using default message as fallback.' : ''));\n      }\n    }\n  }\n\n  if (!formattedMessage && defaultMessage) {\n    try {\n      var _formatter = state.getMessageFormat(defaultMessage, defaultLocale, defaultFormats);\n\n      formattedMessage = _formatter.format(values);\n    } catch (e) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('[React Intl] Error formatting the default message for: \"' + id + '\"' + ('\\n' + e));\n      }\n    }\n  }\n\n  if (!formattedMessage) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error('[React Intl] Cannot format message: \"' + id + '\", ' + ('using message ' + (message || defaultMessage ? 'source' : 'id') + ' as fallback.'));\n    }\n  }\n\n  return formattedMessage || message || defaultMessage || id;\n}\n\nfunction formatHTMLMessage(config, state, messageDescriptor) {\n  var rawValues = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  // Process all the values before they are used when formatting the ICU\n  // Message string. Since the formatted message might be injected via\n  // `innerHTML`, all String-based values need to be HTML-escaped.\n  var escapedValues = Object.keys(rawValues).reduce(function (escaped, name) {\n    var value = rawValues[name];\n    escaped[name] = typeof value === 'string' ? escape(value) : value;\n    return escaped;\n  }, {});\n\n  return formatMessage(config, state, messageDescriptor, escapedValues);\n}\n\n\n\nvar format = Object.freeze({\n\tformatDate: formatDate,\n\tformatTime: formatTime,\n\tformatRelative: formatRelative,\n\tformatNumber: formatNumber,\n\tformatPlural: formatPlural,\n\tformatMessage: formatMessage,\n\tformatHTMLMessage: formatHTMLMessage\n});\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar intlConfigPropNames$1 = Object.keys(intlConfigPropTypes);\nvar intlFormatPropNames = Object.keys(intlFormatPropTypes);\n\n// These are not a static property on the `IntlProvider` class so the intl\n// config values can be inherited from an <IntlProvider> ancestor.\nvar defaultProps = {\n  formats: {},\n  messages: {},\n  textComponent: 'span',\n\n  defaultLocale: 'en',\n  defaultFormats: {}\n};\n\nvar IntlProvider = function (_Component) {\n  inherits(IntlProvider, _Component);\n\n  function IntlProvider(props) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, IntlProvider);\n\n    var _this = possibleConstructorReturn(this, (IntlProvider.__proto__ || Object.getPrototypeOf(IntlProvider)).call(this, props, context));\n\n    invariant(typeof Intl !== 'undefined', '[React Intl] The `Intl` APIs must be available in the runtime, ' + 'and do not appear to be built-in. An `Intl` polyfill should be loaded.\\n' + 'See: http://formatjs.io/guides/runtime-environments/');\n\n    var intlContext = context.intl;\n\n    // Used to stabilize time when performing an initial rendering so that\n    // all relative times use the same reference \"now\" time.\n\n    var initialNow = void 0;\n    if (isFinite(props.initialNow)) {\n      initialNow = Number(props.initialNow);\n    } else {\n      // When an `initialNow` isn't provided via `props`, look to see an\n      // <IntlProvider> exists in the ancestry and call its `now()`\n      // function to propagate its value for \"now\".\n      initialNow = intlContext ? intlContext.now() : Date.now();\n    }\n\n    // Creating `Intl*` formatters is expensive. If there's a parent\n    // `<IntlProvider>`, then its formatters will be used. Otherwise, this\n    // memoize the `Intl*` constructors and cache them for the lifecycle of\n    // this IntlProvider instance.\n\n    var _ref = intlContext || {},\n        _ref$formatters = _ref.formatters,\n        formatters = _ref$formatters === undefined ? {\n      getDateTimeFormat: memoizeIntlConstructor(Intl.DateTimeFormat),\n      getNumberFormat: memoizeIntlConstructor(Intl.NumberFormat),\n      getMessageFormat: memoizeIntlConstructor(IntlMessageFormat),\n      getRelativeFormat: memoizeIntlConstructor(IntlRelativeFormat),\n      getPluralFormat: memoizeIntlConstructor(IntlPluralFormat)\n    } : _ref$formatters;\n\n    _this.state = _extends({}, formatters, {\n\n      // Wrapper to provide stable \"now\" time for initial render.\n      now: function now() {\n        return _this._didDisplay ? Date.now() : initialNow;\n      }\n    });\n    return _this;\n  }\n\n  createClass(IntlProvider, [{\n    key: 'getConfig',\n    value: function getConfig() {\n      var intlContext = this.context.intl;\n\n      // Build a whitelisted config object from `props`, defaults, and\n      // `context.intl`, if an <IntlProvider> exists in the ancestry.\n\n      var config = filterProps(this.props, intlConfigPropNames$1, intlContext);\n\n      // Apply default props. This must be applied last after the props have\n      // been resolved and inherited from any <IntlProvider> in the ancestry.\n      // This matches how React resolves `defaultProps`.\n      for (var propName in defaultProps) {\n        if (config[propName] === undefined) {\n          config[propName] = defaultProps[propName];\n        }\n      }\n\n      if (!hasLocaleData(config.locale)) {\n        var _config = config,\n            locale = _config.locale,\n            defaultLocale = _config.defaultLocale,\n            defaultFormats = _config.defaultFormats;\n\n\n        if (process.env.NODE_ENV !== 'production') {\n          console.error('[React Intl] Missing locale data for locale: \"' + locale + '\". ' + ('Using default locale: \"' + defaultLocale + '\" as fallback.'));\n        }\n\n        // Since there's no registered locale data for `locale`, this will\n        // fallback to the `defaultLocale` to make sure things can render.\n        // The `messages` are overridden to the `defaultProps` empty object\n        // to maintain referential equality across re-renders. It's assumed\n        // each <FormattedMessage> contains a `defaultMessage` prop.\n        config = _extends({}, config, {\n          locale: defaultLocale,\n          formats: defaultFormats,\n          messages: defaultProps.messages\n        });\n      }\n\n      return config;\n    }\n  }, {\n    key: 'getBoundFormatFns',\n    value: function getBoundFormatFns(config, state) {\n      return intlFormatPropNames.reduce(function (boundFormatFns, name) {\n        boundFormatFns[name] = format[name].bind(null, config, state);\n        return boundFormatFns;\n      }, {});\n    }\n  }, {\n    key: 'getChildContext',\n    value: function getChildContext() {\n      var config = this.getConfig();\n\n      // Bind intl factories and current config to the format functions.\n      var boundFormatFns = this.getBoundFormatFns(config, this.state);\n\n      var _state = this.state,\n          now = _state.now,\n          formatters = objectWithoutProperties(_state, ['now']);\n\n\n      return {\n        intl: _extends({}, config, boundFormatFns, {\n          formatters: formatters,\n          now: now\n        })\n      };\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, next = Array(_len), _key = 0; _key < _len; _key++) {\n        next[_key] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this].concat(next));\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._didDisplay = true;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return Children.only(this.props.children);\n    }\n  }]);\n  return IntlProvider;\n}(Component);\n\nIntlProvider.displayName = 'IntlProvider';\nIntlProvider.contextTypes = {\n  intl: intlShape\n};\nIntlProvider.childContextTypes = {\n  intl: intlShape.isRequired\n};\nprocess.env.NODE_ENV !== \"production\" ? IntlProvider.propTypes = _extends({}, intlConfigPropTypes, {\n  children: PropTypes.element.isRequired,\n  initialNow: PropTypes.any\n}) : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar FormattedDate = function (_Component) {\n  inherits(FormattedDate, _Component);\n\n  function FormattedDate(props, context) {\n    classCallCheck(this, FormattedDate);\n\n    var _this = possibleConstructorReturn(this, (FormattedDate.__proto__ || Object.getPrototypeOf(FormattedDate)).call(this, props, context));\n\n    invariantIntlContext(context);\n    return _this;\n  }\n\n  createClass(FormattedDate, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, next = Array(_len), _key = 0; _key < _len; _key++) {\n        next[_key] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this].concat(next));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatDate = _context$intl.formatDate,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          value = _props.value,\n          children = _props.children;\n\n\n      var formattedDate = formatDate(value, this.props);\n\n      if (typeof children === 'function') {\n        return children(formattedDate);\n      }\n\n      return React.createElement(\n        Text,\n        null,\n        formattedDate\n      );\n    }\n  }]);\n  return FormattedDate;\n}(Component);\n\nFormattedDate.displayName = 'FormattedDate';\nFormattedDate.contextTypes = {\n  intl: intlShape\n};\nprocess.env.NODE_ENV !== \"production\" ? FormattedDate.propTypes = _extends({}, dateTimeFormatPropTypes, {\n  value: PropTypes.any.isRequired,\n  format: PropTypes.string,\n  children: PropTypes.func\n}) : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar FormattedTime = function (_Component) {\n  inherits(FormattedTime, _Component);\n\n  function FormattedTime(props, context) {\n    classCallCheck(this, FormattedTime);\n\n    var _this = possibleConstructorReturn(this, (FormattedTime.__proto__ || Object.getPrototypeOf(FormattedTime)).call(this, props, context));\n\n    invariantIntlContext(context);\n    return _this;\n  }\n\n  createClass(FormattedTime, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, next = Array(_len), _key = 0; _key < _len; _key++) {\n        next[_key] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this].concat(next));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatTime = _context$intl.formatTime,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          value = _props.value,\n          children = _props.children;\n\n\n      var formattedTime = formatTime(value, this.props);\n\n      if (typeof children === 'function') {\n        return children(formattedTime);\n      }\n\n      return React.createElement(\n        Text,\n        null,\n        formattedTime\n      );\n    }\n  }]);\n  return FormattedTime;\n}(Component);\n\nFormattedTime.displayName = 'FormattedTime';\nFormattedTime.contextTypes = {\n  intl: intlShape\n};\nprocess.env.NODE_ENV !== \"production\" ? FormattedTime.propTypes = _extends({}, dateTimeFormatPropTypes, {\n  value: PropTypes.any.isRequired,\n  format: PropTypes.string,\n  children: PropTypes.func\n}) : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar SECOND = 1000;\nvar MINUTE = 1000 * 60;\nvar HOUR = 1000 * 60 * 60;\nvar DAY = 1000 * 60 * 60 * 24;\n\n// The maximum timer delay value is a 32-bit signed integer.\n// See: https://mdn.io/setTimeout\nvar MAX_TIMER_DELAY = 2147483647;\n\nfunction selectUnits(delta) {\n  var absDelta = Math.abs(delta);\n\n  if (absDelta < MINUTE) {\n    return 'second';\n  }\n\n  if (absDelta < HOUR) {\n    return 'minute';\n  }\n\n  if (absDelta < DAY) {\n    return 'hour';\n  }\n\n  // The maximum scheduled delay will be measured in days since the maximum\n  // timer delay is less than the number of milliseconds in 25 days.\n  return 'day';\n}\n\nfunction getUnitDelay(units) {\n  switch (units) {\n    case 'second':\n      return SECOND;\n    case 'minute':\n      return MINUTE;\n    case 'hour':\n      return HOUR;\n    case 'day':\n      return DAY;\n    default:\n      return MAX_TIMER_DELAY;\n  }\n}\n\nfunction isSameDate(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  var aTime = new Date(a).getTime();\n  var bTime = new Date(b).getTime();\n\n  return isFinite(aTime) && isFinite(bTime) && aTime === bTime;\n}\n\nvar FormattedRelative = function (_Component) {\n  inherits(FormattedRelative, _Component);\n\n  function FormattedRelative(props, context) {\n    classCallCheck(this, FormattedRelative);\n\n    var _this = possibleConstructorReturn(this, (FormattedRelative.__proto__ || Object.getPrototypeOf(FormattedRelative)).call(this, props, context));\n\n    invariantIntlContext(context);\n\n    var now = isFinite(props.initialNow) ? Number(props.initialNow) : context.intl.now();\n\n    // `now` is stored as state so that `render()` remains a function of\n    // props + state, instead of accessing `Date.now()` inside `render()`.\n    _this.state = { now: now };\n    return _this;\n  }\n\n  createClass(FormattedRelative, [{\n    key: 'scheduleNextUpdate',\n    value: function scheduleNextUpdate(props, state) {\n      var _this2 = this;\n\n      // Cancel and pending update because we're scheduling a new update.\n      clearTimeout(this._timer);\n\n      var value = props.value,\n          units = props.units,\n          updateInterval = props.updateInterval;\n\n      var time = new Date(value).getTime();\n\n      // If the `updateInterval` is falsy, including `0` or we don't have a\n      // valid date, then auto updates have been turned off, so we bail and\n      // skip scheduling an update.\n      if (!updateInterval || !isFinite(time)) {\n        return;\n      }\n\n      var delta = time - state.now;\n      var unitDelay = getUnitDelay(units || selectUnits(delta));\n      var unitRemainder = Math.abs(delta % unitDelay);\n\n      // We want the largest possible timer delay which will still display\n      // accurate information while reducing unnecessary re-renders. The delay\n      // should be until the next \"interesting\" moment, like a tick from\n      // \"1 minute ago\" to \"2 minutes ago\" when the delta is 120,000ms.\n      var delay = delta < 0 ? Math.max(updateInterval, unitDelay - unitRemainder) : Math.max(updateInterval, unitRemainder);\n\n      this._timer = setTimeout(function () {\n        _this2.setState({ now: _this2.context.intl.now() });\n      }, delay);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.scheduleNextUpdate(this.props, this.state);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(_ref) {\n      var nextValue = _ref.value;\n\n      // When the `props.value` date changes, `state.now` needs to be updated,\n      // and the next update can be rescheduled.\n      if (!isSameDate(nextValue, this.props.value)) {\n        this.setState({ now: this.context.intl.now() });\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, next = Array(_len), _key = 0; _key < _len; _key++) {\n        next[_key] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this].concat(next));\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps, nextState) {\n      this.scheduleNextUpdate(nextProps, nextState);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this._timer);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatRelative = _context$intl.formatRelative,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          value = _props.value,\n          children = _props.children;\n\n\n      var formattedRelative = formatRelative(value, _extends({}, this.props, this.state));\n\n      if (typeof children === 'function') {\n        return children(formattedRelative);\n      }\n\n      return React.createElement(\n        Text,\n        null,\n        formattedRelative\n      );\n    }\n  }]);\n  return FormattedRelative;\n}(Component);\n\nFormattedRelative.displayName = 'FormattedRelative';\nFormattedRelative.contextTypes = {\n  intl: intlShape\n};\nFormattedRelative.defaultProps = {\n  updateInterval: 1000 * 10\n};\nprocess.env.NODE_ENV !== \"production\" ? FormattedRelative.propTypes = _extends({}, relativeFormatPropTypes, {\n  value: PropTypes.any.isRequired,\n  format: PropTypes.string,\n  updateInterval: PropTypes.number,\n  initialNow: PropTypes.any,\n  children: PropTypes.func\n}) : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar FormattedNumber = function (_Component) {\n  inherits(FormattedNumber, _Component);\n\n  function FormattedNumber(props, context) {\n    classCallCheck(this, FormattedNumber);\n\n    var _this = possibleConstructorReturn(this, (FormattedNumber.__proto__ || Object.getPrototypeOf(FormattedNumber)).call(this, props, context));\n\n    invariantIntlContext(context);\n    return _this;\n  }\n\n  createClass(FormattedNumber, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, next = Array(_len), _key = 0; _key < _len; _key++) {\n        next[_key] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this].concat(next));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatNumber = _context$intl.formatNumber,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          value = _props.value,\n          children = _props.children;\n\n\n      var formattedNumber = formatNumber(value, this.props);\n\n      if (typeof children === 'function') {\n        return children(formattedNumber);\n      }\n\n      return React.createElement(\n        Text,\n        null,\n        formattedNumber\n      );\n    }\n  }]);\n  return FormattedNumber;\n}(Component);\n\nFormattedNumber.displayName = 'FormattedNumber';\nFormattedNumber.contextTypes = {\n  intl: intlShape\n};\nprocess.env.NODE_ENV !== \"production\" ? FormattedNumber.propTypes = _extends({}, numberFormatPropTypes, {\n  value: PropTypes.any.isRequired,\n  format: PropTypes.string,\n  children: PropTypes.func\n}) : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar FormattedPlural = function (_Component) {\n  inherits(FormattedPlural, _Component);\n\n  function FormattedPlural(props, context) {\n    classCallCheck(this, FormattedPlural);\n\n    var _this = possibleConstructorReturn(this, (FormattedPlural.__proto__ || Object.getPrototypeOf(FormattedPlural)).call(this, props, context));\n\n    invariantIntlContext(context);\n    return _this;\n  }\n\n  createClass(FormattedPlural, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      for (var _len = arguments.length, next = Array(_len), _key = 0; _key < _len; _key++) {\n        next[_key] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this].concat(next));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatPlural = _context$intl.formatPlural,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          value = _props.value,\n          other = _props.other,\n          children = _props.children;\n\n\n      var pluralCategory = formatPlural(value, this.props);\n      var formattedPlural = this.props[pluralCategory] || other;\n\n      if (typeof children === 'function') {\n        return children(formattedPlural);\n      }\n\n      return React.createElement(\n        Text,\n        null,\n        formattedPlural\n      );\n    }\n  }]);\n  return FormattedPlural;\n}(Component);\n\nFormattedPlural.displayName = 'FormattedPlural';\nFormattedPlural.contextTypes = {\n  intl: intlShape\n};\nFormattedPlural.defaultProps = {\n  style: 'cardinal'\n};\nprocess.env.NODE_ENV !== \"production\" ? FormattedPlural.propTypes = _extends({}, pluralFormatPropTypes, {\n  value: PropTypes.any.isRequired,\n\n  other: PropTypes.node.isRequired,\n  zero: PropTypes.node,\n  one: PropTypes.node,\n  two: PropTypes.node,\n  few: PropTypes.node,\n  many: PropTypes.node,\n\n  children: PropTypes.func\n}) : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar FormattedMessage = function (_Component) {\n  inherits(FormattedMessage, _Component);\n\n  function FormattedMessage(props, context) {\n    classCallCheck(this, FormattedMessage);\n\n    var _this = possibleConstructorReturn(this, (FormattedMessage.__proto__ || Object.getPrototypeOf(FormattedMessage)).call(this, props, context));\n\n    invariantIntlContext(context);\n    return _this;\n  }\n\n  createClass(FormattedMessage, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      var values = this.props.values;\n      var nextValues = nextProps.values;\n\n\n      if (!shallowEquals(nextValues, values)) {\n        return true;\n      }\n\n      // Since `values` has already been checked, we know they're not\n      // different, so the current `values` are carried over so the shallow\n      // equals comparison on the other props isn't affected by the `values`.\n      var nextPropsToCheck = _extends({}, nextProps, {\n        values: values\n      });\n\n      for (var _len = arguments.length, next = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        next[_key - 1] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this, nextPropsToCheck].concat(next));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatMessage = _context$intl.formatMessage,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          id = _props.id,\n          description = _props.description,\n          defaultMessage = _props.defaultMessage,\n          values = _props.values,\n          _props$tagName = _props.tagName,\n          Component$$1 = _props$tagName === undefined ? Text : _props$tagName,\n          children = _props.children;\n\n\n      var tokenDelimiter = void 0;\n      var tokenizedValues = void 0;\n      var elements = void 0;\n\n      var hasValues = values && Object.keys(values).length > 0;\n      if (hasValues) {\n        // Creates a token with a random UID that should not be guessable or\n        // conflict with other parts of the `message` string.\n        var uid = Math.floor(Math.random() * 0x10000000000).toString(16);\n\n        var generateToken = function () {\n          var counter = 0;\n          return function () {\n            return 'ELEMENT-' + uid + '-' + (counter += 1);\n          };\n        }();\n\n        // Splitting with a delimiter to support IE8. When using a regex\n        // with a capture group IE8 does not include the capture group in\n        // the resulting array.\n        tokenDelimiter = '@__' + uid + '__@';\n        tokenizedValues = {};\n        elements = {};\n\n        // Iterates over the `props` to keep track of any React Element\n        // values so they can be represented by the `token` as a placeholder\n        // when the `message` is formatted. This allows the formatted\n        // message to then be broken-up into parts with references to the\n        // React Elements inserted back in.\n        Object.keys(values).forEach(function (name) {\n          var value = values[name];\n\n          if (isValidElement(value)) {\n            var token = generateToken();\n            tokenizedValues[name] = tokenDelimiter + token + tokenDelimiter;\n            elements[token] = value;\n          } else {\n            tokenizedValues[name] = value;\n          }\n        });\n      }\n\n      var descriptor = { id: id, description: description, defaultMessage: defaultMessage };\n      var formattedMessage = formatMessage(descriptor, tokenizedValues || values);\n\n      var nodes = void 0;\n\n      var hasElements = elements && Object.keys(elements).length > 0;\n      if (hasElements) {\n        // Split the message into parts so the React Element values captured\n        // above can be inserted back into the rendered message. This\n        // approach allows messages to render with React Elements while\n        // keeping React's virtual diffing working properly.\n        nodes = formattedMessage.split(tokenDelimiter).filter(function (part) {\n          return !!part;\n        }).map(function (part) {\n          return elements[part] || part;\n        });\n      } else {\n        nodes = [formattedMessage];\n      }\n\n      if (typeof children === 'function') {\n        return children.apply(undefined, toConsumableArray(nodes));\n      }\n\n      // Needs to use `createElement()` instead of JSX, otherwise React will\n      // warn about a missing `key` prop with rich-text message formatting.\n      return createElement.apply(undefined, [Component$$1, null].concat(toConsumableArray(nodes)));\n    }\n  }]);\n  return FormattedMessage;\n}(Component);\n\nFormattedMessage.displayName = 'FormattedMessage';\nFormattedMessage.contextTypes = {\n  intl: intlShape\n};\nFormattedMessage.defaultProps = {\n  values: {}\n};\nprocess.env.NODE_ENV !== \"production\" ? FormattedMessage.propTypes = _extends({}, messageDescriptorPropTypes, {\n  values: PropTypes.object,\n  tagName: PropTypes.string,\n  children: PropTypes.func\n}) : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\nvar FormattedHTMLMessage = function (_Component) {\n  inherits(FormattedHTMLMessage, _Component);\n\n  function FormattedHTMLMessage(props, context) {\n    classCallCheck(this, FormattedHTMLMessage);\n\n    var _this = possibleConstructorReturn(this, (FormattedHTMLMessage.__proto__ || Object.getPrototypeOf(FormattedHTMLMessage)).call(this, props, context));\n\n    invariantIntlContext(context);\n    return _this;\n  }\n\n  createClass(FormattedHTMLMessage, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      var values = this.props.values;\n      var nextValues = nextProps.values;\n\n\n      if (!shallowEquals(nextValues, values)) {\n        return true;\n      }\n\n      // Since `values` has already been checked, we know they're not\n      // different, so the current `values` are carried over so the shallow\n      // equals comparison on the other props isn't affected by the `values`.\n      var nextPropsToCheck = _extends({}, nextProps, {\n        values: values\n      });\n\n      for (var _len = arguments.length, next = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        next[_key - 1] = arguments[_key];\n      }\n\n      return shouldIntlComponentUpdate.apply(undefined, [this, nextPropsToCheck].concat(next));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _context$intl = this.context.intl,\n          formatHTMLMessage = _context$intl.formatHTMLMessage,\n          Text = _context$intl.textComponent;\n      var _props = this.props,\n          id = _props.id,\n          description = _props.description,\n          defaultMessage = _props.defaultMessage,\n          rawValues = _props.values,\n          _props$tagName = _props.tagName,\n          Component$$1 = _props$tagName === undefined ? Text : _props$tagName,\n          children = _props.children;\n\n\n      var descriptor = { id: id, description: description, defaultMessage: defaultMessage };\n      var formattedHTMLMessage = formatHTMLMessage(descriptor, rawValues);\n\n      if (typeof children === 'function') {\n        return children(formattedHTMLMessage);\n      }\n\n      // Since the message presumably has HTML in it, we need to set\n      // `innerHTML` in order for it to be rendered and not escaped by React.\n      // To be safe, all string prop values were escaped when formatting the\n      // message. It is assumed that the message is not UGC, and came from the\n      // developer making it more like a template.\n      //\n      // Note: There's a perf impact of using this component since there's no\n      // way for React to do its virtual DOM diffing.\n      var html = { __html: formattedHTMLMessage };\n      return React.createElement(Component$$1, { dangerouslySetInnerHTML: html });\n    }\n  }]);\n  return FormattedHTMLMessage;\n}(Component);\n\nFormattedHTMLMessage.displayName = 'FormattedHTMLMessage';\nFormattedHTMLMessage.contextTypes = {\n  intl: intlShape\n};\nFormattedHTMLMessage.defaultProps = {\n  values: {}\n};\nprocess.env.NODE_ENV !== \"production\" ? FormattedHTMLMessage.propTypes = _extends({}, messageDescriptorPropTypes, {\n  values: PropTypes.object,\n  tagName: PropTypes.string,\n  children: PropTypes.func\n}) : void 0;\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\naddLocaleData(defaultLocaleData);\n\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\naddLocaleData(allLocaleData);\n\nexport { addLocaleData, intlShape, injectIntl, defineMessages, IntlProvider, FormattedDate, FormattedTime, FormattedRelative, FormattedNumber, FormattedPlural, FormattedMessage, FormattedHTMLMessage };\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-intl/lib/index.es.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class ModalRoot extends React.PureComponent {\n\n  static propTypes = {\n    children: PropTypes.node,\n    onClose: PropTypes.func.isRequired,\n    noEsc: PropTypes.bool,\n  };\n\n  state = {\n    revealed: !!this.props.children,\n  };\n\n  activeElement = this.state.revealed ? document.activeElement : null;\n\n  handleKeyUp = (e) => {\n    if ((e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27)\n         && !!this.props.children && !this.props.noEsc) {\n      this.props.onClose();\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('keyup', this.handleKeyUp, false);\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (!!nextProps.children && !this.props.children) {\n      this.activeElement = document.activeElement;\n\n      this.getSiblings().forEach(sibling => sibling.setAttribute('inert', true));\n    } else if (!nextProps.children) {\n      this.setState({ revealed: false });\n    }\n  }\n\n  componentDidUpdate (prevProps) {\n    if (!this.props.children && !!prevProps.children) {\n      this.getSiblings().forEach(sibling => sibling.removeAttribute('inert'));\n      this.activeElement.focus();\n      this.activeElement = null;\n    }\n    if (this.props.children) {\n      requestAnimationFrame(() => {\n        this.setState({ revealed: true });\n      });\n    }\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  getSiblings = () => {\n    return Array(...this.node.parentElement.childNodes).filter(node => node !== this.node);\n  }\n\n  setRef = ref => {\n    this.node = ref;\n  }\n\n  render () {\n    const { children, onClose } = this.props;\n    const { revealed } = this.state;\n    const visible = !!children;\n\n    if (!visible) {\n      return (\n        <div className='modal-root' ref={this.setRef} style={{ opacity: 0 }} />\n      );\n    }\n\n    return (\n      <div className='modal-root' ref={this.setRef} style={{ opacity: revealed ? 1 : 0 }}>\n        <div style={{ pointerEvents: visible ? 'auto' : 'none' }}>\n          <div role='presentation' className='modal-root__overlay' onClick={onClose} />\n          <div role='dialog' className='modal-root__container'>{children}</div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/components/modal_root.js","import React from 'react';\nimport ReactSwipeableViews from 'react-swipeable-views';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport Video from 'flavours/glitch/features/video';\nimport ExtendedVideoPlayer from 'flavours/glitch/components/extended_video_player';\nimport classNames from 'classnames';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport IconButton from 'flavours/glitch/components/icon_button';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport ImageLoader from './image_loader';\n\nconst messages = defineMessages({\n  close: { id: 'lightbox.close', defaultMessage: 'Close' },\n  previous: { id: 'lightbox.previous', defaultMessage: 'Previous' },\n  next: { id: 'lightbox.next', defaultMessage: 'Next' },\n});\n\n@injectIntl\nexport default class MediaModal extends ImmutablePureComponent {\n\n  static propTypes = {\n    media: ImmutablePropTypes.list.isRequired,\n    index: PropTypes.number.isRequired,\n    onClose: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n  };\n\n  state = {\n    index: null,\n    navigationHidden: false,\n  };\n\n  handleSwipe = (index) => {\n    this.setState({ index: index % this.props.media.size });\n  }\n\n  handleNextClick = () => {\n    this.setState({ index: (this.getIndex() + 1) % this.props.media.size });\n  }\n\n  handlePrevClick = () => {\n    this.setState({ index: (this.props.media.size + this.getIndex() - 1) % this.props.media.size });\n  }\n\n  handleChangeIndex = (e) => {\n    const index = Number(e.currentTarget.getAttribute('data-index'));\n    this.setState({ index: index % this.props.media.size });\n  }\n\n  handleKeyUp = (e) => {\n    switch(e.key) {\n    case 'ArrowLeft':\n      this.handlePrevClick();\n      break;\n    case 'ArrowRight':\n      this.handleNextClick();\n      break;\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('keyup', this.handleKeyUp, false);\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  getIndex () {\n    return this.state.index !== null ? this.state.index : this.props.index;\n  }\n\n  toggleNavigation = () => {\n    this.setState(prevState => ({\n      navigationHidden: !prevState.navigationHidden,\n    }));\n  };\n\n  render () {\n    const { media, intl, onClose } = this.props;\n    const { navigationHidden } = this.state;\n\n    const index = this.getIndex();\n    let pagination = [];\n\n    const leftNav  = media.size > 1 && <button tabIndex='0' className='media-modal__nav media-modal__nav--left' onClick={this.handlePrevClick} aria-label={intl.formatMessage(messages.previous)}><i className='fa fa-fw fa-chevron-left' /></button>;\n    const rightNav = media.size > 1 && <button tabIndex='0' className='media-modal__nav  media-modal__nav--right' onClick={this.handleNextClick} aria-label={intl.formatMessage(messages.next)}><i className='fa fa-fw fa-chevron-right' /></button>;\n\n    if (media.size > 1) {\n      pagination = media.map((item, i) => {\n        const classes = ['media-modal__button'];\n        if (i === index) {\n          classes.push('media-modal__button--active');\n        }\n        return (<li className='media-modal__page-dot' key={i}><button tabIndex='0' className={classes.join(' ')} onClick={this.handleChangeIndex} data-index={i}>{i + 1}</button></li>);\n      });\n    }\n\n    const content = media.map((image) => {\n      const width  = image.getIn(['meta', 'original', 'width']) || null;\n      const height = image.getIn(['meta', 'original', 'height']) || null;\n\n      if (image.get('type') === 'image') {\n        return (\n          <ImageLoader\n            previewSrc={image.get('preview_url')}\n            src={image.get('url')}\n            width={width}\n            height={height}\n            alt={image.get('description')}\n            key={image.get('url')}\n            onClick={this.toggleNavigation}\n          />\n        );\n      } else if (image.get('type') === 'video') {\n        const { time } = this.props;\n\n        return (\n          <Video\n            preview={image.get('preview_url')}\n            src={image.get('url')}\n            width={image.get('width')}\n            height={image.get('height')}\n            startTime={time || 0}\n            onCloseVideo={onClose}\n            detailed\n            description={image.get('description')}\n            key={image.get('url')}\n          />\n        );\n      } else if (image.get('type') === 'gifv') {\n        return (\n          <ExtendedVideoPlayer\n            src={image.get('url')}\n            muted\n            controls={false}\n            width={width}\n            height={height}\n            key={image.get('preview_url')}\n            alt={image.get('description')}\n            onClick={this.toggleNavigation}\n          />\n        );\n      }\n\n      return null;\n    }).toArray();\n\n    // you can't use 100vh, because the viewport height is taller\n    // than the visible part of the document in some mobile\n    // browsers when it's address bar is visible.\n    // https://developers.google.com/web/updates/2016/12/url-bar-resizing\n    const swipeableViewsStyle = {\n      width: '100%',\n      height: '100%',\n    };\n\n    const containerStyle = {\n      alignItems: 'center', // center vertically\n    };\n\n    const navigationClassName = classNames('media-modal__navigation', {\n      'media-modal__navigation--hidden': navigationHidden,\n    });\n\n    return (\n      <div className='modal-root__modal media-modal'>\n        <div\n          className='media-modal__closer'\n          role='presentation'\n          onClick={onClose}\n        >\n          <ReactSwipeableViews\n            style={swipeableViewsStyle}\n            containerStyle={containerStyle}\n            onChangeIndex={this.handleSwipe}\n            onSwitching={this.handleSwitching}\n            index={index}\n          >\n            {content}\n          </ReactSwipeableViews>\n        </div>\n        <div className={navigationClassName}>\n          <IconButton className='media-modal__close' title={intl.formatMessage(messages.close)} icon='times' onClick={onClose} size={40} />\n          {leftNav}\n          {rightNav}\n          <ul className='media-modal__pagination'>\n            {pagination}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/features/ui/components/media_modal.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class ExtendedVideoPlayer extends React.PureComponent {\n\n  static propTypes = {\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    time: PropTypes.number,\n    controls: PropTypes.bool.isRequired,\n    muted: PropTypes.bool.isRequired,\n    onClick: PropTypes.func,\n  };\n\n  handleLoadedData = () => {\n    if (this.props.time) {\n      this.video.currentTime = this.props.time;\n    }\n  }\n\n  componentDidMount () {\n    this.video.addEventListener('loadeddata', this.handleLoadedData);\n  }\n\n  componentWillUnmount () {\n    this.video.removeEventListener('loadeddata', this.handleLoadedData);\n  }\n\n  setRef = (c) => {\n    this.video = c;\n  }\n\n  handleClick = e => {\n    e.stopPropagation();\n    const handler = this.props.onClick;\n    if (handler) handler();\n  }\n\n  render () {\n    const { src, muted, controls, alt } = this.props;\n\n    return (\n      <div className='extended-video-player'>\n        <video\n          ref={this.setRef}\n          src={src}\n          autoPlay\n          role='button'\n          tabIndex='0'\n          aria-label={alt}\n          muted={muted}\n          controls={controls}\n          loop={!controls}\n          onClick={this.handleClick}\n        />\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/components/extended_video_player.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport ZoomableImage from './zoomable_image';\n\nexport default class ImageLoader extends React.PureComponent {\n\n  static propTypes = {\n    alt: PropTypes.string,\n    src: PropTypes.string.isRequired,\n    previewSrc: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    onClick: PropTypes.func,\n  }\n\n  static defaultProps = {\n    alt: '',\n    width: null,\n    height: null,\n  };\n\n  state = {\n    loading: true,\n    error: false,\n  }\n\n  removers = [];\n  canvas = null;\n\n  get canvasContext() {\n    if (!this.canvas) {\n      return null;\n    }\n    this._canvasContext = this._canvasContext || this.canvas.getContext('2d');\n    return this._canvasContext;\n  }\n\n  componentDidMount () {\n    this.loadImage(this.props);\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (this.props.src !== nextProps.src) {\n      this.loadImage(nextProps);\n    }\n  }\n\n  componentWillUnmount () {\n    this.removeEventListeners();\n  }\n\n  loadImage (props) {\n    this.removeEventListeners();\n    this.setState({ loading: true, error: false });\n    Promise.all([\n      props.previewSrc && this.loadPreviewCanvas(props),\n      this.hasSize() && this.loadOriginalImage(props),\n    ].filter(Boolean))\n      .then(() => {\n        this.setState({ loading: false, error: false });\n        this.clearPreviewCanvas();\n      })\n      .catch(() => this.setState({ loading: false, error: true }));\n  }\n\n  loadPreviewCanvas = ({ previewSrc, width, height }) => new Promise((resolve, reject) => {\n    const image = new Image();\n    const removeEventListeners = () => {\n      image.removeEventListener('error', handleError);\n      image.removeEventListener('load', handleLoad);\n    };\n    const handleError = () => {\n      removeEventListeners();\n      reject();\n    };\n    const handleLoad = () => {\n      removeEventListeners();\n      this.canvasContext.drawImage(image, 0, 0, width, height);\n      resolve();\n    };\n    image.addEventListener('error', handleError);\n    image.addEventListener('load', handleLoad);\n    image.src = previewSrc;\n    this.removers.push(removeEventListeners);\n  })\n\n  clearPreviewCanvas () {\n    const { width, height } = this.canvas;\n    this.canvasContext.clearRect(0, 0, width, height);\n  }\n\n  loadOriginalImage = ({ src }) => new Promise((resolve, reject) => {\n    const image = new Image();\n    const removeEventListeners = () => {\n      image.removeEventListener('error', handleError);\n      image.removeEventListener('load', handleLoad);\n    };\n    const handleError = () => {\n      removeEventListeners();\n      reject();\n    };\n    const handleLoad = () => {\n      removeEventListeners();\n      resolve();\n    };\n    image.addEventListener('error', handleError);\n    image.addEventListener('load', handleLoad);\n    image.src = src;\n    this.removers.push(removeEventListeners);\n  });\n\n  removeEventListeners () {\n    this.removers.forEach(listeners => listeners());\n    this.removers = [];\n  }\n\n  hasSize () {\n    const { width, height } = this.props;\n    return typeof width === 'number' && typeof height === 'number';\n  }\n\n  setCanvasRef = c => {\n    this.canvas = c;\n  }\n\n  render () {\n    const { alt, src, width, height, onClick } = this.props;\n    const { loading } = this.state;\n\n    const className = classNames('image-loader', {\n      'image-loader--loading': loading,\n      'image-loader--amorphous': !this.hasSize(),\n    });\n\n    return (\n      <div className={className}>\n        {loading ? (\n          <canvas\n            className='image-loader__preview-canvas'\n            ref={this.setCanvasRef}\n            width={width}\n            height={height}\n          />\n        ) : (\n          <ZoomableImage\n            alt={alt}\n            src={src}\n            onClick={onClick}\n          />\n        )}\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/features/ui/components/image_loader.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MIN_SCALE = 1;\nconst MAX_SCALE = 4;\n\nconst getMidpoint = (p1, p2) => ({\n  x: (p1.clientX + p2.clientX) / 2,\n  y: (p1.clientY + p2.clientY) / 2,\n});\n\nconst getDistance = (p1, p2) =>\n  Math.sqrt(Math.pow(p1.clientX - p2.clientX, 2) + Math.pow(p1.clientY - p2.clientY, 2));\n\nconst clamp = (min, max, value) => Math.min(max, Math.max(min, value));\n\nexport default class ZoomableImage extends React.PureComponent {\n\n  static propTypes = {\n    alt: PropTypes.string,\n    src: PropTypes.string.isRequired,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    onClick: PropTypes.func,\n  }\n\n  static defaultProps = {\n    alt: '',\n    width: null,\n    height: null,\n  };\n\n  state = {\n    scale: MIN_SCALE,\n  }\n\n  removers = [];\n  container = null;\n  image = null;\n  lastTouchEndTime = 0;\n  lastDistance = 0;\n\n  componentDidMount () {\n    let handler = this.handleTouchStart;\n    this.container.addEventListener('touchstart', handler);\n    this.removers.push(() => this.container.removeEventListener('touchstart', handler));\n    handler = this.handleTouchMove;\n    // on Chrome 56+, touch event listeners will default to passive\n    // https://www.chromestatus.com/features/5093566007214080\n    this.container.addEventListener('touchmove', handler, { passive: false });\n    this.removers.push(() => this.container.removeEventListener('touchend', handler));\n  }\n\n  componentWillUnmount () {\n    this.removeEventListeners();\n  }\n\n  removeEventListeners () {\n    this.removers.forEach(listeners => listeners());\n    this.removers = [];\n  }\n\n  handleTouchStart = e => {\n    if (e.touches.length !== 2) return;\n\n    this.lastDistance = getDistance(...e.touches);\n  }\n\n  handleTouchMove = e => {\n    const { scrollTop, scrollHeight, clientHeight } = this.container;\n    if (e.touches.length === 1 && scrollTop !== scrollHeight - clientHeight) {\n      // prevent propagating event to MediaModal\n      e.stopPropagation();\n      return;\n    }\n    if (e.touches.length !== 2) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const distance = getDistance(...e.touches);\n    const midpoint = getMidpoint(...e.touches);\n    const scale = clamp(MIN_SCALE, MAX_SCALE, this.state.scale * distance / this.lastDistance);\n\n    this.zoom(scale, midpoint);\n\n    this.lastMidpoint = midpoint;\n    this.lastDistance = distance;\n  }\n\n  zoom(nextScale, midpoint) {\n    const { scale } = this.state;\n    const { scrollLeft, scrollTop } = this.container;\n\n    // math memo:\n    // x = (scrollLeft + midpoint.x) / scrollWidth\n    // x' = (nextScrollLeft + midpoint.x) / nextScrollWidth\n    // scrollWidth = clientWidth * scale\n    // scrollWidth' = clientWidth * nextScale\n    // Solve x = x' for nextScrollLeft\n    const nextScrollLeft = (scrollLeft + midpoint.x) * nextScale / scale - midpoint.x;\n    const nextScrollTop = (scrollTop + midpoint.y) * nextScale / scale - midpoint.y;\n\n    this.setState({ scale: nextScale }, () => {\n      this.container.scrollLeft = nextScrollLeft;\n      this.container.scrollTop = nextScrollTop;\n    });\n  }\n\n  handleClick = e => {\n    // don't propagate event to MediaModal\n    e.stopPropagation();\n    const handler = this.props.onClick;\n    if (handler) handler();\n  }\n\n  setContainerRef = c => {\n    this.container = c;\n  }\n\n  setImageRef = c => {\n    this.image = c;\n  }\n\n  render () {\n    const { alt, src } = this.props;\n    const { scale } = this.state;\n    const overflow = scale === 1 ? 'hidden' : 'scroll';\n\n    return (\n      <div\n        className='zoomable-image'\n        ref={this.setContainerRef}\n        style={{ overflow }}\n      >\n        <img\n          role='presentation'\n          ref={this.setImageRef}\n          alt={alt}\n          src={src}\n          style={{\n            transform: `scale(${scale})`,\n            transformOrigin: '0 0',\n          }}\n          onClick={this.handleClick}\n        />\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/features/ui/components/zoomable_image.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./node_modules/dom-helpers/util/inDOM.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = spring;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _presets = require('./presets');\n\nvar _presets2 = _interopRequireDefault(_presets);\n\nvar defaultConfig = _extends({}, _presets2['default'].noWobble, {\n  precision: 0.01\n});\n\nfunction spring(val, config) {\n  return _extends({}, defaultConfig, config, { val: val });\n}\n\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./node_modules/react-motion/lib/spring.js","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/debounce.js","import React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport { is } from 'immutable';\nimport IconButton from './icon_button';\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\nimport { isIOS } from 'flavours/glitch/util/is_mobile';\nimport classNames from 'classnames';\nimport { autoPlayGif, displaySensitiveMedia } from 'flavours/glitch/util/initial_state';\n\nconst messages = defineMessages({\n  hidden: {\n    defaultMessage: 'Media hidden',\n    id: 'status.media_hidden',\n  },\n  sensitive: {\n    defaultMessage: 'Sensitive',\n    id: 'media_gallery.sensitive',\n  },\n  toggle: {\n    defaultMessage: 'Click to view',\n    id: 'status.sensitive_toggle',\n  },\n  toggle_visible: {\n    defaultMessage: 'Toggle visibility',\n    id: 'media_gallery.toggle_visible',\n  },\n  warning: {\n    defaultMessage: 'Sensitive content',\n    id: 'status.sensitive_warning',\n  },\n});\n\nclass Item extends React.PureComponent {\n\n  static propTypes = {\n    attachment: ImmutablePropTypes.map.isRequired,\n    standalone: PropTypes.bool,\n    index: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    letterbox: PropTypes.bool,\n    onClick: PropTypes.func.isRequired,\n    displayWidth: PropTypes.number,\n  };\n\n  static defaultProps = {\n    standalone: false,\n    index: 0,\n    size: 1,\n  };\n\n  handleMouseEnter = (e) => {\n    if (this.hoverToPlay()) {\n      e.target.play();\n    }\n  }\n\n  handleMouseLeave = (e) => {\n    if (this.hoverToPlay()) {\n      e.target.pause();\n      e.target.currentTime = 0;\n    }\n  }\n\n  hoverToPlay () {\n    const { attachment } = this.props;\n    return !autoPlayGif && attachment.get('type') === 'gifv';\n  }\n\n  handleClick = (e) => {\n    const { index, onClick } = this.props;\n\n    if (e.button === 0) {\n      e.preventDefault();\n      onClick(index);\n    }\n\n    e.stopPropagation();\n  }\n\n  render () {\n    const { attachment, index, size, standalone, letterbox, displayWidth } = this.props;\n\n    let width  = 50;\n    let height = 100;\n    let top    = 'auto';\n    let left   = 'auto';\n    let bottom = 'auto';\n    let right  = 'auto';\n\n    if (size === 1) {\n      width = 100;\n    }\n\n    if (size === 4 || (size === 3 && index > 0)) {\n      height = 50;\n    }\n\n    if (size === 2) {\n      if (index === 0) {\n        right = '2px';\n      } else {\n        left = '2px';\n      }\n    } else if (size === 3) {\n      if (index === 0) {\n        right = '2px';\n      } else if (index > 0) {\n        left = '2px';\n      }\n\n      if (index === 1) {\n        bottom = '2px';\n      } else if (index > 1) {\n        top = '2px';\n      }\n    } else if (size === 4) {\n      if (index === 0 || index === 2) {\n        right = '2px';\n      }\n\n      if (index === 1 || index === 3) {\n        left = '2px';\n      }\n\n      if (index < 2) {\n        bottom = '2px';\n      } else {\n        top = '2px';\n      }\n    }\n\n    let thumbnail = '';\n\n    if (attachment.get('type') === 'image') {\n      const previewUrl   = attachment.get('preview_url');\n      const previewWidth = attachment.getIn(['meta', 'small', 'width']);\n\n      const originalUrl    = attachment.get('url');\n      const originalWidth  = attachment.getIn(['meta', 'original', 'width']);\n\n      const hasSize = typeof originalWidth === 'number' && typeof previewWidth === 'number';\n\n      const srcSet = hasSize ? `${originalUrl} ${originalWidth}w, ${previewUrl} ${previewWidth}w` : null;\n      const sizes  = hasSize ? `${displayWidth * (width / 100)}px` : null;\n\n      const focusX = attachment.getIn(['meta', 'focus', 'x']) || 0;\n      const focusY = attachment.getIn(['meta', 'focus', 'y']) || 0;\n      const x      = ((focusX /  2) + .5) * 100;\n      const y      = ((focusY / -2) + .5) * 100;\n\n      thumbnail = (\n        <a\n          className='media-gallery__item-thumbnail'\n          href={attachment.get('remote_url') || originalUrl}\n          onClick={this.handleClick}\n          target='_blank'\n        >\n          <img\n            className={letterbox ? 'letterbox' : null}\n            src={previewUrl}\n            srcSet={srcSet}\n            sizes={sizes}\n            alt={attachment.get('description')}\n            title={attachment.get('description')}\n            style={{ objectPosition: `${x}% ${y}%` }} />\n        </a>\n      );\n    } else if (attachment.get('type') === 'gifv') {\n      const autoPlay = !isIOS() && autoPlayGif;\n\n      thumbnail = (\n        <div className={classNames('media-gallery__gifv', { autoplay: autoPlay })}>\n          <video\n            className={`media-gallery__item-gifv-thumbnail${letterbox ? ' letterbox' : ''}`}\n            aria-label={attachment.get('description')}\n            role='application'\n            src={attachment.get('url')}\n            onClick={this.handleClick}\n            onMouseEnter={this.handleMouseEnter}\n            onMouseLeave={this.handleMouseLeave}\n            autoPlay={autoPlay}\n            loop\n            muted\n          />\n\n          <span className='media-gallery__gifv__label'>GIF</span>\n        </div>\n      );\n    }\n\n    return (\n      <div className={classNames('media-gallery__item', { standalone })} key={attachment.get('id')} style={{ left: left, top: top, right: right, bottom: bottom, width: `${width}%`, height: `${height}%` }}>\n        {thumbnail}\n      </div>\n    );\n  }\n\n}\n\n@injectIntl\nexport default class MediaGallery extends React.PureComponent {\n\n  static propTypes = {\n    sensitive: PropTypes.bool,\n    revealed: PropTypes.bool,\n    standalone: PropTypes.bool,\n    letterbox: PropTypes.bool,\n    fullwidth: PropTypes.bool,\n    media: ImmutablePropTypes.list.isRequired,\n    size: PropTypes.object,\n    onOpenMedia: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n  };\n\n  static defaultProps = {\n    standalone: false,\n  };\n\n  state = {\n    visible: this.props.revealed === undefined ? (!this.props.sensitive || displaySensitiveMedia) : this.props.revealed,\n  };\n\n  componentWillReceiveProps (nextProps) {\n    if (!is(nextProps.media, this.props.media)) {\n      this.setState({ visible: !nextProps.sensitive });\n    }\n  }\n\n  handleOpen = () => {\n    this.setState({ visible: !this.state.visible });\n  }\n\n  handleClick = (index) => {\n    this.props.onOpenMedia(this.props.media, index);\n  }\n\n  handleRef = (node) => {\n    if (node /*&& this.isStandaloneEligible()*/) {\n      // offsetWidth triggers a layout, so only calculate when we need to\n      this.setState({\n        width: node.offsetWidth,\n      });\n    }\n  }\n\n  isStandaloneEligible() {\n    const { media, standalone } = this.props;\n    return standalone && media.size === 1 && media.getIn([0, 'meta', 'small', 'aspect']);\n  }\n\n  render () {\n    const { media, intl, sensitive, letterbox, fullwidth } = this.props;\n    const { width, visible } = this.state;\n    const size = media.take(4).size;\n\n    let children;\n\n    const style = {};\n\n    if (this.isStandaloneEligible() && width) {\n      style.height = width / this.props.media.getIn([0, 'meta', 'small', 'aspect']);\n    }\n\n    if (!visible) {\n      let warning = <FormattedMessage {...(sensitive ? messages.warning : messages.hidden)} />;\n\n      children = (\n        <button className='media-spoiler' type='button' onClick={this.handleOpen}>\n          <span className='media-spoiler__warning'>{warning}</span>\n          <span className='media-spoiler__trigger'><FormattedMessage {...messages.toggle} /></span>\n        </button>\n      );\n    } else {\n      if (this.isStandaloneEligible()) {\n        children = <Item standalone attachment={media.get(0)} onClick={this.handleClick} displayWidth={width} />;\n      } else {\n        children = media.take(4).map((attachment, i) => <Item key={attachment.get('id')} onClick={this.handleClick} attachment={attachment} index={i} size={size} letterbox={letterbox} displayWidth={width} />);\n      }\n    }\n\n    const computedClass = classNames('media-gallery', `size-${size}`, { 'full-width': fullwidth });\n\n    return (\n      <div className={computedClass} style={style} ref={this.handleRef}>\n        {visible ? (\n          <div className='sensitive-info'>\n            <IconButton\n              icon='eye'\n              onClick={this.handleOpen}\n              overlay\n              title={intl.formatMessage(messages.toggle_visible)}\n            />\n            {sensitive ? (\n              <span className='sensitive-marker'>\n                <FormattedMessage {...messages.sensitive} />\n              </span>\n            ) : null}\n          </div>\n        ) : null}\n\n        {children}\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/components/media_gallery.js","import React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport { is } from 'immutable';\nimport IconButton from './icon_button';\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\nimport { isIOS } from '../is_mobile';\nimport classNames from 'classnames';\nimport { autoPlayGif, displaySensitiveMedia } from '../initial_state';\n\nconst messages = defineMessages({\n  toggle_visible: { id: 'media_gallery.toggle_visible', defaultMessage: 'Toggle visibility' },\n});\n\nclass Item extends React.PureComponent {\n\n  static propTypes = {\n    attachment: ImmutablePropTypes.map.isRequired,\n    standalone: PropTypes.bool,\n    index: PropTypes.number.isRequired,\n    size: PropTypes.number.isRequired,\n    onClick: PropTypes.func.isRequired,\n    displayWidth: PropTypes.number,\n  };\n\n  static defaultProps = {\n    standalone: false,\n    index: 0,\n    size: 1,\n  };\n\n  handleMouseEnter = (e) => {\n    if (this.hoverToPlay()) {\n      e.target.play();\n    }\n  }\n\n  handleMouseLeave = (e) => {\n    if (this.hoverToPlay()) {\n      e.target.pause();\n      e.target.currentTime = 0;\n    }\n  }\n\n  hoverToPlay () {\n    const { attachment } = this.props;\n    return !autoPlayGif && attachment.get('type') === 'gifv';\n  }\n\n  handleClick = (e) => {\n    const { index, onClick } = this.props;\n\n    if (e.button === 0) {\n      e.preventDefault();\n      onClick(index);\n    }\n\n    e.stopPropagation();\n  }\n\n  render () {\n    const { attachment, index, size, standalone, displayWidth } = this.props;\n\n    let width  = 50;\n    let height = 100;\n    let top    = 'auto';\n    let left   = 'auto';\n    let bottom = 'auto';\n    let right  = 'auto';\n\n    if (size === 1) {\n      width = 100;\n    }\n\n    if (size === 4 || (size === 3 && index > 0)) {\n      height = 50;\n    }\n\n    if (size === 2) {\n      if (index === 0) {\n        right = '2px';\n      } else {\n        left = '2px';\n      }\n    } else if (size === 3) {\n      if (index === 0) {\n        right = '2px';\n      } else if (index > 0) {\n        left = '2px';\n      }\n\n      if (index === 1) {\n        bottom = '2px';\n      } else if (index > 1) {\n        top = '2px';\n      }\n    } else if (size === 4) {\n      if (index === 0 || index === 2) {\n        right = '2px';\n      }\n\n      if (index === 1 || index === 3) {\n        left = '2px';\n      }\n\n      if (index < 2) {\n        bottom = '2px';\n      } else {\n        top = '2px';\n      }\n    }\n\n    let thumbnail = '';\n\n    if (attachment.get('type') === 'image') {\n      const previewUrl   = attachment.get('preview_url');\n      const previewWidth = attachment.getIn(['meta', 'small', 'width']);\n\n      const originalUrl    = attachment.get('url');\n      const originalWidth  = attachment.getIn(['meta', 'original', 'width']);\n\n      const hasSize = typeof originalWidth === 'number' && typeof previewWidth === 'number';\n\n      const srcSet = hasSize ? `${originalUrl} ${originalWidth}w, ${previewUrl} ${previewWidth}w` : null;\n      const sizes  = hasSize ? `${displayWidth * (width / 100)}px` : null;\n\n      const focusX = attachment.getIn(['meta', 'focus', 'x']) || 0;\n      const focusY = attachment.getIn(['meta', 'focus', 'y']) || 0;\n      const x      = ((focusX /  2) + .5) * 100;\n      const y      = ((focusY / -2) + .5) * 100;\n\n      thumbnail = (\n        <a\n          className='media-gallery__item-thumbnail'\n          href={attachment.get('remote_url') || originalUrl}\n          onClick={this.handleClick}\n          target='_blank'\n        >\n          <img\n            src={previewUrl}\n            srcSet={srcSet}\n            sizes={sizes}\n            alt={attachment.get('description')}\n            title={attachment.get('description')}\n            style={{ objectPosition: `${x}% ${y}%` }}\n          />\n        </a>\n      );\n    } else if (attachment.get('type') === 'gifv') {\n      const autoPlay = !isIOS() && autoPlayGif;\n\n      thumbnail = (\n        <div className={classNames('media-gallery__gifv', { autoplay: autoPlay })}>\n          <video\n            className='media-gallery__item-gifv-thumbnail'\n            aria-label={attachment.get('description')}\n            role='application'\n            src={attachment.get('url')}\n            onClick={this.handleClick}\n            onMouseEnter={this.handleMouseEnter}\n            onMouseLeave={this.handleMouseLeave}\n            autoPlay={autoPlay}\n            loop\n            muted\n          />\n\n          <span className='media-gallery__gifv__label'>GIF</span>\n        </div>\n      );\n    }\n\n    return (\n      <div className={classNames('media-gallery__item', { standalone })} key={attachment.get('id')} style={{ left: left, top: top, right: right, bottom: bottom, width: `${width}%`, height: `${height}%` }}>\n        {thumbnail}\n      </div>\n    );\n  }\n\n}\n\n@injectIntl\nexport default class MediaGallery extends React.PureComponent {\n\n  static propTypes = {\n    sensitive: PropTypes.bool,\n    standalone: PropTypes.bool,\n    media: ImmutablePropTypes.list.isRequired,\n    size: PropTypes.object,\n    height: PropTypes.number.isRequired,\n    onOpenMedia: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n  };\n\n  static defaultProps = {\n    standalone: false,\n  };\n\n  state = {\n    visible: !this.props.sensitive || displaySensitiveMedia,\n  };\n\n  componentWillReceiveProps (nextProps) {\n    if (!is(nextProps.media, this.props.media)) {\n      this.setState({ visible: !nextProps.sensitive });\n    }\n  }\n\n  handleOpen = () => {\n    this.setState({ visible: !this.state.visible });\n  }\n\n  handleClick = (index) => {\n    this.props.onOpenMedia(this.props.media, index);\n  }\n\n  handleRef = (node) => {\n    if (node /*&& this.isStandaloneEligible()*/) {\n      // offsetWidth triggers a layout, so only calculate when we need to\n      this.setState({\n        width: node.offsetWidth,\n      });\n    }\n  }\n\n  isStandaloneEligible() {\n    const { media, standalone } = this.props;\n    return standalone && media.size === 1 && media.getIn([0, 'meta', 'small', 'aspect']);\n  }\n\n  render () {\n    const { media, intl, sensitive, height } = this.props;\n    const { width, visible } = this.state;\n\n    let children;\n\n    const style = {};\n\n    if (this.isStandaloneEligible()) {\n      if (width) {\n        style.height = width / this.props.media.getIn([0, 'meta', 'small', 'aspect']);\n      }\n    } else if (width) {\n      style.height = width / (16/9);\n    } else {\n      style.height = height;\n    }\n\n    if (!visible) {\n      let warning;\n\n      if (sensitive) {\n        warning = <FormattedMessage id='status.sensitive_warning' defaultMessage='Sensitive content' />;\n      } else {\n        warning = <FormattedMessage id='status.media_hidden' defaultMessage='Media hidden' />;\n      }\n\n      children = (\n        <button type='button' className='media-spoiler' onClick={this.handleOpen} style={style} ref={this.handleRef}>\n          <span className='media-spoiler__warning'>{warning}</span>\n          <span className='media-spoiler__trigger'><FormattedMessage id='status.sensitive_toggle' defaultMessage='Click to view' /></span>\n        </button>\n      );\n    } else {\n      const size = media.take(4).size;\n\n      if (this.isStandaloneEligible()) {\n        children = <Item standalone onClick={this.handleClick} attachment={media.get(0)} displayWidth={width} />;\n      } else {\n        children = media.take(4).map((attachment, i) => <Item key={attachment.get('id')} onClick={this.handleClick} attachment={attachment} index={i} size={size} displayWidth={width} />);\n      }\n    }\n\n    return (\n      <div className='media-gallery' style={style} ref={this.handleRef}>\n        <div className={classNames('spoiler-button', { 'spoiler-button--visible': visible })}>\n          <IconButton title={intl.formatMessage(messages.toggle_visible)} icon={visible ? 'eye' : 'eye-slash'} overlay onClick={this.handleOpen} />\n        </div>\n\n        {children}\n      </div>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/components/media_gallery.js","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/babel-runtime/helpers/objectWithoutProperties.js","import React, { PureComponent, Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { IntlProvider, addLocaleData } from 'react-intl';\nimport { getLocale } from 'mastodon/locales';\nimport MediaGallery from 'flavours/glitch/components/media_gallery';\nimport Video from 'flavours/glitch/features/video';\nimport Card from 'flavours/glitch/features/status/components/card';\nimport ModalRoot from 'flavours/glitch/components/modal_root';\nimport MediaModal from 'flavours/glitch/features/ui/components/media_modal';\nimport { List as ImmutableList, fromJS } from 'immutable';\n\nconst { localeData, messages } = getLocale();\naddLocaleData(localeData);\n\nconst MEDIA_COMPONENTS = { MediaGallery, Video, Card };\n\nexport default class MediaContainer extends PureComponent {\n\n  static propTypes = {\n    locale: PropTypes.string.isRequired,\n    components: PropTypes.object.isRequired,\n  };\n\n  state = {\n    media: null,\n    index: null,\n    time: null,\n  };\n\n  handleOpenMedia = (media, index) => {\n    document.body.classList.add('media-standalone__body');\n    this.setState({ media, index });\n  }\n\n  handleOpenVideo = (video, time) => {\n    const media = ImmutableList([video]);\n\n    document.body.classList.add('media-standalone__body');\n    this.setState({ media, time });\n  }\n\n  handleCloseMedia = () => {\n    document.body.classList.remove('media-standalone__body');\n    this.setState({ media: null, index: null, time: null });\n  }\n\n  render () {\n    const { locale, components } = this.props;\n\n    return (\n      <IntlProvider locale={locale} messages={messages}>\n        <Fragment>\n          {[].map.call(components, (component, i) => {\n            const componentName = component.getAttribute('data-component');\n            const Component = MEDIA_COMPONENTS[componentName];\n            const { media, card, ...props } = JSON.parse(component.getAttribute('data-props'));\n\n            Object.assign(props, {\n              ...(media ? { media: fromJS(media) } : {}),\n              ...(card  ? { card:  fromJS(card)  } : {}),\n\n              ...(componentName === 'Video' ? {\n                onOpenVideo: this.handleOpenVideo,\n              } : {\n                onOpenMedia: this.handleOpenMedia,\n              }),\n            });\n\n            return ReactDOM.createPortal(\n              <Component {...props} key={`media-${i}`} />,\n              component,\n            );\n          })}\n          <ModalRoot onClose={this.handleCloseMedia}>\n            {this.state.media && (\n              <MediaModal\n                media={this.state.media}\n                index={this.state.index || 0}\n                time={this.state.time}\n                onClose={this.handleCloseMedia}\n              />\n            )}\n          </ModalRoot>\n        </Fragment>\n      </IntlProvider>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/flavours/glitch/containers/media_container.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// adapted from https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\nvar detectPassiveEvents = {\n  update: function update() {\n    if (typeof window !== 'undefined' && typeof window.addEventListener === 'function') {\n      var passive = false;\n      var options = Object.defineProperty({}, 'passive', {\n        get: function get() {\n          passive = true;\n        }\n      });\n      // note: have to set and remove a no-op listener instead of null\n      // (which was used previously), becasue Edge v15 throws an error\n      // when providing a null callback.\n      // https://github.com/rafrex/detect-passive-events/pull/3\n      var noop = function noop() {};\n      window.addEventListener('testPassiveEventSupport', noop, options);\n      window.removeEventListener('testPassiveEventSupport', noop, options);\n      detectPassiveEvents.hasSupport = passive;\n    }\n  }\n};\n\ndetectPassiveEvents.update();\nexports.default = detectPassiveEvents;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/detect-passive-events/lib/index.js","import React, { PureComponent, Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { IntlProvider, addLocaleData } from 'react-intl';\nimport { getLocale } from '../locales';\nimport MediaGallery from '../components/media_gallery';\nimport Video from '../features/video';\nimport Card from '../features/status/components/card';\nimport ModalRoot from '../components/modal_root';\nimport MediaModal from '../features/ui/components/media_modal';\nimport { List as ImmutableList, fromJS } from 'immutable';\n\nconst { localeData, messages } = getLocale();\naddLocaleData(localeData);\n\nconst MEDIA_COMPONENTS = { MediaGallery, Video, Card };\n\nexport default class MediaContainer extends PureComponent {\n\n  static propTypes = {\n    locale: PropTypes.string.isRequired,\n    components: PropTypes.object.isRequired,\n  };\n\n  state = {\n    media: null,\n    index: null,\n    time: null,\n  };\n\n  handleOpenMedia = (media, index) => {\n    document.body.classList.add('media-standalone__body');\n    this.setState({ media, index });\n  }\n\n  handleOpenVideo = (video, time) => {\n    const media = ImmutableList([video]);\n\n    document.body.classList.add('media-standalone__body');\n    this.setState({ media, time });\n  }\n\n  handleCloseMedia = () => {\n    document.body.classList.remove('media-standalone__body');\n    this.setState({ media: null, index: null, time: null });\n  }\n\n  render () {\n    const { locale, components } = this.props;\n\n    return (\n      <IntlProvider locale={locale} messages={messages}>\n        <Fragment>\n          {[].map.call(components, (component, i) => {\n            const componentName = component.getAttribute('data-component');\n            const Component = MEDIA_COMPONENTS[componentName];\n            const { media, card, ...props } = JSON.parse(component.getAttribute('data-props'));\n\n            Object.assign(props, {\n              ...(media ? { media: fromJS(media) } : {}),\n              ...(card  ? { card:  fromJS(card)  } : {}),\n\n              ...(componentName === 'Video' ? {\n                onOpenVideo: this.handleOpenVideo,\n              } : {\n                onOpenMedia: this.handleOpenMedia,\n              }),\n            });\n\n            return ReactDOM.createPortal(\n              <Component {...props} key={`media-${i}`} />,\n              component,\n            );\n          })}\n          <ModalRoot onClose={this.handleCloseMedia}>\n            {this.state.media && (\n              <MediaModal\n                media={this.state.media}\n                index={this.state.index || 0}\n                time={this.state.time}\n                onClose={this.handleCloseMedia}\n              />\n            )}\n          </ModalRoot>\n        </Fragment>\n      </IntlProvider>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// app/javascript/mnt/gentoo/home/haelwenn/Sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/containers/media_container.js","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/lodash/_Symbol.js","module.exports = {};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/core-js/library/modules/_iterators.js"],"sourceRoot":""}